❯ ./build.sh
Found .env file in ../.vscode directory
Using existing buildx builder: jetson-builder
Do you want to build with cache? (y/n): n
Determining build order...
Starting build process...
--- Building Numbered Directories ---
Processing numbered directory: build/01-build-essential
Generating fixed tag: kairin/001:01-build-essential
Using default base image: kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu
Using base image build arg: kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu
--------------------------------------------------
Building and pushing image from folder: build/01-build-essential
Image Name: 01-build-essential
Platform: linux/arm64
Tag: kairin/001:01-build-essential
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:01-build-essential --build-arg BASE_IMAGE=kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu --push build/01-build-essential
[+] Building 31.7s (12/12) FINISHED                                          docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 1.88kB                                                                  0.0s
 => [internal] load metadata for docker.io/kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu                2.0s
 => [auth] kairin/001:pull token for registry-1.docker.io                                               0.0s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => CACHED [1/5] FROM docker.io/kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu@sha256:dde556a5bcbffea41  0.0s
 => => resolve docker.io/kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu@sha256:dde556a5bcbffea413d29bca  0.0s
 => [internal] load build context                                                                       0.0s
 => => transferring context: 55B                                                                        0.0s
 => [2/5] RUN touch /opt/list_app_checks.sh                                                             0.2s
 => [3/5] RUN set -ex     && apt-get update     && apt-get install -y --no-install-recommends          21.5s
 => [4/5] COPY tarpack vercmp /usr/local/bin/                                                           0.1s
 => [5/5] RUN echo "# Check for build tools" >> /tmp/build_checks.sh     && echo "check_cmd gcc 'gcc -  0.1s 
 => exporting to image                                                                                  7.5s 
 => => exporting layers                                                                                 0.4s 
 => => exporting manifest sha256:f3d2c7f3f9316d1a0634ebeeeda83cec29aa38bc6ce60318a88ff2eae96535a4       0.0s 
 => => exporting config sha256:599c38ac8980e5a4a858ad106155297c78e66a739fe3d94ebf9fb6b09d03ca16         0.0s 
 => => exporting attestation manifest sha256:dbd624d2d609eee600138a7d6be58a2fe5e08c978e5174a58c232b3b9  0.0s
 => => exporting manifest list sha256:1fea63bacdfd26fb58f3a03b5fdce1ca4b8a700be2ef044f94d9d3a36342e67d  0.0s
 => => pushing layers                                                                                   4.1s
 => => pushing manifest for docker.io/kairin/001:01-build-essential@sha256:1fea63bacdfd26fb58f3a03b5fd  2.8s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:01-build-essential
01-build-essential: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Pull complete 
7c1f0db80593: Pull complete 
ccaf155c94d4: Pull complete 
c9787964cc2a: Pull complete 
Digest: sha256:1fea63bacdfd26fb58f3a03b5fdce1ca4b8a700be2ef044f94d9d3a36342e67d
Status: Downloaded newer image for kairin/001:01-build-essential
docker.io/kairin/001:01-build-essential
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:01-build-essential exists locally after pull...
Image kairin/001:01-build-essential verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:01-build-essential
Processing numbered directory: build/01-cuda
Generating fixed tag: kairin/001:01-cuda
Using base image build arg: kairin/001:01-build-essential
--------------------------------------------------
Building and pushing image from folder: build/01-cuda
Image Name: 01-cuda
Platform: linux/arm64
Tag: kairin/001:01-cuda
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:01-cuda --build-arg BASE_IMAGE=kairin/001:01-build-essential --push build/01-cuda
[+] Building 19.7s (7/8)                                                     docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 1.44kB                                                                  0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid bas  0.0s
 => [internal] load metadata for docker.io/kairin/001:01-build-essential                                0.3s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => [internal] load build context                                                                       0.0s
 => => transferring context: 61B                                                                        0.0s
 => [1/5] FROM docker.io/kairin/001:01-build-essential@sha256:1fea63bacdfd26fb58f3a03b5fdce1ca4b8a700b  0.1s
 => => resolve docker.io/kairin/001:01-build-essential@sha256:1fea63bacdfd26fb58f3a03b5fdce1ca4b8a700b  0.0s
 => [2/5] COPY cuda/install.sh /tmp/cuda/install.sh                                                     0.1s
 => ERROR [3/5] RUN /tmp/cuda/install.sh                                                               19.1s
------                                                                                                       
 > [3/5] RUN /tmp/cuda/install.sh:                                                                           
0.120 ++ uname -m                                                                                            
0.122 + ARCH=aarch64                                                                                         
0.122 + ARCH_TYPE=aarch64                                                                                    
0.122 + [[ aarch64 == \a\a\r\c\h\6\4 ]]                                                                      
0.122 + uname -a
0.123 + grep -qi tegra
0.127 + ARCH_TYPE=tegra-aarch64
0.127 Detected architecture: tegra-aarch64
0.127 + echo 'Detected architecture: tegra-aarch64'
0.127 + apt-get update
0.498 Get:1 http://ports.ubuntu.com/ubuntu-ports noble InRelease [256 kB]
1.353 Get:2 http://ports.ubuntu.com/ubuntu-ports noble-updates InRelease [126 kB]
1.565 Get:3 http://ports.ubuntu.com/ubuntu-ports noble-backports InRelease [126 kB]
1.777 Get:4 http://ports.ubuntu.com/ubuntu-ports noble-security InRelease [126 kB]
1.993 Get:5 http://ports.ubuntu.com/ubuntu-ports noble/universe arm64 Packages [19.0 MB]
3.481 Get:6 http://ports.ubuntu.com/ubuntu-ports noble/restricted arm64 Packages [113 kB]
3.482 Get:7 http://ports.ubuntu.com/ubuntu-ports noble/multiverse arm64 Packages [274 kB]
3.482 Get:8 http://ports.ubuntu.com/ubuntu-ports noble/main arm64 Packages [1,776 kB]
3.570 Get:9 http://ports.ubuntu.com/ubuntu-ports noble-updates/main arm64 Packages [1,297 kB]
3.636 Get:10 http://ports.ubuntu.com/ubuntu-ports noble-updates/multiverse arm64 Packages [20.9 kB]
3.637 Get:11 http://ports.ubuntu.com/ubuntu-ports noble-updates/universe arm64 Packages [1,332 kB]
4.029 Get:12 http://ports.ubuntu.com/ubuntu-ports noble-updates/restricted arm64 Packages [1,414 kB]
5.311 Get:13 http://ports.ubuntu.com/ubuntu-ports noble-backports/universe arm64 Packages [31.8 kB]
5.313 Get:14 http://ports.ubuntu.com/ubuntu-ports noble-backports/main arm64 Packages [48.0 kB]
5.317 Get:15 http://ports.ubuntu.com/ubuntu-ports noble-security/main arm64 Packages [948 kB]
5.789 Get:16 http://ports.ubuntu.com/ubuntu-ports noble-security/multiverse arm64 Packages [19.0 kB]
5.790 Get:17 http://ports.ubuntu.com/ubuntu-ports noble-security/restricted arm64 Packages [1,269 kB]
6.107 Get:18 http://ports.ubuntu.com/ubuntu-ports noble-security/universe arm64 Packages [1,041 kB]
6.381 Fetched 29.2 MB in 6s (4,722 kB/s)
6.381 Reading package lists...
7.831 + apt-get install -y --no-install-recommends binutils xz-utils
7.842 Reading package lists...
9.241 Building dependency tree...
9.678 Reading state information...
10.49 xz-utils is already the newest version (5.6.1+really5.4.5-1ubuntu0.2).
10.49 xz-utils set to manually installed.
10.49 The following additional packages will be installed:
10.49   binutils-aarch64-linux-gnu binutils-common libbinutils libctf-nobfd0 libctf0
10.49   libgprofng0 libsframe1
10.49 Suggested packages:
10.49   binutils-doc gprofng-gui
10.56 The following packages will be upgraded:
10.56   binutils binutils-aarch64-linux-gnu binutils-common libbinutils
10.56   libctf-nobfd0 libctf0 libgprofng0 libsframe1
10.96 8 upgraded, 0 newly installed, 0 to remove and 25 not upgraded.
10.96 Need to get 5,319 kB of archives.
10.96 After this operation, 0 B of additional disk space will be used.
10.96 Get:1 http://ports.ubuntu.com/ubuntu-ports noble-updates/main arm64 libgprofng0 arm64 2.42-4ubuntu2.5 [776 kB]
12.09 Get:2 http://ports.ubuntu.com/ubuntu-ports noble-updates/main arm64 libctf0 arm64 2.42-4ubuntu2.5 [95.7 kB]
12.10 Get:3 http://ports.ubuntu.com/ubuntu-ports noble-updates/main arm64 libctf-nobfd0 arm64 2.42-4ubuntu2.5 [101 kB]
12.12 Get:4 http://ports.ubuntu.com/ubuntu-ports noble-updates/main arm64 binutils-aarch64-linux-gnu arm64 2.42-4ubuntu2.5 [3,304 kB]
12.80 Get:5 http://ports.ubuntu.com/ubuntu-ports noble-updates/main arm64 libbinutils arm64 2.42-4ubuntu2.5 [769 kB]
12.89 Get:6 http://ports.ubuntu.com/ubuntu-ports noble-updates/main arm64 binutils arm64 2.42-4ubuntu2.5 [18.1 kB]
12.89 Get:7 http://ports.ubuntu.com/ubuntu-ports noble-updates/main arm64 binutils-common arm64 2.42-4ubuntu2.5 [240 kB]
12.90 Get:8 http://ports.ubuntu.com/ubuntu-ports noble-updates/main arm64 libsframe1 arm64 2.42-4ubuntu2.5 [15.1 kB]
14.80 Fetched 5,319 kB in 2s (2,306 kB/s)
(Reading database ... 61985 files and directories currently installed.)
15.11 Preparing to unpack .../0-libgprofng0_2.42-4ubuntu2.5_arm64.deb ...
15.14 Unpacking libgprofng0:arm64 (2.42-4ubuntu2.5) over (2.42-4ubuntu2.4) ...
15.29 Preparing to unpack .../1-libctf0_2.42-4ubuntu2.5_arm64.deb ...
15.31 Unpacking libctf0:arm64 (2.42-4ubuntu2.5) over (2.42-4ubuntu2.4) ...
15.40 Preparing to unpack .../2-libctf-nobfd0_2.42-4ubuntu2.5_arm64.deb ...
15.42 Unpacking libctf-nobfd0:arm64 (2.42-4ubuntu2.5) over (2.42-4ubuntu2.4) ...
15.51 Preparing to unpack .../3-binutils-aarch64-linux-gnu_2.42-4ubuntu2.5_arm64.deb ...
15.53 Unpacking binutils-aarch64-linux-gnu (2.42-4ubuntu2.5) over (2.42-4ubuntu2.4) ...
17.06 Preparing to unpack .../4-libbinutils_2.42-4ubuntu2.5_arm64.deb ...
17.08 Unpacking libbinutils:arm64 (2.42-4ubuntu2.5) over (2.42-4ubuntu2.4) ...
17.21 Preparing to unpack .../5-binutils_2.42-4ubuntu2.5_arm64.deb ...
17.23 Unpacking binutils (2.42-4ubuntu2.5) over (2.42-4ubuntu2.4) ...
17.34 Preparing to unpack .../6-binutils-common_2.42-4ubuntu2.5_arm64.deb ...
17.36 Unpacking binutils-common:arm64 (2.42-4ubuntu2.5) over (2.42-4ubuntu2.4) ...
17.46 Preparing to unpack .../7-libsframe1_2.42-4ubuntu2.5_arm64.deb ...
17.48 Unpacking libsframe1:arm64 (2.42-4ubuntu2.5) over (2.42-4ubuntu2.4) ...
17.59 Setting up binutils-common:arm64 (2.42-4ubuntu2.5) ...
17.62 Setting up libctf-nobfd0:arm64 (2.42-4ubuntu2.5) ...
17.64 Setting up libsframe1:arm64 (2.42-4ubuntu2.5) ...
17.65 Setting up libbinutils:arm64 (2.42-4ubuntu2.5) ...
17.67 Setting up libctf0:arm64 (2.42-4ubuntu2.5) ...
17.69 Setting up libgprofng0:arm64 (2.42-4ubuntu2.5) ...
17.71 Setting up binutils-aarch64-linux-gnu (2.42-4ubuntu2.5) ...
17.73 Setting up binutils (2.42-4ubuntu2.5) ...
17.75 Processing triggers for libc-bin (2.39-0ubuntu8.4) ...
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libsensors.hal-client.nvs.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvddk_2d_v2.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-ptxjitcompiler.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libvulkansc.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvomx.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvgov_spincircle.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmm.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvid_mapper.so.1.0.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-nvvm.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvvic.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvfnetstorehdfx.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvpva.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmmlite.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia_ide_parser.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia2d.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libVkSCLayer_khronos_validation.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmm_contentpipe.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvrm_mem.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvtracebuf.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia_eglstream.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmmlite_image.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvrm_stream.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia_ijpe_sci.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-glcore.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvgov_il.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvpvaumd.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvscievent.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libVkLayer_json_gen.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvddk_vic.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-cursor.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvosd.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvrm_host1x.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libgstnvdsseimeta.so.1.0.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvphsd.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-vksc-core.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnveventlib.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-allocator.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvv4lconvert.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvjpeg.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvcam_imageencoder.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-tls.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvphs.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvimp.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-server.so.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmm_parser.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvscistream.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-server.so.0.22.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia_2d.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvomxilclient.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvfusacap.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvplayfair.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvodm_imager.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvfnet.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvfusacapinterface.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvargus.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedialdc.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-server.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libcuda.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvid_mapper.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvisppg.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-vksc-core.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia_dla.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libGLX_indirect.so.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvdsbufferpool.so.1.0.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libv4l2_nvargus.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-client.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvdecode2eglimage.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-egl.so.1.22.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnveglstreamproducer.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvdc.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvtegrahv.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-egl.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-egl-wayland.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvscicommon.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvgov_boot.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvv4l2.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-allocator.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvscibuf.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmmlite_video.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvscf.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-egl-gbm.so.1.1.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvscisync.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libjetsonpower.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvpva_algorithms.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvoggopus.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia_ide_sci.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvvideoencode_ppe.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvgov_generic.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libgstnvcustomhelper.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvvideo.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvexif.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-egl.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvdsbufferpool.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvbufsurface.so.1.0.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvrm_surface.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libgstnvcustomhelper.so.1.0.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvbuf_fdmap.so.1.0.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvcamlog.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvtvmr_2d.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvisp.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvdla_runtime.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-glvkspirv.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvcolorutil.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvparser.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvrm_gpu.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvbufsurface.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-vksc-core.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia_ijpd_sci.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-ml.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvgov_force.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia_isp_ext.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmmlite_utils.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvsciipc.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-rmapi-tegra.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libtegrav4l2.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvsocsys.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvcameratools.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-kms.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libvulkansc.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libv4l2.so.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia_iofa_sci.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-glsi.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvargus_socketclient.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libv4lconvert.so.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-client.so.0.22.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvgov_graphics.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-eglcore.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvgov_ui.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvgov_tbc.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvcudla.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvcamv4l2.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvtvmr.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-nvvm.so.4 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libvulkansc.so.1.0.10 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-ptxjitcompiler.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvscistream.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvscibuf.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmm_utils.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvdla_compiler.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvcapture.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvcuvidv4l2.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvofsdk.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvcucompat.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvscisync.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvgov_gpucompute.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvargus_socketserver.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libtegrawfd.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libsensors.l4t.no_fusion.nvs.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libcuda.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/ld.so.conf is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvrm_chip.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libcuda.so.1.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libsensors_hal.nvs.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libGLX_nvidia.so.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libgstnvdsseimeta.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-egl-wayland.so.1.1.11 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvscicommon.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-client.so.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia_iep_sci.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvfnetstoredefog.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvos.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvrm_sync.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-rtcore.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvpvaintf.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libv4l2_nvcuvidvideocodec.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvisp_utils.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-cursor.so.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvmedia_tensor.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-egl-gbm.so.1 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvbufsurftransform.so.1.0.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-kms.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libv4l2_nvvideocodec.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvidia-gpucomp.so.540.4.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvgov_camera.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvcamerautils.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libwayland-cursor.so.0.22.0 is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/libnvbufsurftransform.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvegltransform.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvjpeg.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvarguscamerasrc.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvvideosinks.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvcompositor.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnveglstreamsrc.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvv4l2camerasrc.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvvideosink.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvdrmvideosink.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvvidconv.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvtee.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnveglglessink.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvipcpipeline.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvivafilter.so is empty, not checked.
17.80 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvvideo4linux2.so is empty, not checked.
17.81 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/gstreamer-1.0/libgstnvunixfd.so is empty, not checked.
18.02 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libgstnvivameta.so is empty, not checked.
18.05 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libv4lconvert.so is empty, not checked.
18.19 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libv4l2.so is empty, not checked.
18.24 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libgstnvegl-1.0.so.0 is empty, not checked.
18.28 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libgstnvexifmeta.so is empty, not checked.
18.30 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libv4l2.so.0 is empty, not checked.
18.31 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libv4l2.so.0.0.999999 is empty, not checked.
18.31 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libv4lconvert.so.0 is empty, not checked.
18.32 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libnvcudla.so is empty, not checked.
18.34 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libnvcucompat.so is empty, not checked.
18.35 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libcuda.so is empty, not checked.
18.36 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libnvsample_cudaprocess.so is empty, not checked.
18.37 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/libv4lconvert.so.0.0.999999 is empty, not checked.
18.39 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/weston-13.0/libilmCommon.so.2.3.2 is empty, not checked.
18.39 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/weston-13.0/libweston-13.so.0 is empty, not checked.
18.39 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/weston-13.0/libilmInput.so.2.3.2 is empty, not checked.
18.39 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/weston-13.0/libilmControl.so.2.3.2 is empty, not checked.
18.39 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/nvidia/weston-13.0/libilmClient.so.2.3.2 is empty, not checked.
18.39 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/tegra-egl/libGLESv1_CM_nvidia.so.1 is empty, not checked.
18.39 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/tegra-egl/libEGL_nvidia.so.0 is empty, not checked.
18.39 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/tegra-egl/ld.so.conf is empty, not checked.
18.39 /sbin/ldconfig.real: File /usr/lib/aarch64-linux-gnu/tegra-egl/libGLESv2_nvidia.so.2 is empty, not checked.
18.64 + rm -rf /var/lib/apt/lists/auxfiles /var/lib/apt/lists/lock /var/lib/apt/lists/partial /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-backports_InRelease /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-backports_main_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-backports_universe_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble_InRelease /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble_main_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble_multiverse_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble_restricted_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-security_InRelease /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-security_main_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-security_multiverse_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-security_restricted_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-security_universe_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble_universe_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-updates_InRelease /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-updates_main_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-updates_multiverse_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-updates_restricted_binary-arm64_Packages.lz4 /var/lib/apt/lists/ports.ubuntu.com_ubuntu-ports_dists_noble-updates_universe_binary-arm64_Packages.lz4
18.66 + apt-get clean
18.67 + echo 'Downloading '
18.67 + mkdir -p /tmp/cuda
18.67 Downloading 
18.67 + cd /tmp/cuda
18.67 + [[ tegra-aarch64 == \t\e\g\r\a\-\a\a\r\c\h\6\4 ]]
18.67 + wget --quiet --show-progress --progress=bar:force:noscroll https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/arm64/cuda-ubuntu2004.pin -O /etc/apt/preferences.d/cuda-repository-pin-600
------

 2 warnings found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 8)
 - UndefinedVar: Usage of undefined variable '$LD_LIBRARY_PATH' (line 22)
Dockerfile:17
--------------------
  15 |         
  16 |     COPY cuda/install.sh /tmp/cuda/install.sh
  17 | >>> RUN /tmp/cuda/install.sh
  18 |     
  19 |     ENV CUDA_HOME="/usr/local/cuda"
--------------------
ERROR: failed to solve: process "/bin/sh -c /tmp/cuda/install.sh" did not complete successfully: exit code: 4
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:01-cuda
Error response from daemon: manifest for kairin/001:01-cuda not found: manifest unknown: manifest unknown
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:01-cuda exists locally after pull...
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Error: Image kairin/001:01-cuda NOT found locally immediately after successful 'docker pull'.
This indicates a potential issue with the Docker daemon or registry synchronization.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Build, push or pull failed for build/01-cuda. Subsequent dependent builds might fail.
Build process for build/01-cuda exited with code 1
Continuing with next build...
Processing numbered directory: build/02-bazel
Generating fixed tag: kairin/001:02-bazel
Using base image build arg: kairin/001:01-build-essential
--------------------------------------------------
Building and pushing image from folder: build/02-bazel
Image Name: 02-bazel
Platform: linux/arm64
Tag: kairin/001:02-bazel
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:02-bazel --build-arg BASE_IMAGE=kairin/001:01-build-essential --push build/02-bazel
[+] Building 24.6s (8/8) FINISHED                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 1.41kB                                                                  0.0s
 => [internal] load metadata for docker.io/kairin/001:01-build-essential                                0.8s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => CACHED [1/3] FROM docker.io/kairin/001:01-build-essential@sha256:1fea63bacdfd26fb58f3a03b5fdce1ca4  0.0s
 => => resolve docker.io/kairin/001:01-build-essential@sha256:1fea63bacdfd26fb58f3a03b5fdce1ca4b8a700b  0.0s
 => [2/3] RUN BAZELISK_RELEASE=$(wget -qO- https://api.github.com/repos/bazelbuild/bazelisk/releases/l  1.7s
 => [3/3] RUN bazel --version                                                                           6.8s
 => exporting to image                                                                                 15.0s 
 => => exporting layers                                                                                 3.1s 
 => => exporting manifest sha256:486b88a2b47d44a51335c8035fd67aa51b9da60ef60a61338436540b159c2e36       0.0s 
 => => exporting config sha256:c3c94dbe169b86d721659bddb7b9174701b43a6c9eb43c70e99ea442759d876f         0.0s
 => => exporting attestation manifest sha256:cf16ae744d3d6fdfa7783082ca22f36e05de5953c70815556878b1eb3  0.0s
 => => exporting manifest list sha256:a81b18d307078eab1c8b01d9033b7e437572c13111169adb52ba05e9be9c04fd  0.0s
 => => pushing layers                                                                                   9.1s
 => => pushing manifest for docker.io/kairin/001:02-bazel@sha256:a81b18d307078eab1c8b01d9033b7e437572c  2.6s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:02-bazel
02-bazel: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Pull complete 
caa744c239b1: Pull complete 
Digest: sha256:a81b18d307078eab1c8b01d9033b7e437572c13111169adb52ba05e9be9c04fd
Status: Downloaded newer image for kairin/001:02-bazel
docker.io/kairin/001:02-bazel
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:02-bazel exists locally after pull...
Image kairin/001:02-bazel verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:02-bazel
Processing numbered directory: build/03-ninja
Generating fixed tag: kairin/001:03-ninja
Using base image build arg: kairin/001:02-bazel
--------------------------------------------------
Building and pushing image from folder: build/03-ninja
Image Name: 03-ninja
Platform: linux/arm64
Tag: kairin/001:03-ninja
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:03-ninja --build-arg BASE_IMAGE=kairin/001:02-bazel --push build/03-ninja
[+] Building 38.6s (8/8) FINISHED                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 1.07kB                                                                  0.0s
 => [internal] load metadata for docker.io/kairin/001:02-bazel                                          1.0s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => [1/3] FROM docker.io/kairin/001:02-bazel@sha256:a81b18d307078eab1c8b01d9033b7e437572c13111169adb52  0.1s
 => => resolve docker.io/kairin/001:02-bazel@sha256:a81b18d307078eab1c8b01d9033b7e437572c13111169adb52  0.0s
 => [2/3] RUN apt-get update &&     apt-get install -y --no-install-recommends     unzip wget curl jq  13.7s
 => [3/3] RUN LATEST_VERSION=$(curl -s https://api.github.com/repos/ninja-build/ninja/releases/latest   8.6s 
 => exporting to image                                                                                 15.1s 
 => => exporting layers                                                                                 3.2s 
 => => exporting manifest sha256:27cedb6ec828e0852db59547e79884f94b400e6c0ba275a19b48cc53b39635df       0.0s 
 => => exporting config sha256:b7b72e8f3f22fdeb63c2f2ea9b6b3e7a18ac8ce550ca8af0b723670a3066ceee         0.0s 
 => => exporting attestation manifest sha256:31510b31587ec53fe1e3d3b213f6328986e48b2e91339c5733f780c0d  0.0s 
 => => exporting manifest list sha256:e7a9d2cc78e9dc1ebe6f991fbd915b7d2b13033b1e92463caf2f05359290f98a  0.0s 
 => => pushing layers                                                                                   9.0s
 => => pushing manifest for docker.io/kairin/001:03-ninja@sha256:e7a9d2cc78e9dc1ebe6f991fbd915b7d2b130  2.7s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:03-ninja
03-ninja: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Already exists 
caa744c239b1: Already exists 
440d786fa707: Pull complete 
22e6c6b1e5ca: Pull complete 
Digest: sha256:e7a9d2cc78e9dc1ebe6f991fbd915b7d2b13033b1e92463caf2f05359290f98a
Status: Downloaded newer image for kairin/001:03-ninja
docker.io/kairin/001:03-ninja
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:03-ninja exists locally after pull...
Image kairin/001:03-ninja verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:03-ninja
Processing numbered directory: build/04-python
Generating fixed tag: kairin/001:04-python
Using base image build arg: kairin/001:03-ninja
--------------------------------------------------
Building and pushing image from folder: build/04-python
Image Name: 04-python
Platform: linux/arm64
Tag: kairin/001:04-python
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:04-python --build-arg BASE_IMAGE=kairin/001:03-ninja --push build/04-python
[+] Building 43.5s (9/9) FINISHED                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 1.22kB                                                                  0.0s
 => [internal] load metadata for docker.io/kairin/001:03-ninja                                          0.3s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => [internal] load build context                                                                       0.0s
 => => transferring context: 32B                                                                        0.0s
 => [1/3] FROM docker.io/kairin/001:03-ninja@sha256:e7a9d2cc78e9dc1ebe6f991fbd915b7d2b13033b1e92463caf  0.2s
 => => resolve docker.io/kairin/001:03-ninja@sha256:e7a9d2cc78e9dc1ebe6f991fbd915b7d2b13033b1e92463caf  0.0s
 => [2/3] COPY install.sh /tmp/install_python.sh                                                        0.1s
 => [3/3] RUN /tmp/install_python.sh                                                                   33.6s
 => exporting to image                                                                                  9.1s 
 => => exporting layers                                                                                 1.4s 
 => => exporting manifest sha256:aa104ac440db495e55a64e0002fd874fb79800b7f7d96b275913f79b6b945da8       0.0s 
 => => exporting config sha256:c2aa1b7998578bb32ef3f832aacf25965eccc2a48876d17667366b16fe805d1e         0.0s 
 => => exporting attestation manifest sha256:8ea657146860ed1cbfd5f499fb76c69064359e492da14fcab85eb8c4c  0.0s 
 => => exporting manifest list sha256:fed4f389ef6ff084acdd983574e6eb33eb19d93e075cb1695ebb0e9b843fd774  0.0s 
 => => pushing layers                                                                                   4.8s
 => => pushing manifest for docker.io/kairin/001:04-python@sha256:fed4f389ef6ff084acdd983574e6eb33eb19  2.7s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:04-python
04-python: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Already exists 
caa744c239b1: Already exists 
440d786fa707: Already exists 
22e6c6b1e5ca: Already exists 
3316f570d7c1: Pull complete 
9aaad537058b: Pull complete 
Digest: sha256:fed4f389ef6ff084acdd983574e6eb33eb19d93e075cb1695ebb0e9b843fd774
Status: Downloaded newer image for kairin/001:04-python
docker.io/kairin/001:04-python
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:04-python exists locally after pull...
Image kairin/001:04-python verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:04-python
Processing numbered directory: build/05-h5py
Generating fixed tag: kairin/001:05-h5py
Using base image build arg: kairin/001:04-python
--------------------------------------------------
Building and pushing image from folder: build/05-h5py
Image Name: 05-h5py
Platform: linux/arm64
Tag: kairin/001:05-h5py
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:05-h5py --build-arg BASE_IMAGE=kairin/001:04-python --push build/05-h5py
[+] Building 19.4s (7/7) FINISHED                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 1.06kB                                                                  0.0s
 => [internal] load metadata for docker.io/kairin/001:04-python                                         0.3s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => [1/2] FROM docker.io/kairin/001:04-python@sha256:fed4f389ef6ff084acdd983574e6eb33eb19d93e075cb1695  0.1s
 => => resolve docker.io/kairin/001:04-python@sha256:fed4f389ef6ff084acdd983574e6eb33eb19d93e075cb1695  0.0s
 => [2/2] RUN set -ex &&     apt-get update &&     apt-get install -y --no-install-recommends          12.3s
 => exporting to image                                                                                  6.4s 
 => => exporting layers                                                                                 0.2s 
 => => exporting manifest sha256:16db5fc2f18d9f81590132fb17a6fbda22aab4b1894949e4be8c8ff7bb3cdff3       0.0s 
 => => exporting config sha256:24183abfcec44f167fc250c3ea3abdb369febf25ed085f49a2a42980f47fc3af         0.0s 
 => => exporting attestation manifest sha256:f9f75875b06ef7dca4f0556ebfc5d5fa20992541d83a70aa9d41c04b5  0.0s 
 => => exporting manifest list sha256:9cf748572c17d0292fc43f2195963a82200413a1b85520e8382e172741efc8d0  0.0s 
 => => pushing layers                                                                                   3.5s
 => => pushing manifest for docker.io/kairin/001:05-h5py@sha256:9cf748572c17d0292fc43f2195963a82200413  2.7s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:05-h5py
05-h5py: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Already exists 
caa744c239b1: Already exists 
440d786fa707: Already exists 
22e6c6b1e5ca: Already exists 
3316f570d7c1: Already exists 
9aaad537058b: Already exists 
85ec344661f1: Pull complete 
Digest: sha256:9cf748572c17d0292fc43f2195963a82200413a1b85520e8382e172741efc8d0
Status: Downloaded newer image for kairin/001:05-h5py
docker.io/kairin/001:05-h5py
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:05-h5py exists locally after pull...
Image kairin/001:05-h5py verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:05-h5py
Processing numbered directory: build/06-rust
Generating fixed tag: kairin/001:06-rust
Using base image build arg: kairin/001:05-h5py
--------------------------------------------------
Building and pushing image from folder: build/06-rust
Image Name: 06-rust
Platform: linux/arm64
Tag: kairin/001:06-rust
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:06-rust --build-arg BASE_IMAGE=kairin/001:05-h5py --push build/06-rust
[+] Building 19.9s (8/8) FINISHED                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 642B                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:05-h5py                                           0.3s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => [1/3] FROM docker.io/kairin/001:05-h5py@sha256:9cf748572c17d0292fc43f2195963a82200413a1b85520e8382  0.2s
 => => resolve docker.io/kairin/001:05-h5py@sha256:9cf748572c17d0292fc43f2195963a82200413a1b85520e8382  0.0s
 => [2/3] RUN curl https://sh.rustup.rs -sSf | sh -s -- -y                                              6.9s
 => [3/3] RUN rustc --version &&     pip3 install setuptools-rust                                       1.8s 
 => exporting to image                                                                                 10.0s 
 => => exporting layers                                                                                 1.1s 
 => => exporting manifest sha256:51b01cd83696ebf38ee7143ced0db524698cb0057f7e9897eb82bce713f1fde6       0.0s 
 => => exporting config sha256:3298b440eb3928dd357e28cd3a2990e0b34efb89cf90ca20dedc13a3a8c7ff9f         0.0s 
 => => exporting attestation manifest sha256:ccab0b84285560abaf340148c8faf081acee77d1ad2e7b5c6e04975df  0.0s 
 => => exporting manifest list sha256:633bf94456cac57ead85ce60cea14a32dcb76d9081b76b8a6b370e017246d50f  0.0s 
 => => pushing layers                                                                                   6.0s
 => => pushing manifest for docker.io/kairin/001:06-rust@sha256:633bf94456cac57ead85ce60cea14a32dcb76d  2.8s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:06-rust
06-rust: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Pull complete 
caa744c239b1: Already exists 
440d786fa707: Already exists 
22e6c6b1e5ca: Already exists 
3316f570d7c1: Already exists 
9aaad537058b: Already exists 
85ec344661f1: Already exists 
06e88f9aa245: Pull complete 
Digest: sha256:633bf94456cac57ead85ce60cea14a32dcb76d9081b76b8a6b370e017246d50f
Status: Downloaded newer image for kairin/001:06-rust
docker.io/kairin/001:06-rust
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:06-rust exists locally after pull...
Image kairin/001:06-rust verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:06-rust
Processing numbered directory: build/07-protobuf_apt
Generating fixed tag: kairin/001:07-protobuf_apt
Using base image build arg: kairin/001:06-rust
--------------------------------------------------
Building and pushing image from folder: build/07-protobuf_apt
Image Name: 07-protobuf_apt
Platform: linux/arm64
Tag: kairin/001:07-protobuf_apt
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:07-protobuf_apt --build-arg BASE_IMAGE=kairin/001:06-rust --push build/07-protobuf_apt
[+] Building 14.7s (7/7) FINISHED                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 917B                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:06-rust                                           0.3s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => [1/2] FROM docker.io/kairin/001:06-rust@sha256:633bf94456cac57ead85ce60cea14a32dcb76d9081b76b8a6b3  0.7s
 => => resolve docker.io/kairin/001:06-rust@sha256:633bf94456cac57ead85ce60cea14a32dcb76d9081b76b8a6b3  0.1s
 => [2/2] RUN if [ -z "$(which protoc)" ]; then         apt-get update;     apt-get install -y --no-in  0.3s
 => exporting to image                                                                                 12.4s
 => => exporting layers                                                                                 0.9s
 => => exporting manifest sha256:6d14dbf6810736fa693aa77e99f04e047ea408ce5519751f8fcff05af6f464a6       0.1s
 => => exporting config sha256:f4aec2d51ebffa27b60dddcfef580c11852782805df18149061ee6db1f741774         0.1s
 => => exporting attestation manifest sha256:07ed7c37312b956feb15dc2be7f78ea38eb67c4b4d4810d06799b04be  0.2s
 => => exporting manifest list sha256:435dacd7be98e53fd2fb251c761e90daaab04b93e567cece417c8e9da78001b1  0.1s
 => => pushing layers                                                                                   7.3s
 => => pushing manifest for docker.io/kairin/001:07-protobuf_apt@sha256:435dacd7be98e53fd2fb251c761e90  3.5s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:07-protobuf_apt
07-protobuf_apt: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Pull complete 
caa744c239b1: Already exists 
440d786fa707: Already exists 
22e6c6b1e5ca: Already exists 
3316f570d7c1: Already exists 
9aaad537058b: Already exists 
85ec344661f1: Already exists 
06e88f9aa245: Already exists 
Digest: sha256:435dacd7be98e53fd2fb251c761e90daaab04b93e567cece417c8e9da78001b1
Status: Downloaded newer image for kairin/001:07-protobuf_apt
docker.io/kairin/001:07-protobuf_apt
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:07-protobuf_apt exists locally after pull...
Image kairin/001:07-protobuf_apt verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:07-protobuf_apt
Processing numbered directory: build/08-protobuf_cpp
Generating fixed tag: kairin/001:08-protobuf_cpp
Using base image build arg: kairin/001:07-protobuf_apt
--------------------------------------------------
Building and pushing image from folder: build/08-protobuf_cpp
Image Name: 08-protobuf_cpp
Platform: linux/arm64
Tag: kairin/001:08-protobuf_cpp
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:08-protobuf_cpp --build-arg BASE_IMAGE=kairin/001:07-protobuf_apt --push build/08-protobuf_cpp
[+] Building 33.5s (8/8) FINISHED                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.1s
 => => transferring dockerfile: 769B                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:07-protobuf_apt                                   1.0s
 => [internal] load .dockerignore                                                                       0.1s
 => => transferring context: 2B                                                                         0.0s
 => [1/3] FROM docker.io/kairin/001:07-protobuf_apt@sha256:435dacd7be98e53fd2fb251c761e90daaab04b93e56  0.8s
 => => resolve docker.io/kairin/001:07-protobuf_apt@sha256:435dacd7be98e53fd2fb251c761e90daaab04b93e56  0.1s
 => [2/3] RUN apt-get update && apt-get install -y --no-install-recommends python3-pip                 10.7s
 => [3/3] RUN pip install --upgrade protobuf                                                            3.4s 
 => exporting to image                                                                                 16.6s 
 => => exporting layers                                                                                 3.7s 
 => => exporting manifest sha256:0410a9f8ce53f51cf935b58c3c118c9cf9c0b30b429ec880e2529aa83b14ceaf       0.1s 
 => => exporting config sha256:0ec00e8f8b7fb3313af19b66bb53ee20d41a36e3d96163b817b43697c258ba00         0.1s 
 => => exporting attestation manifest sha256:df29540d52989ea3e9d005f8a384a63351d3cee13d4d41b9c58dfb2e3  0.2s 
 => => exporting manifest list sha256:5c30251a945c9ae3a6e91c4af3bc5cf19807e3e2bdc3d986c91d178b0c024683  0.1s 
 => => pushing layers                                                                                   9.4s
 => => pushing manifest for docker.io/kairin/001:08-protobuf_cpp@sha256:5c30251a945c9ae3a6e91c4af3bc5c  2.7s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:08-protobuf_cpp
08-protobuf_cpp: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Already exists 
caa744c239b1: Already exists 
440d786fa707: Already exists 
22e6c6b1e5ca: Already exists 
3316f570d7c1: Already exists 
9aaad537058b: Already exists 
85ec344661f1: Already exists 
06e88f9aa245: Already exists 
e95db1b2c22b: Pull complete 
47c61fd16f94: Pull complete 
Digest: sha256:5c30251a945c9ae3a6e91c4af3bc5cf19807e3e2bdc3d986c91d178b0c024683
Status: Downloaded newer image for kairin/001:08-protobuf_cpp
docker.io/kairin/001:08-protobuf_cpp
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:08-protobuf_cpp exists locally after pull...
Image kairin/001:08-protobuf_cpp verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:08-protobuf_cpp
Processing numbered directory: build/09-opencv
Generating fixed tag: kairin/001:09-opencv
Using base image build arg: kairin/001:08-protobuf_cpp
--------------------------------------------------
Building and pushing image from folder: build/09-opencv
Image Name: 09-opencv
Platform: linux/arm64
Tag: kairin/001:09-opencv
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:09-opencv --build-arg BASE_IMAGE=kairin/001:08-protobuf_cpp --push build/09-opencv
[+] Building 45.2s (10/10) FINISHED                                          docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.1s
 => => transferring dockerfile: 1.39kB                                                                  0.0s
 => [internal] load metadata for docker.io/kairin/001:08-protobuf_cpp                                   1.3s
 => [auth] kairin/001:pull token for registry-1.docker.io                                               0.0s
 => [internal] load .dockerignore                                                                       0.1s
 => => transferring context: 2B                                                                         0.0s
 => [internal] load build context                                                                       0.1s
 => => transferring context: 11.96kB                                                                    0.0s
 => [1/3] FROM docker.io/kairin/001:08-protobuf_cpp@sha256:5c30251a945c9ae3a6e91c4af3bc5cf19807e3e2bdc  1.1s
 => => resolve docker.io/kairin/001:08-protobuf_cpp@sha256:5c30251a945c9ae3a6e91c4af3bc5cf19807e3e2bdc  0.1s
 => [2/3] COPY build.sh install.sh install_deps.sh install_deb.sh patches.diff /tmp/opencv/             0.4s
 => [3/3] RUN cd /tmp/opencv &&     (./install.sh || ./build.sh || (echo "BUILD FAILED (OpenCV )" &&   32.4s
 => exporting to image                                                                                  9.6s
 => => exporting layers                                                                                 1.7s
 => => exporting manifest sha256:bed1bf0f2f4ab602cc8b27d68879d352b8314ef6357853b59cb4e1e442a2386e       0.0s 
 => => exporting config sha256:1557ffc5a3c0b8f78fb699405ed8455f7673afc140bcb5f136c58ac9cba7e9c7         0.0s 
 => => exporting attestation manifest sha256:f5047fe8e7c93ba715150cfdc3dd9a474ff714772913ef61729202b93  0.0s 
 => => exporting manifest list sha256:f0b610fc3ebb07ad55a2abdc518b29296693fc9aeef42e8c13cfb3347fe4e0f8  0.0s 
 => => pushing layers                                                                                   5.0s
 => => pushing manifest for docker.io/kairin/001:09-opencv@sha256:f0b610fc3ebb07ad55a2abdc518b29296693  2.8s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:09-opencv
09-opencv: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Already exists 
caa744c239b1: Already exists 
440d786fa707: Already exists 
22e6c6b1e5ca: Already exists 
3316f570d7c1: Already exists 
9aaad537058b: Already exists 
85ec344661f1: Already exists 
06e88f9aa245: Already exists 
e95db1b2c22b: Already exists 
47c61fd16f94: Already exists 
aa37d78f5fe2: Pull complete 
4a6ef0b87f30: Pull complete 
Digest: sha256:f0b610fc3ebb07ad55a2abdc518b29296693fc9aeef42e8c13cfb3347fe4e0f8
Status: Downloaded newer image for kairin/001:09-opencv
docker.io/kairin/001:09-opencv
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:09-opencv exists locally after pull...
Image kairin/001:09-opencv verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:09-opencv
Processing numbered directory: build/10-onnx
Generating fixed tag: kairin/001:10-onnx
Using base image build arg: kairin/001:09-opencv
--------------------------------------------------
Building and pushing image from folder: build/10-onnx
Image Name: 10-onnx
Platform: linux/arm64
Tag: kairin/001:10-onnx
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:10-onnx --build-arg BASE_IMAGE=kairin/001:09-opencv --push build/10-onnx
[+] Building 10.4s (7/7) FINISHED                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.1s
 => => transferring dockerfile: 977B                                                                    0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid bas  0.1s
 => [internal] load metadata for docker.io/kairin/001:09-opencv                                         0.3s
 => [internal] load .dockerignore                                                                       0.1s
 => => transferring context: 2B                                                                         0.0s
 => [1/2] FROM docker.io/kairin/001:09-opencv@sha256:f0b610fc3ebb07ad55a2abdc518b29296693fc9aeef42e8c1  0.2s
 => => resolve docker.io/kairin/001:09-opencv@sha256:f0b610fc3ebb07ad55a2abdc518b29296693fc9aeef42e8c1  0.0s
 => [2/2] RUN pip3 install onnx ||     pip3 install git+https://github.com/onnx/onnx@${ONNX_VERSION} &  3.6s
 => exporting to image                                                                                  6.0s 
 => => exporting layers                                                                                 0.1s 
 => => exporting manifest sha256:789d33d27f2038101ebf34ef5673fe696f81b849332fce17d1443cc7020c8fe4       0.0s 
 => => exporting config sha256:b30417426d0334da56e05fa3b96ddf895fbdcc731b5a076d8949dbe6e603007e         0.0s 
 => => exporting attestation manifest sha256:cc002ec3096f116d3020cdd30a7d2cfe811fb99a15acfff2f05cbce29  0.0s 
 => => exporting manifest list sha256:2e682a7b2b46884891b8115adf79875250218befbbdc050ba2219f02bcb785b3  0.0s 
 => => pushing layers                                                                                   3.1s
 => => pushing manifest for docker.io/kairin/001:10-onnx@sha256:2e682a7b2b46884891b8115adf79875250218b  2.6s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s

 1 warning found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 10)
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:10-onnx
10-onnx: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Pull complete 
caa744c239b1: Already exists 
440d786fa707: Already exists 
22e6c6b1e5ca: Already exists 
3316f570d7c1: Already exists 
9aaad537058b: Already exists 
85ec344661f1: Already exists 
06e88f9aa245: Already exists 
e95db1b2c22b: Already exists 
47c61fd16f94: Already exists 
aa37d78f5fe2: Already exists 
4a6ef0b87f30: Already exists 
Digest: sha256:2e682a7b2b46884891b8115adf79875250218befbbdc050ba2219f02bcb785b3
Status: Downloaded newer image for kairin/001:10-onnx
docker.io/kairin/001:10-onnx
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:10-onnx exists locally after pull...
Image kairin/001:10-onnx verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:10-onnx
Processing numbered directory: build/10-onnxruntime
Generating fixed tag: kairin/001:10-onnxruntime
Using base image build arg: kairin/001:10-onnx
--------------------------------------------------
Building and pushing image from folder: build/10-onnxruntime
Image Name: 10-onnxruntime
Platform: linux/arm64
Tag: kairin/001:10-onnxruntime
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:10-onnxruntime --build-arg BASE_IMAGE=kairin/001:10-onnx --push build/10-onnxruntime
[+] Building 1.0s (7/7) FINISHED                                             docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.1s
 => => transferring dockerfile: 505B                                                                    0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid bas  0.1s
 => [internal] load metadata for docker.io/kairin/001:10-onnx                                           0.3s
 => [internal] load .dockerignore                                                                       0.1s
 => => transferring context: 2B                                                                         0.0s
 => [internal] load build context                                                                       0.1s
 => => transferring context: 2.77kB                                                                     0.0s
 => [1/3] FROM docker.io/kairin/001:10-onnx@sha256:2e682a7b2b46884891b8115adf79875250218befbbdc050ba22  0.3s
 => => resolve docker.io/kairin/001:10-onnx@sha256:2e682a7b2b46884891b8115adf79875250218befbbdc050ba22  0.0s
 => [2/3] COPY install.sh build.sh /tmp/onnxruntime/                                                    0.1s
 => ERROR [3/3] RUN /tmp/onnxruntime/install.sh || /tmp/onnxruntime/build.sh                            0.2s
------                                                                                                       
 > [3/3] RUN /tmp/onnxruntime/install.sh || /tmp/onnxruntime/build.sh:
0.110 + '[' off == on ']'
0.110 + tarpack install onnxruntime-gpu-
0.113 + COMMAND=install
0.113 + PACKAGE=onnxruntime-gpu-
0.113 + : /usr/local
0.113 + : /tmp/tarpack
0.113 + : '--quiet --show-progress --progress=bar:force:noscroll'
0.113 + mkdir -p /tmp/tarpack/uploads
0.116 + '[' install == install ']'
0.116 + cd /tmp/tarpack
0.116 + wget --quiet --show-progress --progress=bar:force:noscroll /onnxruntime-gpu-.tar.gz
0.124 + echo 'Building onnxruntime  (branch=, flags=)'
0.124 Building onnxruntime  (branch=, flags=)
0.124 ++ uname -m
0.125 + '[' '!' -d /usr/lib/aarch64-linux-gnu ']'
0.126 ++ uname -m
0.128 + export LD_LIBRARY_PATH=/usr/lib/aarch64-linux-gnu:
0.128 + LD_LIBRARY_PATH=/usr/lib/aarch64-linux-gnu:
0.128 ++ uname -m
0.130 + '[' '!' -f /usr/lib/aarch64-linux-gnu/libnvinfer.so ']'
0.130 ++ uname -m
0.132 + '[' '!' -f /usr/lib/aarch64-linux-gnu/libnvdla_compiler.so ']'
0.132 + echo 'TensorRT NVDLA compiler library not found'
0.132 + exit 1
0.132 TensorRT NVDLA compiler library not found
------

 1 warning found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 10)
Dockerfile:19
--------------------
  17 |     COPY install.sh build.sh /tmp/onnxruntime/
  18 |     
  19 | >>> RUN /tmp/onnxruntime/install.sh || /tmp/onnxruntime/build.sh
  20 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c /tmp/onnxruntime/install.sh || /tmp/onnxruntime/build.sh" did not complete successfully: exit code: 1
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:10-onnxruntime
Error response from daemon: manifest for kairin/001:10-onnxruntime not found: manifest unknown: manifest unknown
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:10-onnxruntime exists locally after pull...
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Error: Image kairin/001:10-onnxruntime NOT found locally immediately after successful 'docker pull'.
This indicates a potential issue with the Docker daemon or registry synchronization.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Build, push or pull failed for build/10-onnxruntime. Subsequent dependent builds might fail.
Build process for build/10-onnxruntime exited with code 1
Continuing with next build...
Processing numbered directory: build/10-triton
Generating fixed tag: kairin/001:10-triton
Using base image build arg: kairin/001:10-onnx
--------------------------------------------------
Building and pushing image from folder: build/10-triton
Image Name: 10-triton
Platform: linux/arm64
Tag: kairin/001:10-triton
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:10-triton --build-arg BASE_IMAGE=kairin/001:10-onnx --push build/10-triton
[+] Building 3.3s (7/7) FINISHED                                             docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 609B                                                                    0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid bas  0.0s
 => [internal] load metadata for docker.io/kairin/001:10-onnx                                           0.3s
 => [internal] load .dockerignore                                                                       0.1s
 => => transferring context: 2B                                                                         0.0s
 => [internal] load build context                                                                       0.1s
 => => transferring context: 1.24kB                                                                     0.0s
 => CACHED [1/3] FROM docker.io/kairin/001:10-onnx@sha256:2e682a7b2b46884891b8115adf79875250218befbbdc  0.0s
 => => resolve docker.io/kairin/001:10-onnx@sha256:2e682a7b2b46884891b8115adf79875250218befbbdc050ba22  0.0s
 => [2/3] COPY build.sh install.sh /tmp/triton/                                                         0.1s
 => ERROR [3/3] RUN /tmp/triton/install.sh || /tmp/triton/build.sh                                      2.7s
------                                                                                                       
 > [3/3] RUN /tmp/triton/install.sh || /tmp/triton/build.sh:                                                 
0.112 + '[' off == on ']'                                                                                    
0.112 + pip3 install triton==                                                                                
0.652 Using pip 25.0.1 from /opt/venv/lib/python3.12/site-packages/pip (python 3.12)                         
0.913 ERROR: Invalid requirement: 'triton==': Expected end or semicolon (after name and no valid version specifier)
0.913     triton==
0.913           ^
1.040 + echo '============ Building triton  (branch=) ============'
1.040 + pip3 uninstall -y triton
1.040 ============ Building triton  (branch=) ============
1.811 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/looseversion-1.3.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.811 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/dill-0.3.9-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.812 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_utilities-0.14.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.812 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_thunder-0.2.2.dev0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.813 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/opt_einsum-3.4.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.813 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/nvfuser-0.2.26a0+c5e1555-py3.12-linux-aarch64.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.831 WARNING: Skipping triton as it is not installed.
1.942 + git clone --branch --depth=1 --recursive https://github.com/triton-lang/triton /opt/triton
1.945 Cloning into '/opt/triton'...
2.607 fatal: Remote branch --depth=1 not found in upstream origin
------

 1 warning found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 12)
Dockerfile:20
--------------------
  18 |     COPY build.sh install.sh /tmp/triton/
  19 |     
  20 | >>> RUN /tmp/triton/install.sh || /tmp/triton/build.sh
  21 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c /tmp/triton/install.sh || /tmp/triton/build.sh" did not complete successfully: exit code: 128
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:10-triton
Error response from daemon: manifest for kairin/001:10-triton not found: manifest unknown: manifest unknown
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:10-triton exists locally after pull...
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Error: Image kairin/001:10-triton NOT found locally immediately after successful 'docker pull'.
This indicates a potential issue with the Docker daemon or registry synchronization.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Build, push or pull failed for build/10-triton. Subsequent dependent builds might fail.
Build process for build/10-triton exited with code 1
Continuing with next build...
Processing numbered directory: build/11-diffusers
Generating fixed tag: kairin/001:11-diffusers
Using base image build arg: kairin/001:10-onnx
--------------------------------------------------
Building and pushing image from folder: build/11-diffusers
Image Name: 11-diffusers
Platform: linux/arm64
Tag: kairin/001:11-diffusers
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:11-diffusers --build-arg BASE_IMAGE=kairin/001:10-onnx --push build/11-diffusers
[+] Building 15.7s (9/9) FINISHED                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 1.16kB                                                                  0.0s
 => [internal] load metadata for docker.io/kairin/001:10-onnx                                           0.3s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => [internal] load build context                                                                       0.0s
 => => transferring context: 1.68kB                                                                     0.0s
 => CACHED [1/3] FROM docker.io/kairin/001:10-onnx@sha256:2e682a7b2b46884891b8115adf79875250218befbbdc  0.0s
 => => resolve docker.io/kairin/001:10-onnx@sha256:2e682a7b2b46884891b8115adf79875250218befbbdc050ba22  0.0s
 => [2/3] COPY build.sh install.sh /tmp/DIFFUSERS/                                                      0.1s
 => [3/3] RUN rm -rf /opt/diffusers &&     export DIFFUSERS_VERSION=0.24.0 &&     (bash -x /tmp/DIFFUS  5.6s
 => exporting to image                                                                                  9.4s 
 => => exporting layers                                                                                 1.5s 
 => => exporting manifest sha256:2d1549e59ed6143d742b0dca08f1a998418b89b12529806ea54781f7e5ab1874       0.0s 
 => => exporting config sha256:d26f68ae9a8af50bad6cd181e40054bae4f2cb5d85a00878023b7ae05b7793c5         0.0s 
 => => exporting attestation manifest sha256:ee06a57478b02d7852c62a48beb4b755b1104ade36359f4f40631866d  0.0s 
 => => exporting manifest list sha256:16c80055ae1f743b3668a04e3c989508a21c712312a54d1398ac336240f4381c  0.0s 
 => => pushing layers                                                                                   5.0s
 => => pushing manifest for docker.io/kairin/001:11-diffusers@sha256:16c80055ae1f743b3668a04e3c989508a  2.8s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:11-diffusers
11-diffusers: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Already exists 
caa744c239b1: Already exists 
440d786fa707: Already exists 
22e6c6b1e5ca: Already exists 
3316f570d7c1: Already exists 
9aaad537058b: Already exists 
85ec344661f1: Already exists 
06e88f9aa245: Already exists 
e95db1b2c22b: Already exists 
47c61fd16f94: Already exists 
aa37d78f5fe2: Already exists 
4a6ef0b87f30: Already exists 
b26476c3c8af: Pull complete 
fece3cf07069: Pull complete 
Digest: sha256:16c80055ae1f743b3668a04e3c989508a21c712312a54d1398ac336240f4381c
Status: Downloaded newer image for kairin/001:11-diffusers
docker.io/kairin/001:11-diffusers
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:11-diffusers exists locally after pull...
Image kairin/001:11-diffusers verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:11-diffusers
Processing numbered directory: build/12-huggingface_hub
Generating fixed tag: kairin/001:12-huggingface_hub
Using base image build arg: kairin/001:11-diffusers
--------------------------------------------------
Building and pushing image from folder: build/12-huggingface_hub
Image Name: 12-huggingface_hub
Platform: linux/arm64
Tag: kairin/001:12-huggingface_hub
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:12-huggingface_hub --build-arg BASE_IMAGE=kairin/001:11-diffusers --push build/12-huggingface_hub
[+] Building 51.0s (11/11) FINISHED                                          docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 2.97kB                                                                  0.0s
 => [internal] load metadata for docker.io/kairin/001:11-diffusers                                      0.3s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => [1/5] FROM docker.io/kairin/001:11-diffusers@sha256:16c80055ae1f743b3668a04e3c989508a21c712312a54d  0.3s
 => => resolve docker.io/kairin/001:11-diffusers@sha256:16c80055ae1f743b3668a04e3c989508a21c712312a54d  0.0s
 => [internal] load build context                                                                       0.0s
 => => transferring context: 4.09kB                                                                     0.0s
 => [2/5] RUN set -ex     && mkdir -p /data/models/huggingface         && apt-get update     && apt-g  36.9s
 => [3/5] COPY huggingface-downloader /usr/local/bin/                                                   0.1s 
 => [4/5] COPY huggingface-downloader.py /usr/local/bin/_huggingface-downloader.py                      0.1s 
 => [5/5] RUN huggingface-downloader --help                                                             0.7s 
 => exporting to image                                                                                 12.4s 
 => => exporting layers                                                                                 2.5s 
 => => exporting manifest sha256:e00614d718d9479042893f375439b6cb346990fbafa3efdff86cdaf4644b8fa5       0.0s 
 => => exporting config sha256:2fc53e761fb2c59c868dfc6e58c0b5e91f9a9f8c73eb25a3662c1fefd5333947         0.0s 
 => => exporting attestation manifest sha256:cd52937be572eef31bf1eec4f545467bcfb953b754072921186145563  0.0s 
 => => exporting manifest list sha256:092c9df27a9da8119762116dd97932a05935d96a128ba7b712015d7454a16b2a  0.0s 
 => => pushing layers                                                                                   7.1s
 => => pushing manifest for docker.io/kairin/001:12-huggingface_hub@sha256:092c9df27a9da8119762116dd97  2.6s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:12-huggingface_hub
12-huggingface_hub: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Pull complete 
caa744c239b1: Already exists 
440d786fa707: Already exists 
22e6c6b1e5ca: Already exists 
3316f570d7c1: Already exists 
9aaad537058b: Already exists 
85ec344661f1: Already exists 
06e88f9aa245: Already exists 
e95db1b2c22b: Already exists 
47c61fd16f94: Already exists 
aa37d78f5fe2: Already exists 
4a6ef0b87f30: Already exists 
b26476c3c8af: Already exists 
fece3cf07069: Already exists 
700955a8df91: Pull complete 
9d39eed5959f: Pull complete 
62b52834e06a: Pull complete 
Digest: sha256:092c9df27a9da8119762116dd97932a05935d96a128ba7b712015d7454a16b2a
Status: Downloaded newer image for kairin/001:12-huggingface_hub
docker.io/kairin/001:12-huggingface_hub
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:12-huggingface_hub exists locally after pull...
Image kairin/001:12-huggingface_hub verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:12-huggingface_hub
Processing numbered directory: build/13-transformers
Generating fixed tag: kairin/001:13-transformers
Using base image build arg: kairin/001:12-huggingface_hub
--------------------------------------------------
Building and pushing image from folder: build/13-transformers
Image Name: 13-transformers
Platform: linux/arm64
Tag: kairin/001:13-transformers
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:13-transformers --build-arg BASE_IMAGE=kairin/001:12-huggingface_hub --push build/13-transformers
[+] Building 48.0s (10/10) FINISHED                                          docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 1.96kB                                                                  0.0s
 => [internal] load metadata for docker.io/kairin/001:12-huggingface_hub                                0.3s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => [1/4] FROM docker.io/kairin/001:12-huggingface_hub@sha256:092c9df27a9da8119762116dd97932a05935d96a  0.3s
 => => resolve docker.io/kairin/001:12-huggingface_hub@sha256:092c9df27a9da8119762116dd97932a05935d96a  0.0s
 => [internal] load build context                                                                       0.0s
 => => transferring context: 4.78kB                                                                     0.0s
 => [2/4] RUN set -ex     && echo "Installing transformers version 4.36.2"     && pip3 install --no-c  27.0s
 => [3/4] COPY huggingface-benchmark.py /usr/local/bin                                                  0.2s 
 => [4/4] RUN chmod +x /usr/local/bin/huggingface-benchmark.py     && echo "check_cmd huggingface-benc  0.1s 
 => exporting to image                                                                                 19.8s 
 => => exporting layers                                                                                 6.9s 
 => => exporting manifest sha256:857ef05e72d21b08313ac4fdad14beeccae684d1348ce2f59881531f34b45bfd       0.0s 
 => => exporting config sha256:1766006bcb1242835e75904115efd814b319208da45f2f4832c513c0b496f327         0.0s 
 => => exporting attestation manifest sha256:544a4ffeafeb14767110bbcd96a59f5e3b8a07b54c081917760a7ebe3  0.0s
 => => exporting manifest list sha256:0ad38a37e57e667b5e63c8ab60a35b3c17f57465bcb704194c7bd284a3c71a2f  0.0s
 => => pushing layers                                                                                  10.1s
 => => pushing manifest for docker.io/kairin/001:13-transformers@sha256:0ad38a37e57e667b5e63c8ab60a35b  2.7s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:13-transformers
13-transformers: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Already exists 
caa744c239b1: Already exists 
440d786fa707: Already exists 
22e6c6b1e5ca: Already exists 
3316f570d7c1: Already exists 
9aaad537058b: Already exists 
85ec344661f1: Already exists 
06e88f9aa245: Already exists 
e95db1b2c22b: Already exists 
47c61fd16f94: Already exists 
aa37d78f5fe2: Already exists 
4a6ef0b87f30: Already exists 
b26476c3c8af: Already exists 
fece3cf07069: Already exists 
700955a8df91: Already exists 
9d39eed5959f: Already exists 
62b52834e06a: Already exists 
08ae716ab5be: Pull complete 
332298f263a6: Pull complete 
f5dcb0d16a50: Pull complete 
Digest: sha256:0ad38a37e57e667b5e63c8ab60a35b3c17f57465bcb704194c7bd284a3c71a2f
Status: Downloaded newer image for kairin/001:13-transformers
docker.io/kairin/001:13-transformers
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:13-transformers exists locally after pull...
Image kairin/001:13-transformers verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:13-transformers
Processing numbered directory: build/14-xformers
Generating fixed tag: kairin/001:14-xformers
Using base image build arg: kairin/001:13-transformers
--------------------------------------------------
Building and pushing image from folder: build/14-xformers
Image Name: 14-xformers
Platform: linux/arm64
Tag: kairin/001:14-xformers
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:14-xformers --build-arg BASE_IMAGE=kairin/001:13-transformers --push build/14-xformers
[+] Building 203.8s (7/7) FINISHED                                           docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 2.67kB                                                                  0.0s
 => [internal] load metadata for docker.io/kairin/001:13-transformers                                   0.3s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => [1/2] FROM docker.io/kairin/001:13-transformers@sha256:0ad38a37e57e667b5e63c8ab60a35b3c17f57465bcb  0.3s
 => => resolve docker.io/kairin/001:13-transformers@sha256:0ad38a37e57e667b5e63c8ab60a35b3c17f57465bcb  0.0s
 => [2/2] RUN set -ex     && rm -rf /opt/xformers     && CUDA_MAJOR=$(echo ${CUDA_VERSION} | cut -d.  150.1s
 => exporting to image                                                                                 52.8s 
 => => exporting layers                                                                                24.6s 
 => => exporting manifest sha256:185eaea23d8fd9a206a51dcbc49446881ea04a7c158af0b35ed9ba582b43e97e       0.0s 
 => => exporting config sha256:20410e0f1aafdb85a4fa0ffda8d07874639784c4f23f79a12a10da7ec2e5e9d5         0.0s 
 => => exporting attestation manifest sha256:291f73e089b37e5b8ef29b0df590ecfd94c39cb64f5dca814f73007c3  0.0s 
 => => exporting manifest list sha256:c33cf5fa0cc30f5d8289984758ae3452e00e7131cf580a4ae1257c397c6d2e68  0.0s 
 => => pushing layers                                                                                  25.3s
 => => pushing manifest for docker.io/kairin/001:14-xformers@sha256:c33cf5fa0cc30f5d8289984758ae3452e0  2.8s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                          0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:14-xformers
14-xformers: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
7f8d0d7925af: Already exists 
7c1f0db80593: Already exists 
ccaf155c94d4: Already exists 
c9787964cc2a: Already exists 
4f4fb700ef54: Already exists 
caa744c239b1: Already exists 
440d786fa707: Already exists 
22e6c6b1e5ca: Already exists 
3316f570d7c1: Already exists 
9aaad537058b: Already exists 
85ec344661f1: Already exists 
06e88f9aa245: Already exists 
e95db1b2c22b: Already exists 
47c61fd16f94: Already exists 
aa37d78f5fe2: Already exists 
4a6ef0b87f30: Already exists 
b26476c3c8af: Already exists 
fece3cf07069: Already exists 
700955a8df91: Already exists 
9d39eed5959f: Already exists 
62b52834e06a: Already exists 
08ae716ab5be: Already exists 
332298f263a6: Already exists 
f5dcb0d16a50: Already exists 
d9ebd09595a8: Pull complete 
Digest: sha256:c33cf5fa0cc30f5d8289984758ae3452e00e7131cf580a4ae1257c397c6d2e68
Status: Downloaded newer image for kairin/001:14-xformers
docker.io/kairin/001:14-xformers
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:14-xformers exists locally after pull...
Image kairin/001:14-xformers verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:14-xformers
Processing numbered directory: build/15-flash-attention
Generating fixed tag: kairin/001:15-flash-attention
Using base image build arg: kairin/001:14-xformers
--------------------------------------------------
Building and pushing image from folder: build/15-flash-attention
Image Name: 15-flash-attention
Platform: linux/arm64
Tag: kairin/001:15-flash-attention
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:15-flash-attention --build-arg BASE_IMAGE=kairin/001:14-xformers --push build/15-flash-attention
[+] Building 16.2s (6/6) FINISHED                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                    0.0s
 => => transferring dockerfile: 3.33kB                                                                  0.0s
 => [internal] load metadata for docker.io/kairin/001:14-xformers                                       1.7s
 => [auth] kairin/001:pull token for registry-1.docker.io                                               0.0s
 => [internal] load .dockerignore                                                                       0.0s
 => => transferring context: 2B                                                                         0.0s
 => [1/2] FROM docker.io/kairin/001:14-xformers@sha256:c33cf5fa0cc30f5d8289984758ae3452e00e7131cf580a4  0.3s
 => => resolve docker.io/kairin/001:14-xformers@sha256:c33cf5fa0cc30f5d8289984758ae3452e00e7131cf580a4  0.0s
 => ERROR [2/2] RUN set -ex     && apt-get update     && apt-get install -y --no-install-recommends    14.1s
------                                                                                                       
 > [2/2] RUN set -ex     && apt-get update     && apt-get install -y --no-install-recommends         python3-pip python3-setuptools git cmake build-essential     && pip3 install --no-cache-dir --upgrade pip setuptools wheel         && rm -rf /opt/flash-attention     && git clone --depth=1 --branch=v2.7.4.post2 https://github.com/Dao-AILab/flash-attention /opt/flash-attention     && cd /opt/flash-attention         && sed -i 's|def get_platform():|def get_arch():\n    """\n    Returns the system aarch for the current system.\n    """\n    if sys.platform.startswith("linux"):\n        if platform.machine() == "x86_64":\n            return "x86_64"\n        if platform.machine() == "arm64" or platform.machine() == "aarch64":\n            return "aarch64"\n    elif sys.platform == "darwin":\n        mac_version = ".".join(platform.mac_ver()[0].split(".")[:2])\n        return f"macosx_{mac_version}_x86_64"\n    elif sys.platform == "win32":\n        return "win_amd64"\n    else:\n        raise ValueError("Unsupported platform: {}".format(sys.platform))\n\ndef get_system() -> str:\n    """\n    Returns the system name as used in wheel filenames.\n    """\n    if platform.system() == "Windows":\n        return "win"\n    elif platform.system() == "Darwin":\n        mac_version = ".".join(platform.mac_ver()[0].split(".")[:1])\n        return f"macos_{mac_version}"\n    elif platform.system() == "Linux":\n        return "linux"\n    else:\n        raise ValueError("Unsupported system: {}".format(platform.system()))\n\ndef get_platform() -> str:|' setup.py     && sed -i 's|    Returns the platform name as used in wheel filenames.|    Returns the platform name as used in wheel filenames.\n    """\n    return f"{get_system()}_{get_arch()}"|' setup.py     && sed -i 's|    if "80" in cuda_archs():.*|    cc_flag.append("-gencode")\n    cc_flag.append("arch=compute_87,code=sm_87")|' setup.py         && mkdir -p /opt/wheels     && export CMAKE_BUILD_PARALLEL_LEVEL=6     && python3 setup.py --verbose bdist_wheel --dist-dir /opt/wheels     && pip3 install /opt/wheels/flash_attn*.whl         && python3 -c "import flash_attn; print(f'Flash-Attention {flash_attn.__version__} installed successfully')"     && echo "check_python_pkg flash_attn" >> /opt/list_app_checks.sh         && apt-get clean     && rm -rf /var/lib/apt/lists/*     && rm -rf /root/.cache/pip     && rm -rf /opt/flash-attention/build:
0.076 + apt-get update
0.215 Get:1 https://cli.github.com/packages stable InRelease [3,917 B]
0.341 Get:2 https://cli.github.com/packages stable/main arm64 Packages [343 B]
0.512 Get:3 http://ports.ubuntu.com/ubuntu-ports noble InRelease [256 kB]
1.379 Get:4 http://ports.ubuntu.com/ubuntu-ports noble-updates InRelease [126 kB]
1.593 Get:5 http://ports.ubuntu.com/ubuntu-ports noble-backports InRelease [126 kB]
1.808 Get:6 http://ports.ubuntu.com/ubuntu-ports noble-security InRelease [126 kB]
2.028 Get:7 http://ports.ubuntu.com/ubuntu-ports noble/restricted arm64 Packages [113 kB]
2.079 Get:8 http://ports.ubuntu.com/ubuntu-ports noble/main arm64 Packages [1,776 kB]
2.598 Get:9 http://ports.ubuntu.com/ubuntu-ports noble/universe arm64 Packages [19.0 MB]
3.610 Get:10 http://ports.ubuntu.com/ubuntu-ports noble/multiverse arm64 Packages [274 kB]
3.614 Get:11 http://ports.ubuntu.com/ubuntu-ports noble-updates/restricted arm64 Packages [1,414 kB]
3.691 Get:12 http://ports.ubuntu.com/ubuntu-ports noble-updates/main arm64 Packages [1,297 kB]
3.754 Get:13 http://ports.ubuntu.com/ubuntu-ports noble-updates/multiverse arm64 Packages [20.9 kB]
4.081 Get:14 http://ports.ubuntu.com/ubuntu-ports noble-updates/universe arm64 Packages [1,332 kB]
5.346 Get:15 http://ports.ubuntu.com/ubuntu-ports noble-backports/main arm64 Packages [48.0 kB]
5.350 Get:16 http://ports.ubuntu.com/ubuntu-ports noble-backports/universe arm64 Packages [31.8 kB]
5.351 Get:17 http://ports.ubuntu.com/ubuntu-ports noble-security/universe arm64 Packages [1,041 kB]
5.834 Get:18 http://ports.ubuntu.com/ubuntu-ports noble-security/restricted arm64 Packages [1,269 kB]
6.151 Get:19 http://ports.ubuntu.com/ubuntu-ports noble-security/multiverse arm64 Packages [19.0 kB]
6.151 Get:20 http://ports.ubuntu.com/ubuntu-ports noble-security/main arm64 Packages [948 kB]
6.426 Fetched 29.2 MB in 6s (4,661 kB/s)
6.426 Reading package lists...
7.916 + apt-get install -y --no-install-recommends python3-pip python3-setuptools git cmake build-essential
7.933 Reading package lists...
9.316 Building dependency tree...
9.782 Reading state information...
10.74 python3-pip is already the newest version (24.0+dfsg-1ubuntu1.1).
10.74 python3-setuptools is already the newest version (68.1.2-2ubuntu1.1).
10.74 git is already the newest version (1:2.43.0-1ubuntu7.2).
10.74 cmake is already the newest version (3.28.3-1build7).
10.74 build-essential is already the newest version (12.10ubuntu1).
10.74 0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
10.74 + pip3 install --no-cache-dir --upgrade pip setuptools wheel
11.32 Using pip 25.0.1 from /opt/venv/lib/python3.12/site-packages/pip (python 3.12)
11.63 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/looseversion-1.3.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
11.63 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/dill-0.3.9-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
11.63 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_utilities-0.14.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
11.64 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_thunder-0.2.2.dev0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
11.64 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/opt_einsum-3.4.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
11.64 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/nvfuser-0.2.26a0+c5e1555-py3.12-linux-aarch64.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
11.66 Requirement already satisfied: pip in /opt/venv/lib/python3.12/site-packages (25.0.1)
11.87 Requirement already satisfied: setuptools in /opt/venv/lib/python3.12/site-packages (78.1.0)
12.08 Requirement already satisfied: wheel in /usr/local/lib/python3.12/dist-packages (0.45.1)
13.02 + rm -rf /opt/flash-attention
13.02 + git clone --depth=1 --branch=v2.7.4.post2 https://github.com/Dao-AILab/flash-attention /opt/flash-attention
13.02 Cloning into '/opt/flash-attention'...
13.62 warning: Could not find remote branch v2.7.4.post2 to clone.
13.62 fatal: Remote branch v2.7.4.post2 not found in upstream origin
------
Dockerfile:22
--------------------
  21 |     # Single consolidated RUN command for speed and efficiency
  22 | >>> RUN set -ex \
  23 | >>>     # Install dependencies \
  24 | >>>     && apt-get update \
  25 | >>>     && apt-get install -y --no-install-recommends \
  26 | >>>         python3-pip python3-setuptools git cmake build-essential \
  27 | >>>     && pip3 install --no-cache-dir --upgrade pip setuptools wheel \
  28 | >>>     \
  29 | >>>     # Clone specific version \
  30 | >>>     && rm -rf /opt/flash-attention \
  31 | >>>     && git clone --depth=1 --branch=v2.7.4.post2 https://github.com/Dao-AILab/flash-attention /opt/flash-attention \
  32 | >>>     && cd /opt/flash-attention \
  33 | >>>     \
  34 | >>>     # Apply patch directly instead of using a patch file \
  35 | >>>     && sed -i 's|def get_platform():|def get_arch():\n    """\n    Returns the system aarch for the current system.\n    """\n    if sys.platform.startswith("linux"):\n        if platform.machine() == "x86_64":\n            return "x86_64"\n        if platform.machine() == "arm64" or platform.machine() == "aarch64":\n            return "aarch64"\n    elif sys.platform == "darwin":\n        mac_version = ".".join(platform.mac_ver()[0].split(".")[:2])\n        return f"macosx_{mac_version}_x86_64"\n    elif sys.platform == "win32":\n        return "win_amd64"\n    else:\n        raise ValueError("Unsupported platform: {}".format(sys.platform))\n\ndef get_system() -> str:\n    """\n    Returns the system name as used in wheel filenames.\n    """\n    if platform.system() == "Windows":\n        return "win"\n    elif platform.system() == "Darwin":\n        mac_version = ".".join(platform.mac_ver()[0].split(".")[:1])\n        return f"macos_{mac_version}"\n    elif platform.system() == "Linux":\n        return "linux"\n    else:\n        raise ValueError("Unsupported system: {}".format(platform.system()))\n\ndef get_platform() -> str:|' setup.py \
  36 | >>>     && sed -i 's|    Returns the platform name as used in wheel filenames.|    Returns the platform name as used in wheel filenames.\n    """\n    return f"{get_system()}_{get_arch()}"|' setup.py \
  37 | >>>     && sed -i 's|    if "80" in cuda_archs():.*|    cc_flag.append("-gencode")\n    cc_flag.append("arch=compute_87,code=sm_87")|' setup.py \
  38 | >>>     \
  39 | >>>     # Build with optimized parallelism \
  40 | >>>     && mkdir -p /opt/wheels \
  41 | >>>     && export CMAKE_BUILD_PARALLEL_LEVEL=${MAX_JOBS} \
  42 | >>>     && python3 setup.py --verbose bdist_wheel --dist-dir /opt/wheels \
  43 | >>>     && pip3 install /opt/wheels/flash_attn*.whl \
  44 | >>>     \
  45 | >>>     # Verify installation \
  46 | >>>     && python3 -c "import flash_attn; print(f'Flash-Attention {flash_attn.__version__} installed successfully')" \
  47 | >>>     && echo "check_python_pkg flash_attn" >> /opt/list_app_checks.sh \
  48 | >>>     \
  49 | >>>     # Cleanup \
  50 | >>>     && apt-get clean \
  51 | >>>     && rm -rf /var/lib/apt/lists/* \
  52 | >>>     && rm -rf /root/.cache/pip \
  53 | >>>     && rm -rf /opt/flash-attention/build
--------------------
ERROR: failed to solve: process "/bin/sh -c set -ex     && apt-get update     && apt-get install -y --no-install-recommends         python3-pip python3-setuptools git cmake build-essential     && pip3 install --no-cache-dir --upgrade pip setuptools wheel         && rm -rf /opt/flash-attention     && git clone --depth=1 --branch=v2.7.4.post2 https://github.com/Dao-AILab/flash-attention /opt/flash-attention     && cd /opt/flash-attention         && sed -i 's|def get_platform():|def get_arch():\\n    \"\"\"\\n    Returns the system aarch for the current system.\\n    \"\"\"\\n    if sys.platform.startswith(\"linux\"):\\n        if platform.machine() == \"x86_64\":\\n            return \"x86_64\"\\n        if platform.machine() == \"arm64\" or platform.machine() == \"aarch64\":\\n            return \"aarch64\"\\n    elif sys.platform == \"darwin\":\\n        mac_version = \".\".join(platform.mac_ver()[0].split(\".\")[:2])\\n        return f\"macosx_{mac_version}_x86_64\"\\n    elif sys.platform == \"win32\":\\n        return \"win_amd64\"\\n    else:\\n        raise ValueError(\"Unsupported platform: {}\".format(sys.platform))\\n\\ndef get_system() -> str:\\n    \"\"\"\\n    Returns the system name as used in wheel filenames.\\n    \"\"\"\\n    if platform.system() == \"Windows\":\\n        return \"win\"\\n    elif platform.system() == \"Darwin\":\\n        mac_version = \".\".join(platform.mac_ver()[0].split(\".\")[:1])\\n        return f\"macos_{mac_version}\"\\n    elif platform.system() == \"Linux\":\\n        return \"linux\"\\n    else:\\n        raise ValueError(\"Unsupported system: {}\".format(platform.system()))\\n\\ndef get_platform() -> str:|' setup.py     && sed -i 's|    Returns the platform name as used in wheel filenames.|    Returns the platform name as used in wheel filenames.\\n    \"\"\"\\n    return f\"{get_system()}_{get_arch()}\"|' setup.py     && sed -i 's|    if \"80\" in cuda_archs():.*|    cc_flag.append(\"-gencode\")\\n    cc_flag.append(\"arch=compute_87,code=sm_87\")|' setup.py         && mkdir -p /opt/wheels     && export CMAKE_BUILD_PARALLEL_LEVEL=${MAX_JOBS}     && python3 setup.py --verbose bdist_wheel --dist-dir /opt/wheels     && pip3 install /opt/wheels/flash_attn*.whl         && python3 -c \"import flash_attn; print(f'Flash-Attention {flash_attn.__version__} installed successfully')\"     && echo \"check_python_pkg flash_attn\" >> /opt/list_app_checks.sh         && apt-get clean     && rm -rf /var/lib/apt/lists/*     && rm -rf /root/.cache/pip     && rm -rf /opt/flash-attention/build" did not complete successfully: exit code: 128
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:15-flash-attention
15-flash-attention: Pulling from kairin/001
5b17151e9710: Already exists 
6055d2b1b566: Pulling fs layer 
3318952e176b: Pulling fs layer 
5cc84ac41104: Pulling fs layer 
38a09ab6290f: Pulling fs layer 
db11526ede66: Pulling fs layer 
554ccab6c75a: Pulling fs layer 
554ccab6c75a: Waiting 
803dec0438f4: Waiting 
162c233071b3: Waiting 
661c52cc55a2: Waiting 
0a884d0d3128: Waiting 
aa6970acc195: Waiting 
aca565c68a85: Waiting 
6cb43d1d64ac: Waiting 
4f4fb700ef54: Waiting 
327fd7eaf4cd: Waiting 
92f82ad85783: Waiting 
88ca70cf02a1: Waiting 
2aeb586ef0e6: Waiting 
05450796e66d: Waiting 
b37f28190bc6: Waiting 
29fcf67f0d1a: Waiting 
a3d31621af25: Waiting 
216e89ddf314: Waiting 
802bc59e2bf8: Waiting 
af531eac70fd: Waiting 
34f20df2a26f: Waiting 
faa7cc112497: Waiting 
dc79c5ab374d: Waiting 
f1bbedd0bd9a: Pulling fs layer 
923cd347b4e8: Waiting 
e4666a77ed22: Waiting 
7bb2afd7aa3b: Pulling fs layer 
38ed77ec5a81: Waiting 
31e8e313caa0: Waiting 
c7357eb29fd3: Waiting 
34df33129d81: Waiting 
0a630901dd14: Pulling fs layer 
cbb0528e563f: Pulling fs layer 
ae91864c4169: Waiting 
ae661c59625f: Pulling fs layer 
41a6970df420: Waiting 
45e143983e89: Waiting 
a55bc3fb4368: Waiting 
4cf1bf30d30d: Pulling fs layer 
c109a0d2c7b3: Waiting 
03e5829ed5dc: Pulling fs layer 
3ebedb601ae8: Waiting 
e4352ed84c6c: Pulling fs layer 
3634ce459570: Waiting 
c98c5c531426: Waiting 
2b2a596158d6: Waiting 
226e18013db7: Waiting 
1037cadc5e48: Waiting 
c824270006e3: Waiting 
92f1b0416e4c: Waiting 
e2183b3fa23d: Waiting 
202cc1970bd7: Waiting 
0ded329a967d: Pulling fs layer 
87d17e04a1fb: Waiting 
15470069d569: Waiting 
0e2f94e21a78: Waiting 
eb4b4b3eea83: Waiting 
c8085640195f: Pull complete 
14a28f1726f4: Pull complete 
ee98991b0d47: Pull complete 
c18775467860: Pull complete 
aeeed8b52e19: Pull complete 
8694196a844b: Pull complete 
7d3d72bb8a91: Pull complete 
27c755304502: Pull complete 
a6d9f33956a9: Pull complete 
eeb295869640: Pull complete 
8621f86e1c9b: Pull complete 
9ad1b1854bcd: Pull complete 
573f53b188ab: Pull complete 
68eb8627d398: Pull complete 
fd310aaf48d9: Pull complete 
b97758516ddf: Pull complete 
17a0107fc232: Pull complete 
83431a4bc910: Pull complete 
fc113229c916: Pull complete 
f30b7a7e0615: Pull complete 
3d193aa6b31a: Pull complete 
f5deca51cf69: Pull complete 
60f0b0fd8e99: Pull complete 
Digest: sha256:85f4ca8704d060fbf16a55ca0ab04f8659ed1f9e4c216cc1400ca04434f80969
Status: Downloaded newer image for kairin/001:15-flash-attention
docker.io/kairin/001:15-flash-attention
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:15-flash-attention exists locally after pull...
Image kairin/001:15-flash-attention verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:15-flash-attention
Processing numbered directory: build/16-stable-diffusion
Generating fixed tag: kairin/001:16-stable-diffusion
Using base image build arg: kairin/001:15-flash-attention
--------------------------------------------------
Building and pushing image from folder: build/16-stable-diffusion
Image Name: 16-stable-diffusion
Platform: linux/arm64
Tag: kairin/001:16-stable-diffusion
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:16-stable-diffusion --build-arg BASE_IMAGE=kairin/001:15-flash-attention --push build/16-stable-diffusion
[+] Building 280.8s (6/6) FINISHED                                                                                                                                                             docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 3.17kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:15-flash-attention                                                                                                                                                  2.7s
 => [auth] kairin/001:pull token for registry-1.docker.io                                                                                                                                                                 0.0s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/2] FROM docker.io/kairin/001:15-flash-attention@sha256:85f4ca8704d060fbf16a55ca0ab04f8659ed1f9e4c216cc1400ca04434f80969                                                                                          273.4s
 => => resolve docker.io/kairin/001:15-flash-attention@sha256:85f4ca8704d060fbf16a55ca0ab04f8659ed1f9e4c216cc1400ca04434f80969                                                                                            0.1s
 => => sha256:60f0b0fd8e999f168775af4ab68f77b0d3944c6e7935e420de4b1dd1db2d09bd 510.76MB / 510.76MB                                                                                                                       13.0s
 => => sha256:f5deca51cf6997065027f2398fdb97cc670d9166d56328eeefa54f63ac352ac0 1.54kB / 1.54kB                                                                                                                            1.1s
 => => sha256:3d193aa6b31a731cbd9dcaf04444800e762f8e04d6ca52ab255d8de5d9e52f7e 224B / 224B                                                                                                                                1.0s
 => => sha256:f30b7a7e06159ea71ed2da028a64303b9a3be8fd14ede4a491129083737ffc6a 322.23MB / 322.23MB                                                                                                                        8.2s
 => => sha256:fc113229c9161680162e6dd02cad24e2aaa9e10281ec761ff17362e3aaa6f29c 578B / 578B                                                                                                                                0.4s
 => => sha256:83431a4bc9101ffe41725ad6eb52bacc62566549cded0fc98064217e53db6938 100.20kB / 100.20kB                                                                                                                        0.4s
 => => sha256:17a0107fc2324783900e49f792e9acec49cb970aab03e291cafeb02ae13b2cda 2.06kB / 2.06kB                                                                                                                            0.8s
 => => sha256:b97758516ddf3e8d20e5f74e4dd9009ca9bb05cd8b7456484197417e2a9db07f 32.86MB / 32.86MB                                                                                                                          2.1s
 => => sha256:fd310aaf48d988d02a88351164060604757f72966924b9080eb2173ba2a24dc2 757B / 757B                                                                                                                                0.3s
 => => sha256:68eb8627d3982f2c5fe4c2ded7f809f854c8d35813c593814b2df69eb28c1026 181.03kB / 181.03kB                                                                                                                        1.1s
 => => sha256:573f53b188ab95ecba694b6843a3b81b7a89b48216a86d6bfe8e20023a06d5d6 1.41kB / 1.41kB                                                                                                                            0.3s
 => => sha256:9ad1b1854bcdd27dcd262e3ff2475208c6857ffb2faf90ddc08b9aed4a108d52 487B / 487B                                                                                                                                0.3s
 => => sha256:8621f86e1c9b4f5b8feabc88a6495b0b1a3a69a5d4d5458d653499d16a80fa7a 92.06MB / 92.06MB                                                                                                                          2.8s
 => => sha256:eeb2958696402de51b70c552618160c4a589dc71e7279f6c60e9c21fa6135ae0 572B / 572B                                                                                                                                0.5s
 => => sha256:a6d9f33956a91cf65594ef3a268ec322dc18df41352ddf9958b12984d65da5a8 54.25MB / 54.25MB                                                                                                                          2.0s
 => => sha256:27c7553045021bea441711e6c89e2b8dff1aae28bc5e5363442b7055bfb413f1 4.23kB / 4.23kB                                                                                                                            0.3s
 => => sha256:7d3d72bb8a914861c1b4196910b7d8b92e6472cae376be76c5d562e1f38c9981 188.50MB / 188.50MB                                                                                                                        7.4s
 => => sha256:8694196a844b300ade05f5e81464691651b5dc7d01b1bf68f82119a1d7c317f4 3.84kB / 3.84kB                                                                                                                            0.3s
 => => sha256:aeeed8b52e19a47f347eab857e2b2a36d55aa2f305d6ded2a9350d0933feea95 39.23MB / 39.23MB                                                                                                                          1.1s
 => => sha256:c1877546786064ab84c46b65b2ae5eaace24b8d5533c0c8fe0d0621c36b11cd6 101.13kB / 101.13kB                                                                                                                        1.2s
 => => sha256:ee98991b0d471841753ca2bce286f4610f15564e728d20c7d60a7190849f3cbb 251.20MB / 251.20MB                                                                                                                        4.3s
 => => sha256:14a28f1726f46f8bf17d0f52518d5cfda5269a4b9a64c6c3acf0a7685d274286 5.79MB / 5.79MB                                                                                                                            0.6s
 => => sha256:c8085640195f2721512b34c6ccd33c4ad12ec954e16d374bcd2cc3e39686b5e6 9.48MB / 9.48MB                                                                                                                            1.0s
 => => sha256:eb4b4b3eea834a1f42e45a3b7fe1cd0b6e06c2b0fdaa6a92f444e39eb697570f 889B / 889B                                                                                                                                0.3s
 => => sha256:0e2f94e21a78fb86060fd3cbd23a31ab3123ad340fcbcdef2fc91bb1c615111f 459.81kB / 459.81kB                                                                                                                        0.3s
 => => sha256:15470069d569d6b3640ffde2577c64f3f1efde1ecced47a3d77b9411d2578cb8 33.12MB / 33.12MB                                                                                                                          1.7s
 => => sha256:87d17e04a1fbe62fc54178e39885b6deb03415f5ea470399db9ae7d3a9a9f18b 54.03MB / 54.03MB                                                                                                                          1.0s
 => => sha256:0ded329a967d8fc832304f17c0c02b632054c203bd9ed0f0b9a336287f997f3a 2.40MB / 2.40MB                                                                                                                            6.5s
 => => sha256:202cc1970bd76921d788636c4361db34ce97f4485e8971c3fa8c561da480e4c3 1.28kB / 1.28kB                                                                                                                            0.4s
 => => sha256:e2183b3fa23d91bd9544a80667102973396b7c44770bbabd8a163e09aa911803 188.35MB / 188.35MB                                                                                                                        5.5s
 => => sha256:92f1b0416e4c3a4dfc21ffa863a6a24ea185cb4d086254fa158cea8a20b377a2 24.50kB / 24.50kB                                                                                                                          0.3s
 => => sha256:c824270006e348f8c414e39fb707a000723f0ea0ec362292e8b5f9c4a72d3222 3.07kB / 3.07kB                                                                                                                            0.3s
 => => sha256:1037cadc5e48c36a19545c544a1db46fa16967c439d2b9787a990a05a6e4bec3 1.66kB / 1.66kB                                                                                                                            0.3s
 => => sha256:2b2a596158d64b4d137d56d619bb8655138dbd755d34881b3b435ac109d3c04a 12.03kB / 12.03kB                                                                                                                          0.3s
 => => sha256:c98c5c531426d85b69254f3be3d2a001472c8cbc8776b5ebb5de78c54aa32483 15.12MB / 15.12MB                                                                                                                          0.4s
 => => sha256:226e18013db769b9344c4f1fdde0841bb69d55064626ab92101fe2c42490c7fc 500B / 500B                                                                                                                                0.3s
 => => sha256:3634ce45957070f78b6323064de073044910869229ebfb4b7fd791ff86db4148 126.93MB / 126.93MB                                                                                                                        1.9s
 => => sha256:e4352ed84c6c7ca1394ca1e5094769b8e404fa05777e8ddd4fddb4c5f837f2c6 66.84MB / 66.84MB                                                                                                                          2.9s
 => => sha256:3ebedb601ae89bac490ce79aa74c68e9b61eb812c812479384c5332c119bcb9b 23.98MB / 23.98MB                                                                                                                          0.9s
 => => sha256:03e5829ed5dc043d23ab9ccf22469d5176866088583b7b4bb3340c15e9d8d3af 1.89MB / 1.89MB                                                                                                                            0.3s
 => => sha256:c109a0d2c7b3fc1f5889ee839bd0e0129629c57fc09d109b0f0bd29cab7e4442 30.13MB / 30.13MB                                                                                                                          1.0s
 => => sha256:4cf1bf30d30df311f0a31b4e9ef357702bf20072d2f7ffc2828fc88ac4ffa769 30.13MB / 30.13MB                                                                                                                          1.5s
 => => sha256:a55bc3fb4368a4c72685dbd41a9c3877d5f0cea5dc37e333b700ba9aa1d35e38 1.11kB / 1.11kB                                                                                                                            0.3s
 => => sha256:45e143983e89767e3e0413f189c8678416a7b798c9e805b6ef79602faf3fefce 1.12kB / 1.12kB                                                                                                                            0.3s
 => => sha256:41a6970df420236efc7be2910fcc6516f9ade9146f60a91e5d392dd7aa4aaaf4 73.69kB / 73.69kB                                                                                                                          0.3s
 => => sha256:ae661c59625faf2ff22e79481f983b5946aded5436dd7d2d500346516ecf2ad3 58.97MB / 58.97MB                                                                                                                          1.2s
 => => sha256:ae91864c41695e692b72b283740b50e5858c24ab42bace4b631b1c5e087e4d99 1.11kB / 1.11kB                                                                                                                            0.5s
 => => sha256:cbb0528e563fa8ca7a7e6e4e504107d301ff22ce736291f35623cb86895002aa 22.28MB / 22.28MB                                                                                                                          1.1s
 => => sha256:0a630901dd1405ec90654141d4e563a386999a5f15ca31fa1b842bdf3f6706fd 271.80MB / 271.80MB                                                                                                                        5.5s
 => => sha256:34df33129d812a5da6457a6bae53b43966ff1c8247d1b6a81ce16fc058ca9665 2.73MB / 2.73MB                                                                                                                            0.6s
 => => sha256:c7357eb29fd3d738979d86667cd0743fbe4925b0cc5efbd6237448adc22fccc5 1.99MB / 1.99MB                                                                                                                            0.3s
 => => sha256:7bb2afd7aa3b89d30f7fabf1989d38b7ae4985eed0e7666b354e6531aa81f9b4 2.98kB / 2.98kB                                                                                                                            0.3s
 => => sha256:31e8e313caa062b74a9a611c6899c01e6e4a1c699714024b6b1d58052e7e5d94 1.84MB / 1.84MB                                                                                                                            0.4s
 => => sha256:e4666a77ed2267aadac6aaf4c56680c7bedbdc232527114414f77cf2c90e1a5a 684.74MB / 684.74MB                                                                                                                       17.8s
 => => sha256:38ed77ec5a819043a85d92379ea51b9686d6015cfe44af09a284e2e51addb62e 71.43kB / 71.43kB                                                                                                                          0.3s
 => => sha256:923cd347b4e85d35f3d2ed5a5a0114aca46f88c0ff46c2dc40ffcf6e37df60fb 17.01MB / 17.01MB                                                                                                                          0.9s
 => => sha256:f1bbedd0bd9a7b2457e287cbc548d8c1a93245b3af526c6a002753289b4b4d25 366B / 366B                                                                                                                                0.3s
 => => sha256:dc79c5ab374de86ab40ae2ac8431466425ea55977e124d52843d0e63ded14bb6 377B / 377B                                                                                                                                0.3s
 => => sha256:faa7cc1124978c6f7588951cdf1e39b3c2dcd3dbded4d855bbb2bb4a22c3b43b 527B / 527B                                                                                                                                0.3s
 => => sha256:34f20df2a26f5f6ffb96c1f060a41cafb5de115314ecd0698413f81da1328a8d 3.28MB / 3.28MB                                                                                                                            0.4s
 => => sha256:af531eac70fd8567f933fa8db1f6c4a7a6fd8c0700b644d3f00a7b7f07d21301 8.58kB / 8.58kB                                                                                                                            0.3s
 => => sha256:802bc59e2bf80686da3c9bc48399c3a3e1d95f4717d1788ba059ca7d2ee056eb 68.40MB / 68.40MB                                                                                                                          4.7s
 => => sha256:a3d31621af25394e5e621c1981ffc0ed688dda6e6311267fadbee319e57b348c 363.45MB / 363.45MB                                                                                                                        8.8s
 => => sha256:216e89ddf31400c9ebaeab33161ed678763f651391a108438c29fcb7ef616e9f 178.29MB / 178.29MB                                                                                                                        6.1s
 => => sha256:29fcf67f0d1a528e26b9aeba8e459e68147020669a372ecba983060a79330a07 115B / 115B                                                                                                                                0.3s
 => => sha256:b37f28190bc62b2368a33e5151d74cea654c7436912bb34a010b4d814318575f 15.56MB / 15.56MB                                                                                                                          1.4s
 => => sha256:05450796e66d8c213ce19f5090047ee2440e4e745bde46c55eb6ac79e31a4603 11.70MB / 11.70MB                                                                                                                          1.3s
 => => sha256:2aeb586ef0e62ad9fbe94e05608138c5d609fa105ba0af2d7f74e0010feca46f 29.72MB / 29.72MB                                                                                                                          1.4s
 => => sha256:88ca70cf02a1c9e1a9595712cb2000fe4402d15d9cb280ffeccb7db8f61b31da 330B / 330B                                                                                                                                0.3s
 => => sha256:92f82ad8578365fa9168aff09110042f9638feedde0172e0b810b6a0fc85c512 5.77MB / 5.77MB                                                                                                                            0.7s
 => => sha256:327fd7eaf4cd092ba9170272c2cac5fa7282e4e0c9584d5124c6b94da0a413f7 67.75MB / 67.75MB                                                                                                                          2.4s
 => => sha256:6cb43d1d64acd27482882f7e797ea07d2be0e779e7fd6fbcf5d8f12fd54e190f 143B / 143B                                                                                                                                0.7s
 => => sha256:aca565c68a8567aa26abfbe3eded1921512aa18234aabcfe0304b34e9cd4900b 64.55MB / 64.55MB                                                                                                                          2.6s
 => => sha256:aa6970acc1956ee9c52a5bea4d181b1f162a9a214861b3a0c80e805dc30c3e96 503B / 503B                                                                                                                                0.5s
 => => sha256:0a884d0d3128070af6e8c53462632269d1d0b487ee122f86bb913e4a3c2b3f53 35.89MB / 35.89MB                                                                                                                          1.3s
 => => sha256:661c52cc55a237c2f90b28fa1b8e4930feffd8b51f2c31c5adbeb019ac1fb0c8 408B / 408B                                                                                                                                0.3s
 => => sha256:803dec0438f4320234792a83970539fdff33c3e1008b578d0dfb596dbec36b76 180B / 180B                                                                                                                                0.4s
 => => sha256:162c233071b38d823d8bad8e2498cfccb59c2d806f2d1b0dc89f55b9c311e48d 6.30kB / 6.30kB                                                                                                                            0.5s
 => => sha256:4368ccd587584e790cd524a6dd9ac8da378650e8134e65f8fca14674f105fff4 11.54kB / 11.54kB                                                                                                                          0.5s
 => => sha256:554ccab6c75ae458275cfcd52e001d3e9c509cb40dab7616912f2c7679d76f2c 2.11GB / 2.11GB                                                                                                                           25.0s
 => => sha256:db11526ede66162fd00c3e885600df11a5478d8a9ea8d06458a4d4f03c8478fc 15.61kB / 15.61kB                                                                                                                          0.8s
 => => sha256:38a09ab6290f0168bcacd7c07037ba1f3a1349c43bd667f42c938651914e8c3a 217.05MB / 217.05MB                                                                                                                        4.3s
 => => sha256:5cc84ac41104781d511b889b6cea50d16f1ea867e16c89238a7afe0046490e24 86.56MB / 86.56MB                                                                                                                          5.4s
 => => sha256:3318952e176bb82db993dec95624f35e505a8abd380e30c1b7f895e38947d658 114.78MB / 114.78MB                                                                                                                        3.4s
 => => sha256:5b17151e9710ed47471b3928b05325fa4832121a395b9647b7e50d3993e17ce0 28.89MB / 28.89MB                                                                                                                          0.9s
 => => extracting sha256:5b17151e9710ed47471b3928b05325fa4832121a395b9647b7e50d3993e17ce0                                                                                                                                 1.3s
 => => sha256:6055d2b1b56631f187cad368c4c728b5e543a1ff19ac8c8092b20330cd86047b 205B / 205B                                                                                                                                0.3s
 => => extracting sha256:6055d2b1b56631f187cad368c4c728b5e543a1ff19ac8c8092b20330cd86047b                                                                                                                                 0.0s
 => => extracting sha256:3318952e176bb82db993dec95624f35e505a8abd380e30c1b7f895e38947d658                                                                                                                                 3.8s
 => => extracting sha256:5cc84ac41104781d511b889b6cea50d16f1ea867e16c89238a7afe0046490e24                                                                                                                                 2.2s
 => => extracting sha256:38a09ab6290f0168bcacd7c07037ba1f3a1349c43bd667f42c938651914e8c3a                                                                                                                                 4.5s
 => => extracting sha256:db11526ede66162fd00c3e885600df11a5478d8a9ea8d06458a4d4f03c8478fc                                                                                                                                 0.0s
 => => extracting sha256:554ccab6c75ae458275cfcd52e001d3e9c509cb40dab7616912f2c7679d76f2c                                                                                                                                22.7s
 => => extracting sha256:4368ccd587584e790cd524a6dd9ac8da378650e8134e65f8fca14674f105fff4                                                                                                                                 0.0s
 => => extracting sha256:803dec0438f4320234792a83970539fdff33c3e1008b578d0dfb596dbec36b76                                                                                                                                 0.0s
 => => extracting sha256:162c233071b38d823d8bad8e2498cfccb59c2d806f2d1b0dc89f55b9c311e48d                                                                                                                                 0.0s
 => => extracting sha256:661c52cc55a237c2f90b28fa1b8e4930feffd8b51f2c31c5adbeb019ac1fb0c8                                                                                                                                 0.0s
 => => extracting sha256:0a884d0d3128070af6e8c53462632269d1d0b487ee122f86bb913e4a3c2b3f53                                                                                                                                 1.8s
 => => extracting sha256:aa6970acc1956ee9c52a5bea4d181b1f162a9a214861b3a0c80e805dc30c3e96                                                                                                                                 0.0s
 => => extracting sha256:aca565c68a8567aa26abfbe3eded1921512aa18234aabcfe0304b34e9cd4900b                                                                                                                                 1.4s
 => => extracting sha256:6cb43d1d64acd27482882f7e797ea07d2be0e779e7fd6fbcf5d8f12fd54e190f                                                                                                                                 0.0s
 => => extracting sha256:4f4fb700ef54461cfa02571ae0db9a0dc1e0cdb5577484a6d75e68dc38e8acc1                                                                                                                                 0.0s
 => => extracting sha256:327fd7eaf4cd092ba9170272c2cac5fa7282e4e0c9584d5124c6b94da0a413f7                                                                                                                                 2.2s
 => => extracting sha256:92f82ad8578365fa9168aff09110042f9638feedde0172e0b810b6a0fc85c512                                                                                                                                 0.3s
 => => extracting sha256:88ca70cf02a1c9e1a9595712cb2000fe4402d15d9cb280ffeccb7db8f61b31da                                                                                                                                 0.0s
 => => extracting sha256:2aeb586ef0e62ad9fbe94e05608138c5d609fa105ba0af2d7f74e0010feca46f                                                                                                                                 2.0s
 => => extracting sha256:05450796e66d8c213ce19f5090047ee2440e4e745bde46c55eb6ac79e31a4603                                                                                                                                 0.2s
 => => extracting sha256:b37f28190bc62b2368a33e5151d74cea654c7436912bb34a010b4d814318575f                                                                                                                                 0.2s
 => => extracting sha256:29fcf67f0d1a528e26b9aeba8e459e68147020669a372ecba983060a79330a07                                                                                                                                 0.0s
 => => extracting sha256:a3d31621af25394e5e621c1981ffc0ed688dda6e6311267fadbee319e57b348c                                                                                                                                50.5s
 => => extracting sha256:216e89ddf31400c9ebaeab33161ed678763f651391a108438c29fcb7ef616e9f                                                                                                                                 7.5s
 => => extracting sha256:802bc59e2bf80686da3c9bc48399c3a3e1d95f4717d1788ba059ca7d2ee056eb                                                                                                                                 5.1s
 => => extracting sha256:af531eac70fd8567f933fa8db1f6c4a7a6fd8c0700b644d3f00a7b7f07d21301                                                                                                                                 0.0s
 => => extracting sha256:34f20df2a26f5f6ffb96c1f060a41cafb5de115314ecd0698413f81da1328a8d                                                                                                                                 0.3s
 => => extracting sha256:faa7cc1124978c6f7588951cdf1e39b3c2dcd3dbded4d855bbb2bb4a22c3b43b                                                                                                                                 0.0s
 => => extracting sha256:dc79c5ab374de86ab40ae2ac8431466425ea55977e124d52843d0e63ded14bb6                                                                                                                                 0.0s
 => => extracting sha256:f1bbedd0bd9a7b2457e287cbc548d8c1a93245b3af526c6a002753289b4b4d25                                                                                                                                 0.0s
 => => extracting sha256:923cd347b4e85d35f3d2ed5a5a0114aca46f88c0ff46c2dc40ffcf6e37df60fb                                                                                                                                 0.5s
 => => extracting sha256:e4666a77ed2267aadac6aaf4c56680c7bedbdc232527114414f77cf2c90e1a5a                                                                                                                                15.4s
 => => extracting sha256:7bb2afd7aa3b89d30f7fabf1989d38b7ae4985eed0e7666b354e6531aa81f9b4                                                                                                                                 0.0s
 => => extracting sha256:38ed77ec5a819043a85d92379ea51b9686d6015cfe44af09a284e2e51addb62e                                                                                                                                 0.0s
 => => extracting sha256:31e8e313caa062b74a9a611c6899c01e6e4a1c699714024b6b1d58052e7e5d94                                                                                                                                 0.1s
 => => extracting sha256:c7357eb29fd3d738979d86667cd0743fbe4925b0cc5efbd6237448adc22fccc5                                                                                                                                 0.1s
 => => extracting sha256:34df33129d812a5da6457a6bae53b43966ff1c8247d1b6a81ce16fc058ca9665                                                                                                                                 0.1s
 => => extracting sha256:0a630901dd1405ec90654141d4e563a386999a5f15ca31fa1b842bdf3f6706fd                                                                                                                                 4.3s
 => => extracting sha256:cbb0528e563fa8ca7a7e6e4e504107d301ff22ce736291f35623cb86895002aa                                                                                                                                 1.1s
 => => extracting sha256:ae91864c41695e692b72b283740b50e5858c24ab42bace4b631b1c5e087e4d99                                                                                                                                 0.0s
 => => extracting sha256:ae661c59625faf2ff22e79481f983b5946aded5436dd7d2d500346516ecf2ad3                                                                                                                                 9.5s
 => => extracting sha256:41a6970df420236efc7be2910fcc6516f9ade9146f60a91e5d392dd7aa4aaaf4                                                                                                                                 0.1s
 => => extracting sha256:45e143983e89767e3e0413f189c8678416a7b798c9e805b6ef79602faf3fefce                                                                                                                                 0.0s
 => => extracting sha256:a55bc3fb4368a4c72685dbd41a9c3877d5f0cea5dc37e333b700ba9aa1d35e38                                                                                                                                 0.0s
 => => extracting sha256:4cf1bf30d30df311f0a31b4e9ef357702bf20072d2f7ffc2828fc88ac4ffa769                                                                                                                                 0.4s
 => => extracting sha256:c109a0d2c7b3fc1f5889ee839bd0e0129629c57fc09d109b0f0bd29cab7e4442                                                                                                                                 0.3s
 => => extracting sha256:03e5829ed5dc043d23ab9ccf22469d5176866088583b7b4bb3340c15e9d8d3af                                                                                                                                 0.1s
 => => extracting sha256:3ebedb601ae89bac490ce79aa74c68e9b61eb812c812479384c5332c119bcb9b                                                                                                                                 0.9s
 => => extracting sha256:e4352ed84c6c7ca1394ca1e5094769b8e404fa05777e8ddd4fddb4c5f837f2c6                                                                                                                                 3.3s
 => => extracting sha256:3634ce45957070f78b6323064de073044910869229ebfb4b7fd791ff86db4148                                                                                                                                 2.9s
 => => extracting sha256:c98c5c531426d85b69254f3be3d2a001472c8cbc8776b5ebb5de78c54aa32483                                                                                                                                 0.5s
 => => extracting sha256:2b2a596158d64b4d137d56d619bb8655138dbd755d34881b3b435ac109d3c04a                                                                                                                                 0.0s
 => => extracting sha256:226e18013db769b9344c4f1fdde0841bb69d55064626ab92101fe2c42490c7fc                                                                                                                                 0.0s
 => => extracting sha256:1037cadc5e48c36a19545c544a1db46fa16967c439d2b9787a990a05a6e4bec3                                                                                                                                 0.0s
 => => extracting sha256:c824270006e348f8c414e39fb707a000723f0ea0ec362292e8b5f9c4a72d3222                                                                                                                                 0.0s
 => => extracting sha256:92f1b0416e4c3a4dfc21ffa863a6a24ea185cb4d086254fa158cea8a20b377a2                                                                                                                                 0.1s
 => => extracting sha256:e2183b3fa23d91bd9544a80667102973396b7c44770bbabd8a163e09aa911803                                                                                                                                 7.2s
 => => extracting sha256:202cc1970bd76921d788636c4361db34ce97f4485e8971c3fa8c561da480e4c3                                                                                                                                 0.1s
 => => extracting sha256:0ded329a967d8fc832304f17c0c02b632054c203bd9ed0f0b9a336287f997f3a                                                                                                                                 0.1s
 => => extracting sha256:87d17e04a1fbe62fc54178e39885b6deb03415f5ea470399db9ae7d3a9a9f18b                                                                                                                                 0.4s
 => => extracting sha256:15470069d569d6b3640ffde2577c64f3f1efde1ecced47a3d77b9411d2578cb8                                                                                                                                 0.4s
 => => extracting sha256:0e2f94e21a78fb86060fd3cbd23a31ab3123ad340fcbcdef2fc91bb1c615111f                                                                                                                                 0.0s
 => => extracting sha256:eb4b4b3eea834a1f42e45a3b7fe1cd0b6e06c2b0fdaa6a92f444e39eb697570f                                                                                                                                 0.0s
 => => extracting sha256:c8085640195f2721512b34c6ccd33c4ad12ec954e16d374bcd2cc3e39686b5e6                                                                                                                                 1.2s
 => => extracting sha256:14a28f1726f46f8bf17d0f52518d5cfda5269a4b9a64c6c3acf0a7685d274286                                                                                                                                 0.2s
 => => extracting sha256:ee98991b0d471841753ca2bce286f4610f15564e728d20c7d60a7190849f3cbb                                                                                                                                24.6s
 => => extracting sha256:c1877546786064ab84c46b65b2ae5eaace24b8d5533c0c8fe0d0621c36b11cd6                                                                                                                                 0.0s
 => => extracting sha256:aeeed8b52e19a47f347eab857e2b2a36d55aa2f305d6ded2a9350d0933feea95                                                                                                                                 1.1s
 => => extracting sha256:8694196a844b300ade05f5e81464691651b5dc7d01b1bf68f82119a1d7c317f4                                                                                                                                 0.0s
 => => extracting sha256:7d3d72bb8a914861c1b4196910b7d8b92e6472cae376be76c5d562e1f38c9981                                                                                                                                 9.9s
 => => extracting sha256:27c7553045021bea441711e6c89e2b8dff1aae28bc5e5363442b7055bfb413f1                                                                                                                                 0.1s
 => => extracting sha256:a6d9f33956a91cf65594ef3a268ec322dc18df41352ddf9958b12984d65da5a8                                                                                                                                 1.2s
 => => extracting sha256:eeb2958696402de51b70c552618160c4a589dc71e7279f6c60e9c21fa6135ae0                                                                                                                                 0.0s
 => => extracting sha256:8621f86e1c9b4f5b8feabc88a6495b0b1a3a69a5d4d5458d653499d16a80fa7a                                                                                                                                 2.6s
 => => extracting sha256:9ad1b1854bcdd27dcd262e3ff2475208c6857ffb2faf90ddc08b9aed4a108d52                                                                                                                                 0.0s
 => => extracting sha256:573f53b188ab95ecba694b6843a3b81b7a89b48216a86d6bfe8e20023a06d5d6                                                                                                                                 0.0s
 => => extracting sha256:68eb8627d3982f2c5fe4c2ded7f809f854c8d35813c593814b2df69eb28c1026                                                                                                                                 0.1s
 => => extracting sha256:fd310aaf48d988d02a88351164060604757f72966924b9080eb2173ba2a24dc2                                                                                                                                 0.0s
 => => extracting sha256:b97758516ddf3e8d20e5f74e4dd9009ca9bb05cd8b7456484197417e2a9db07f                                                                                                                                 2.6s
 => => extracting sha256:17a0107fc2324783900e49f792e9acec49cb970aab03e291cafeb02ae13b2cda                                                                                                                                 0.0s
 => => extracting sha256:83431a4bc9101ffe41725ad6eb52bacc62566549cded0fc98064217e53db6938                                                                                                                                 0.0s
 => => extracting sha256:fc113229c9161680162e6dd02cad24e2aaa9e10281ec761ff17362e3aaa6f29c                                                                                                                                 0.0s
 => => extracting sha256:f30b7a7e06159ea71ed2da028a64303b9a3be8fd14ede4a491129083737ffc6a                                                                                                                                12.1s
 => => extracting sha256:3d193aa6b31a731cbd9dcaf04444800e762f8e04d6ca52ab255d8de5d9e52f7e                                                                                                                                 0.0s
 => => extracting sha256:f5deca51cf6997065027f2398fdb97cc670d9166d56328eeefa54f63ac352ac0                                                                                                                                 0.0s
 => => extracting sha256:60f0b0fd8e999f168775af4ab68f77b0d3944c6e7935e420de4b1dd1db2d09bd                                                                                                                                11.5s
 => ERROR [2/2] RUN set -ex     && pip3 install --no-cache-dir         diffusers==0.24.0         clip==1.0         kornia==0.7.0         taming-transformers==0.0.1         invisible-watermark==0.2.0         einops==0  4.1s
------
 > [2/2] RUN set -ex     && pip3 install --no-cache-dir         diffusers==0.24.0         clip==1.0         kornia==0.7.0         taming-transformers==0.0.1         invisible-watermark==0.2.0         einops==0.7.0         pandas==2.1.1         scipy==1.11.3         && PYTHON_DIST_PACKAGES=$(python3 -c 'import sys; print(f"/usr/local/lib/python{sys.version_info.major}.{sys.version_info.minor}/dist-packages")')     && wget https://raw.githubusercontent.com/CompVis/taming-transformers/master/taming/modules/vqvae/quantize.py -O $PYTHON_DIST_PACKAGES/taming/modules/vqvae/quantize.py         && rm -rf /opt/stable-diffusion /opt/stable-diffusion-optimized         && git clone --depth=1 https://github.com/CompVis/stable-diffusion /opt/stable-diffusion     && git clone --depth=1 https://github.com/basujindal/stable-diffusion /opt/stable-diffusion-optimized     && cp -r /opt/stable-diffusion-optimized/optimizedSD /opt/stable-diffusion/     && rm -rf /opt/stable-diffusion-optimized         && sed -i         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g'         -e 's|@rank_zero_only||g'         /opt/stable-diffusion/ldm/models/diffusion/ddpm.py     && sed -i         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g'         -e 's|@rank_zero_only||g'         /opt/stable-diffusion/optimizedSD/ddpm.py         && mkdir -p /data/models/diffusers     && mkdir -p /data/images/stable-diffusion         && echo "# Check for Stable Diffusion packages" >> /tmp/sd_checks.sh     && echo "check_python_pkg diffusers" >> /tmp/sd_checks.sh     && echo "check_dir /opt/stable-diffusion 'Stable Diffusion'" >> /tmp/sd_checks.sh     && cat /tmp/sd_checks.sh >> /opt/list_app_checks.sh         && rm -rf /root/.cache/pip     && find /opt/stable-diffusion -name ".git" -type d -exec rm -rf {} +     && rm -f /tmp/sd_checks.sh:
0.104 + pip3 install --no-cache-dir diffusers==0.24.0 clip==1.0 kornia==0.7.0 taming-transformers==0.0.1 invisible-watermark==0.2.0 einops==0.7.0 pandas==2.1.1 scipy==1.11.3
0.639 Using pip 25.0.1 from /opt/venv/lib/python3.12/site-packages/pip (python 3.12)
0.995 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/dill-0.3.9-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
0.995 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/looseversion-1.3.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
0.996 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_utilities-0.14.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
0.996 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_thunder-0.2.2.dev0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
0.997 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/opt_einsum-3.4.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
0.997 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/nvfuser-0.2.26a0+c5e1555-py3.12-linux-aarch64.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.244 Collecting diffusers==0.24.0
1.244   Obtaining dependency information for diffusers==0.24.0 from https://files.pythonhosted.org/packages/dc/92/b17949ff6b634bfb93e12ff8753288d6c59edf4366cc5c501377e6373e0c/diffusers-0.24.0-py3-none-any.whl.metadata
1.418   Downloading diffusers-0.24.0-py3-none-any.whl.metadata (18 kB)
1.691 ERROR: Could not find a version that satisfies the requirement clip==1.0 (from versions: 0.0.1, 0.1.0, 0.2.0)
1.691 ERROR: No matching distribution found for clip==1.0
------

 1 warning found (use docker --debug to expand):
 - UndefinedVar: Usage of undefined variable '$PYTHONPATH' (line 71)
Dockerfile:20
--------------------
  19 |     # Install dependencies and set up Stable Diffusion repositories
  20 | >>> RUN set -ex \
  21 | >>>     # Install Python packages with version pinning \
  22 | >>>     && pip3 install --no-cache-dir \
  23 | >>>         diffusers==0.24.0 \
  24 | >>>         clip==1.0 \
  25 | >>>         kornia==0.7.0 \
  26 | >>>         taming-transformers==0.0.1 \
  27 | >>>         invisible-watermark==0.2.0 \
  28 | >>>         einops==0.7.0 \
  29 | >>>         pandas==2.1.1 \
  30 | >>>         scipy==1.11.3 \
  31 | >>>     \
  32 | >>>     # Get Python dist-packages path \
  33 | >>>     && PYTHON_DIST_PACKAGES=$(python3 -c 'import sys; print(f"/usr/local/lib/python{sys.version_info.major}.{sys.version_info.minor}/dist-packages")') \
  34 | >>>     && wget https://raw.githubusercontent.com/CompVis/taming-transformers/master/taming/modules/vqvae/quantize.py -O $PYTHON_DIST_PACKAGES/taming/modules/vqvae/quantize.py \
  35 | >>>     \
  36 | >>>     # Clean before cloning \
  37 | >>>     && rm -rf /opt/stable-diffusion /opt/stable-diffusion-optimized \
  38 | >>>     \
  39 | >>>     # Clone repositories \
  40 | >>>     && git clone --depth=1 https://github.com/CompVis/stable-diffusion /opt/stable-diffusion \
  41 | >>>     && git clone --depth=1 https://github.com/basujindal/stable-diffusion /opt/stable-diffusion-optimized \
  42 | >>>     && cp -r /opt/stable-diffusion-optimized/optimizedSD /opt/stable-diffusion/ \
  43 | >>>     && rm -rf /opt/stable-diffusion-optimized \
  44 | >>>     \
  45 | >>>     # Apply fixes \
  46 | >>>     && sed -i \
  47 | >>>         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g' \
  48 | >>>         -e 's|@rank_zero_only||g' \
  49 | >>>         /opt/stable-diffusion/ldm/models/diffusion/ddpm.py \
  50 | >>>     && sed -i \
  51 | >>>         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g' \
  52 | >>>         -e 's|@rank_zero_only||g' \
  53 | >>>         /opt/stable-diffusion/optimizedSD/ddpm.py \
  54 | >>>     \
  55 | >>>     # Create directories \
  56 | >>>     && mkdir -p /data/models/diffusers \
  57 | >>>     && mkdir -p /data/images/stable-diffusion \
  58 | >>>     \
  59 | >>>     # Add verification checks \
  60 | >>>     && echo "# Check for Stable Diffusion packages" >> /tmp/sd_checks.sh \
  61 | >>>     && echo "check_python_pkg diffusers" >> /tmp/sd_checks.sh \
  62 | >>>     && echo "check_dir /opt/stable-diffusion 'Stable Diffusion'" >> /tmp/sd_checks.sh \
  63 | >>>     && cat /tmp/sd_checks.sh >> /opt/list_app_checks.sh \
  64 | >>>     \
  65 | >>>     # Cleanup \
  66 | >>>     && rm -rf /root/.cache/pip \
  67 | >>>     && find /opt/stable-diffusion -name ".git" -type d -exec rm -rf {} + \
  68 | >>>     && rm -f /tmp/sd_checks.sh
  69 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c set -ex     && pip3 install --no-cache-dir         diffusers==0.24.0         clip==1.0         kornia==0.7.0         taming-transformers==0.0.1         invisible-watermark==0.2.0         einops==0.7.0         pandas==2.1.1         scipy==1.11.3         && PYTHON_DIST_PACKAGES=$(python3 -c 'import sys; print(f\"/usr/local/lib/python{sys.version_info.major}.{sys.version_info.minor}/dist-packages\")')     && wget https://raw.githubusercontent.com/CompVis/taming-transformers/master/taming/modules/vqvae/quantize.py -O $PYTHON_DIST_PACKAGES/taming/modules/vqvae/quantize.py         && rm -rf /opt/stable-diffusion /opt/stable-diffusion-optimized         && git clone --depth=1 https://github.com/CompVis/stable-diffusion /opt/stable-diffusion     && git clone --depth=1 https://github.com/basujindal/stable-diffusion /opt/stable-diffusion-optimized     && cp -r /opt/stable-diffusion-optimized/optimizedSD /opt/stable-diffusion/     && rm -rf /opt/stable-diffusion-optimized         && sed -i         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g'         -e 's|@rank_zero_only||g'         /opt/stable-diffusion/ldm/models/diffusion/ddpm.py     && sed -i         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g'         -e 's|@rank_zero_only||g'         /opt/stable-diffusion/optimizedSD/ddpm.py         && mkdir -p /data/models/diffusers     && mkdir -p /data/images/stable-diffusion         && echo \"# Check for Stable Diffusion packages\" >> /tmp/sd_checks.sh     && echo \"check_python_pkg diffusers\" >> /tmp/sd_checks.sh     && echo \"check_dir /opt/stable-diffusion 'Stable Diffusion'\" >> /tmp/sd_checks.sh     && cat /tmp/sd_checks.sh >> /opt/list_app_checks.sh         && rm -rf /root/.cache/pip     && find /opt/stable-diffusion -name \".git\" -type d -exec rm -rf {} +     && rm -f /tmp/sd_checks.sh" did not complete successfully: exit code: 1
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:16-stable-diffusion
Error response from daemon: manifest for kairin/001:16-stable-diffusion not found: manifest unknown: manifest unknown
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:16-stable-diffusion exists locally after pull...
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Error: Image kairin/001:16-stable-diffusion NOT found locally immediately after successful 'docker pull'.
This indicates a potential issue with the Docker daemon or registry synchronization.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Build, push or pull failed for build/16-stable-diffusion. Subsequent dependent builds might fail.
Build process for build/16-stable-diffusion exited with code 1
Continuing with next build...
Processing numbered directory: build/17-stable-diffusion-webui
Generating fixed tag: kairin/001:17-stable-diffusion-webui
Using base image build arg: kairin/001:15-flash-attention
--------------------------------------------------
Building and pushing image from folder: build/17-stable-diffusion-webui
Image Name: 17-stable-diffusion-webui
Platform: linux/arm64
Tag: kairin/001:17-stable-diffusion-webui
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:17-stable-diffusion-webui --build-arg BASE_IMAGE=kairin/001:15-flash-attention --push build/17-stable-diffusion-webui
[+] Building 375.9s (9/9) FINISHED                                                                                                                                                             docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.1s
 => => transferring dockerfile: 8.20kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:15-flash-attention                                                                                                                                                  1.6s
 => [auth] kairin/001:pull token for registry-1.docker.io                                                                                                                                                                 0.0s
 => [internal] load .dockerignore                                                                                                                                                                                         0.1s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => CACHED [1/3] FROM docker.io/kairin/001:15-flash-attention@sha256:85f4ca8704d060fbf16a55ca0ab04f8659ed1f9e4c216cc1400ca04434f80969                                                                                     0.1s
 => => resolve docker.io/kairin/001:15-flash-attention@sha256:85f4ca8704d060fbf16a55ca0ab04f8659ed1f9e4c216cc1400ca04434f80969                                                                                            0.1s
 => [2/3] RUN set -ex     && L4T_VERSION=$(cat /etc/nv_tegra_release | grep -o 'R[0-9]\+.[0-9]\+.[0-9]\+' | sed 's/R//')     && L4T_MAJOR=$(echo $L4T_VERSION | cut -d. -f1)     && if [ "$L4T_MAJOR" -lt 36 ]; then    326.2s
 => [3/3] RUN mkdir -p /data/models/stable-diffusion                                                                                                                                                                      0.3s 
 => exporting to image                                                                                                                                                                                                   47.2s 
 => => exporting layers                                                                                                                                                                                                  23.9s 
 => => exporting manifest sha256:0d90d8a0fafc03191ca151e2d8c63e274cd14e46541515a611d80a2e877283a1                                                                                                                         0.0s 
 => => exporting config sha256:9ca9086064f84d6bc8ab59faf888d2663f269d3719e5c8eb06959cc8a98d2c63                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:fd5f3a5b4b65cf848d27d58d3e0d7156480a065d792f10ff32c4935e605f43d8                                                                                                             0.0s 
 => => exporting manifest list sha256:11c8ef7790fe966e37b53f6150e844c6b4e6763f0be0d66260bb169f9af12908                                                                                                                    0.0s
 => => pushing layers                                                                                                                                                                                                    20.1s
 => => pushing manifest for docker.io/kairin/001:17-stable-diffusion-webui@sha256:11c8ef7790fe966e37b53f6150e844c6b4e6763f0be0d66260bb169f9af12908                                                                        3.1s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:17-stable-diffusion-webui
17-stable-diffusion-webui: Pulling from kairin/001
5b17151e9710: Already exists 
6055d2b1b566: Already exists 
3318952e176b: Already exists 
5cc84ac41104: Already exists 
38a09ab6290f: Already exists 
db11526ede66: Already exists 
554ccab6c75a: Already exists 
4368ccd58758: Already exists 
803dec0438f4: Already exists 
162c233071b3: Already exists 
661c52cc55a2: Already exists 
0a884d0d3128: Already exists 
aa6970acc195: Already exists 
aca565c68a85: Already exists 
6cb43d1d64ac: Already exists 
4f4fb700ef54: Already exists 
327fd7eaf4cd: Already exists 
92f82ad85783: Already exists 
88ca70cf02a1: Already exists 
2aeb586ef0e6: Already exists 
05450796e66d: Already exists 
b37f28190bc6: Already exists 
29fcf67f0d1a: Already exists 
a3d31621af25: Already exists 
216e89ddf314: Already exists 
4f4fb700ef54: Already exists 
af531eac70fd: Already exists 
34f20df2a26f: Already exists 
faa7cc112497: Already exists 
dc79c5ab374d: Already exists 
f1bbedd0bd9a: Already exists 
923cd347b4e8: Already exists 
e4666a77ed22: Already exists 
7bb2afd7aa3b: Already exists 
38ed77ec5a81: Already exists 
31e8e313caa0: Already exists 
c7357eb29fd3: Already exists 
34df33129d81: Already exists 
0a630901dd14: Already exists 
cbb0528e563f: Already exists 
ae91864c4169: Already exists 
ae661c59625f: Already exists 
41a6970df420: Already exists 
45e143983e89: Already exists 
a55bc3fb4368: Already exists 
4cf1bf30d30d: Already exists 
c109a0d2c7b3: Already exists 
03e5829ed5dc: Already exists 
3ebedb601ae8: Already exists 
e4352ed84c6c: Already exists 
3634ce459570: Already exists 
c98c5c531426: Already exists 
2b2a596158d6: Already exists 
226e18013db7: Already exists 
1037cadc5e48: Already exists 
c824270006e3: Already exists 
92f1b0416e4c: Already exists 
e2183b3fa23d: Already exists 
202cc1970bd7: Already exists 
0ded329a967d: Already exists 
87d17e04a1fb: Already exists 
15470069d569: Already exists 
0e2f94e21a78: Already exists 
eb4b4b3eea83: Already exists 
c8085640195f: Already exists 
14a28f1726f4: Already exists 
ee98991b0d47: Already exists 
c18775467860: Already exists 
aeeed8b52e19: Already exists 
8694196a844b: Already exists 
7d3d72bb8a91: Already exists 
27c755304502: Already exists 
a6d9f33956a9: Already exists 
eeb295869640: Already exists 
8621f86e1c9b: Already exists 
9ad1b1854bcd: Already exists 
573f53b188ab: Already exists 
68eb8627d398: Already exists 
fd310aaf48d9: Already exists 
b97758516ddf: Already exists 
17a0107fc232: Already exists 
83431a4bc910: Already exists 
fc113229c916: Already exists 
f30b7a7e0615: Already exists 
3d193aa6b31a: Already exists 
f5deca51cf69: Already exists 
60f0b0fd8e99: Already exists 
3522d2e0fc40: Pull complete 
58a6274124e7: Pull complete 
Digest: sha256:11c8ef7790fe966e37b53f6150e844c6b4e6763f0be0d66260bb169f9af12908
Status: Downloaded newer image for kairin/001:17-stable-diffusion-webui
docker.io/kairin/001:17-stable-diffusion-webui
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:17-stable-diffusion-webui exists locally after pull...
Image kairin/001:17-stable-diffusion-webui verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:17-stable-diffusion-webui
Processing numbered directory: build/18-comfyui
Generating fixed tag: kairin/001:18-comfyui
Using base image build arg: kairin/001:17-stable-diffusion-webui
--------------------------------------------------
Building and pushing image from folder: build/18-comfyui
Image Name: 18-comfyui
Platform: linux/arm64
Tag: kairin/001:18-comfyui
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:18-comfyui --build-arg BASE_IMAGE=kairin/001:17-stable-diffusion-webui --push build/18-comfyui
[+] Building 102.8s (12/12) FINISHED                                                                                                                                                           docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.1s
 => => transferring dockerfile: 3.47kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:17-stable-diffusion-webui                                                                                                                                           1.9s
 => [auth] kairin/001:pull token for registry-1.docker.io                                                                                                                                                                 0.0s
 => [internal] load .dockerignore                                                                                                                                                                                         0.1s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/5] FROM docker.io/kairin/001:17-stable-diffusion-webui@sha256:11c8ef7790fe966e37b53f6150e844c6b4e6763f0be0d66260bb169f9af12908                                                                                     4.7s
 => => resolve docker.io/kairin/001:17-stable-diffusion-webui@sha256:11c8ef7790fe966e37b53f6150e844c6b4e6763f0be0d66260bb169f9af12908                                                                                     0.2s
 => [internal] load build context                                                                                                                                                                                         0.2s
 => => transferring context: 19.02kB                                                                                                                                                                                      0.1s
 => [2/5] COPY workflow /opt/ComfyUI/workflow                                                                                                                                                                             0.7s
 => [3/5] COPY extra /opt/ComfyUI/extra                                                                                                                                                                                   0.4s
 => [4/5] RUN set -ex     && rm -rf /opt/ComfyUI     && mkdir -p /opt/ComfyUI     && cd /opt         && git clone --depth=1 https://github.com/comfyanonymous/ComfyUI.git /opt/ComfyUI     && cd /opt/ComfyUI     && pi  35.6s
 => [5/5] WORKDIR /opt/ComfyUI                                                                                                                                                                                            0.6s 
 => exporting to image                                                                                                                                                                                                   58.3s 
 => => exporting layers                                                                                                                                                                                                  29.8s 
 => => exporting manifest sha256:c9358cf81363b40e9b1eace501c90972242f6d9e0e2acab527e7636274c588c1                                                                                                                         0.0s 
 => => exporting config sha256:d68d205a833aae111dd780bf2e86ef8599c8658073bfb5baf345769c14e69a92                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:a123f62cf521400961b0256e7d06dc73e4dbb4895c341bddd3da3464772cd918                                                                                                             0.0s 
 => => exporting manifest list sha256:77ffd024975662ace6c37ee8e4282a9b9a187070a5c9cb3fc43c1a7775d34f80                                                                                                                    0.0s
 => => pushing layers                                                                                                                                                                                                    25.5s
 => => pushing manifest for docker.io/kairin/001:18-comfyui@sha256:77ffd024975662ace6c37ee8e4282a9b9a187070a5c9cb3fc43c1a7775d34f80                                                                                       2.9s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:18-comfyui
18-comfyui: Pulling from kairin/001
5b17151e9710: Already exists 
6055d2b1b566: Already exists 
3318952e176b: Already exists 
5cc84ac41104: Already exists 
38a09ab6290f: Already exists 
db11526ede66: Already exists 
554ccab6c75a: Already exists 
4368ccd58758: Already exists 
803dec0438f4: Already exists 
162c233071b3: Already exists 
661c52cc55a2: Already exists 
0a884d0d3128: Already exists 
aa6970acc195: Already exists 
aca565c68a85: Already exists 
6cb43d1d64ac: Already exists 
4f4fb700ef54: Already exists 
327fd7eaf4cd: Already exists 
92f82ad85783: Already exists 
88ca70cf02a1: Already exists 
2aeb586ef0e6: Already exists 
05450796e66d: Already exists 
b37f28190bc6: Already exists 
29fcf67f0d1a: Already exists 
a3d31621af25: Already exists 
216e89ddf314: Already exists 
4f4fb700ef54: Already exists 
af531eac70fd: Already exists 
34f20df2a26f: Already exists 
faa7cc112497: Already exists 
dc79c5ab374d: Already exists 
4f4fb700ef54: Pull complete 
923cd347b4e8: Already exists 
e4666a77ed22: Already exists 
7bb2afd7aa3b: Already exists 
38ed77ec5a81: Already exists 
31e8e313caa0: Already exists 
c7357eb29fd3: Already exists 
34df33129d81: Already exists 
0a630901dd14: Already exists 
cbb0528e563f: Already exists 
ae91864c4169: Already exists 
ae661c59625f: Already exists 
41a6970df420: Already exists 
45e143983e89: Already exists 
a55bc3fb4368: Already exists 
4cf1bf30d30d: Already exists 
c109a0d2c7b3: Already exists 
03e5829ed5dc: Already exists 
3ebedb601ae8: Already exists 
e4352ed84c6c: Already exists 
3634ce459570: Already exists 
c98c5c531426: Already exists 
2b2a596158d6: Already exists 
226e18013db7: Already exists 
1037cadc5e48: Already exists 
c824270006e3: Already exists 
92f1b0416e4c: Already exists 
e2183b3fa23d: Already exists 
202cc1970bd7: Already exists 
0ded329a967d: Already exists 
87d17e04a1fb: Already exists 
15470069d569: Already exists 
0e2f94e21a78: Already exists 
eb4b4b3eea83: Already exists 
c8085640195f: Already exists 
14a28f1726f4: Already exists 
ee98991b0d47: Already exists 
c18775467860: Already exists 
aeeed8b52e19: Already exists 
8694196a844b: Already exists 
7d3d72bb8a91: Already exists 
27c755304502: Already exists 
a6d9f33956a9: Already exists 
eeb295869640: Already exists 
8621f86e1c9b: Already exists 
9ad1b1854bcd: Already exists 
573f53b188ab: Already exists 
68eb8627d398: Already exists 
fd310aaf48d9: Already exists 
b97758516ddf: Already exists 
17a0107fc232: Already exists 
83431a4bc910: Already exists 
fc113229c916: Already exists 
f30b7a7e0615: Already exists 
3d193aa6b31a: Already exists 
f5deca51cf69: Already exists 
60f0b0fd8e99: Already exists 
3522d2e0fc40: Already exists 
58a6274124e7: Already exists 
b6dfdfe36274: Pull complete 
12ad34c4a8fe: Pull complete 
704cfd0e24ee: Pull complete 
Digest: sha256:77ffd024975662ace6c37ee8e4282a9b9a187070a5c9cb3fc43c1a7775d34f80
Status: Downloaded newer image for kairin/001:18-comfyui
docker.io/kairin/001:18-comfyui
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:18-comfyui exists locally after pull...
Image kairin/001:18-comfyui verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:18-comfyui
Processing numbered directory: build/19-bitsandbytes
Generating fixed tag: kairin/001:19-bitsandbytes
Using base image build arg: kairin/001:18-comfyui
--------------------------------------------------
Building and pushing image from folder: build/19-bitsandbytes
Image Name: 19-bitsandbytes
Platform: linux/arm64
Tag: kairin/001:19-bitsandbytes
--------------------------------------------------
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:19-bitsandbytes --build-arg BASE_IMAGE=kairin/001:18-comfyui --push build/19-bitsandbytes
[+] Building 673.4s (9/9) FINISHED                                                                                                                                                             docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.1s
 => => transferring dockerfile: 2.56kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:18-comfyui                                                                                                                                                          0.9s
 => [internal] load .dockerignore                                                                                                                                                                                         0.1s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/4] FROM docker.io/kairin/001:18-comfyui@sha256:77ffd024975662ace6c37ee8e4282a9b9a187070a5c9cb3fc43c1a7775d34f80                                                                                                    1.0s
 => => resolve docker.io/kairin/001:18-comfyui@sha256:77ffd024975662ace6c37ee8e4282a9b9a187070a5c9cb3fc43c1a7775d34f80                                                                                                    0.1s
 => [2/4] RUN set -ex     && apt-get update     && apt-get install -y --no-install-recommends         python3-pip         python3-setuptools         git         cmake     && apt-get clean     && rm -rf /var/lib/apt/  10.6s
 => [3/4] RUN mkdir -p /tmp/wheels                                                                                                                                                                                        0.2s 
 => [4/4] RUN set -ex     && echo "### CUDA_INSTALLED_VERSION: 11.8"     && echo "### CUDA_MAKE_LIB: cuda11x"     && echo "Building bitsandbytes 0.45.4 from source"     && rm -rf /opt/bitsandbytes     && git clone   641.2s 
 => exporting to image                                                                                                                                                                                                   19.3s 
 => => exporting layers                                                                                                                                                                                                   6.1s 
 => => exporting manifest sha256:0aad72e644a5cd841554a4c84b4366d0411ee0dfbb6b369adcaeb5b0c141ab9c                                                                                                                         0.0s 
 => => exporting config sha256:8be74908c8e20c0dc70bdb5eb4d4fa6215ebcb4e5bf70952aca214b9a0e593f4                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:8c6d4c85682cfe2d32acfa78cfad0b95f6b94d2c730c4a04a01944e02c97d6a1                                                                                                             0.0s 
 => => exporting manifest list sha256:3682a9bda7c2b0840d0f25495cbb7c029aef3cba10dd902a1e1bd33fdbad3940                                                                                                                    0.0s 
 => => pushing layers                                                                                                                                                                                                     9.9s
 => => pushing manifest for docker.io/kairin/001:19-bitsandbytes@sha256:3682a9bda7c2b0840d0f25495cbb7c029aef3cba10dd902a1e1bd33fdbad3940                                                                                  3.1s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 133: [: missing `]'
Pulling built image: kairin/001:19-bitsandbytes
19-bitsandbytes: Pulling from kairin/001
5b17151e9710: Already exists 
6055d2b1b566: Already exists 
3318952e176b: Already exists 
5cc84ac41104: Already exists 
38a09ab6290f: Already exists 
db11526ede66: Already exists 
554ccab6c75a: Already exists 
4368ccd58758: Already exists 
803dec0438f4: Already exists 
162c233071b3: Already exists 
661c52cc55a2: Already exists 
0a884d0d3128: Already exists 
aa6970acc195: Already exists 
aca565c68a85: Already exists 
6cb43d1d64ac: Already exists 
4f4fb700ef54: Already exists 
327fd7eaf4cd: Already exists 
92f82ad85783: Already exists 
88ca70cf02a1: Already exists 
2aeb586ef0e6: Already exists 
05450796e66d: Already exists 
b37f28190bc6: Already exists 
29fcf67f0d1a: Already exists 
a3d31621af25: Already exists 
216e89ddf314: Already exists 
4f4fb700ef54: Already exists 
af531eac70fd: Already exists 
34f20df2a26f: Already exists 
faa7cc112497: Already exists 
dc79c5ab374d: Already exists 
4f4fb700ef54: Pulling fs layer 
4f4fb700ef54: Pull complete 
e4666a77ed22: Already exists 
7bb2afd7aa3b: Already exists 
38ed77ec5a81: Already exists 
31e8e313caa0: Already exists 
c7357eb29fd3: Already exists 
34df33129d81: Already exists 
0a630901dd14: Already exists 
cbb0528e563f: Already exists 
ae91864c4169: Already exists 
ae661c59625f: Already exists 
41a6970df420: Already exists 
45e143983e89: Already exists 
a55bc3fb4368: Already exists 
4cf1bf30d30d: Already exists 
c109a0d2c7b3: Already exists 
03e5829ed5dc: Already exists 
3ebedb601ae8: Already exists 
e4352ed84c6c: Already exists 
3634ce459570: Already exists 
c98c5c531426: Already exists 
2b2a596158d6: Already exists 
226e18013db7: Already exists 
1037cadc5e48: Already exists 
c824270006e3: Already exists 
92f1b0416e4c: Already exists 
e2183b3fa23d: Already exists 
202cc1970bd7: Already exists 
0ded329a967d: Already exists 
87d17e04a1fb: Already exists 
15470069d569: Already exists 
0e2f94e21a78: Already exists 
eb4b4b3eea83: Already exists 
c8085640195f: Already exists 
14a28f1726f4: Already exists 
ee98991b0d47: Already exists 
c18775467860: Already exists 
aeeed8b52e19: Already exists 
8694196a844b: Already exists 
7d3d72bb8a91: Already exists 
27c755304502: Already exists 
a6d9f33956a9: Already exists 
eeb295869640: Already exists 
8621f86e1c9b: Already exists 
9ad1b1854bcd: Already exists 
573f53b188ab: Already exists 
68eb8627d398: Already exists 
fd310aaf48d9: Already exists 
b97758516ddf: Already exists 
17a0107fc232: Already exists 
83431a4bc910: Already exists 
fc113229c916: Already exists 
f30b7a7e0615: Already exists 
3d193aa6b31a: Already exists 
f5deca51cf69: Already exists 
60f0b0fd8e99: Already exists 
3522d2e0fc40: Already exists 
58a6274124e7: Already exists 
b6dfdfe36274: Already exists 
12ad34c4a8fe: Already exists 
704cfd0e24ee: Already exists 
508478689dad: Pull complete 
Digest: sha256:3682a9bda7c2b0840d0f25495cbb7c029aef3cba10dd902a1e1bd33fdbad3940
Status: Downloaded newer image for kairin/001:19-bitsandbytes
docker.io/kairin/001:19-bitsandbytes
./scripts/docker_utils.sh: line 144: [: missing `]'
Verifying image kairin/001:19-bitsandbytes exists locally after pull...
Image kairin/001:19-bitsandbytes verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:19-bitsandbytes
--- Building Other Directories ---
No non-numbered directories found in build.
--------------------------------------------------
Folder build process complete!
--- Verifying and Pulling All Attempted Images ---
Skipping pre-tagging pull verification due to earlier build failures.
--------------------------------------------------
--- Creating Final Timestamped Tag ---
Skipping final timestamped tag creation due to previous errors.
--------------------------------------------------
Build, Push, Pull, and Tagging process complete!
Total images successfully built/pushed/pulled/verified: 18
Warning: One or more steps failed. See logs above.
--------------------------------------------------
(Image pulling and verification now happens during build process)
No final image tag recorded or build failed, skipping further operations.
--------------------------------------------------
--- Verifying all SUCCESSFULLY PROCESSED images exist locally ---
Checking 18 image(s) recorded as successful:
Verifying kairin/001:01-build-essential... OK
Verifying kairin/001:02-bazel... OK
Verifying kairin/001:03-ninja... OK
Verifying kairin/001:04-python... OK
Verifying kairin/001:05-h5py... OK
Verifying kairin/001:06-rust... OK
Verifying kairin/001:07-protobuf_apt... OK
Verifying kairin/001:08-protobuf_cpp... OK
Verifying kairin/001:09-opencv... OK
Verifying kairin/001:10-onnx... OK
Verifying kairin/001:11-diffusers... OK
Verifying kairin/001:12-huggingface_hub... OK
Verifying kairin/001:13-transformers... OK
Verifying kairin/001:14-xformers... OK
Verifying kairin/001:15-flash-attention... OK
Verifying kairin/001:17-stable-diffusion-webui... OK
Verifying kairin/001:18-comfyui... OK
Verifying kairin/001:19-bitsandbytes... OK
All successfully processed images verified successfully locally during final check.
--------------------------------------------------
Script finished with one or more errors.
--------------------------------------------------
❯ cd ..
❯ cd ..
❯ ls
for-comf  haruna  jetc  jetc.code-workspace  jetson-containers  linux-exfat-oot  nerd-fonts  prompt  simple-digital-signage  vid  vscode
❯ cd jetson-containers
❯ ls
CITATION.cff  LICENSE.md  README.md  autotag  build.sh  data  docs  install.sh  jetson-containers  jetson_containers  packages  requirements.txt  run.sh  scripts
❯ jetson-containers update
Already up to date.
❯ cd packages
❯ ls -a
.  ..  README.md  build  cuda  diffusion  dli  hardware  l4t  llm  ml  multimedia  nerf  numeric  opencv  pytorch  rag  robots  sim  smart-home  speech  tensorrt  vectordb  vit  vla  vlm
❯ cd ..
❯ ls
CITATION.cff  LICENSE.md  README.md  autotag  build.sh  data  docs  install.sh  jetson-containers  jetson_containers  packages  requirements.txt  run.sh  scripts
❯ cd ..
❯ ls
for-comf  haruna  jetc  jetc.code-workspace  jetson-containers  linux-exfat-oot  nerd-fonts  prompt  simple-digital-signage  vid  vscode
❯ cd jetc
❯ ls -a
.  ..  .git  .gitattributes  .github  .gitignore  .old_forAI_training  .vscode  README.md  buildx
❯ cd buildx
❯ ls -a
.  ..  build  build.sh  jetcrun.sh  logs  scripts
❯ cd build
❯ ls -a
.   01-00-build-essential  01-01-numba  01-cuda   03-ninja   05-h5py  07-protobuf_apt  09-opencv  10-onnxruntime  11-diffusers        13-transformers  15-flash-attention   17-stable-diffusion-webui  19-bitsandbytes
..  01-01-arrow            01-01-numpy  02-bazel  04-python  06-rust  08-protobuf_cpp  10-onnx    10-triton       12-huggingface_hub  14-xformers      16-stable-diffusion  18-comfyui
❯ git pull
Already up to date.
❯ ./build.sh
zsh: no such file or directory: ./build.sh
❯ cd ..
❯ git pull
Already up to date.
❯ ./build.sh
Found .env file in ../.vscode directory
Using existing buildx builder: jetson-builder
Do you want to build with cache? (y/n): n
Do you want to attempt squashing image layers (experimental)? (y/n): n
Skip intermediate push/pull for each stage (requires --load)? (y/n): n
Determining build order...
Starting build process...
--- Building Numbered Directories ---
Processing numbered directory: build/01-00-build-essential
Generating fixed tag: kairin/001:01-00-build-essential
Using default base image: kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu
Using base image build arg: kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu
--------------------------------------------------
Building image from folder: build/01-00-build-essential
Image Name: 01-00-build-essential
Platform: linux/arm64
Tag: kairin/001:01-00-build-essential
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:01-00-build-essential --build-arg BASE_IMAGE=kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu --push build/01-00-build-essential
[+] Building 21.8s (12/12) FINISHED                                                                                                                                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.1s
 => => transferring dockerfile: 7.67kB                                                                                                                                                                                    0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 25)                                                                                              0.1s
 => [internal] load metadata for docker.io/kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu                                                                                                                                  2.4s
 => [auth] kairin/001:pull token for registry-1.docker.io                                                                                                                                                                 0.0s
 => [internal] load .dockerignore                                                                                                                                                                                         0.1s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => CACHED [1/6] FROM docker.io/kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu@sha256:dde556a5bcbffea413d29bca3f0f9c05eb7107c1e6b57dac08e8ed98e841e423                                                                     0.0s
 => => resolve docker.io/kairin/001:jetc-nvidia-pytorch-25.03-py3-igpu@sha256:dde556a5bcbffea413d29bca3f0f9c05eb7107c1e6b57dac08e8ed98e841e423                                                                            0.0s
 => [2/6] RUN touch /opt/list_app_checks.sh                                                                                                                                                                               0.1s
 => [3/6] RUN set -ex     && apt-get update     && apt-get install -y --no-install-recommends         locales         locales-all         tzdata         build-essential         software-properties-common         apt  11.1s
 => [4/6] RUN echo '#!/usr/bin/env bash' > /tmp/vercmp &&     echo '#' >> /tmp/vercmp &&     echo '# Backportable version comparison: https://stackoverflow.com/a/4025065' >> /tmp/vercmp &&     echo '#' >> /tmp/vercmp  0.1s
 => [5/6] RUN echo '#!/usr/bin/env bash' > /tmp/tarpack &&     echo 'set -ex' >> /tmp/tarpack &&     echo '' >> /tmp/tarpack &&     echo 'COMMAND=$1' >> /tmp/tarpack &&     echo 'PACKAGE=$2' >> /tmp/tarpack &&     ec  0.1s 
 => [6/6] RUN echo "# Check for build tools" >> /tmp/build_checks.sh     && echo "check_cmd gcc 'gcc --version'" >> /tmp/build_checks.sh     && echo "check_cmd g++ 'g++ --version'" >> /tmp/build_checks.sh     && echo  0.1s 
 => exporting to image                                                                                                                                                                                                    7.4s 
 => => exporting layers                                                                                                                                                                                                   0.5s 
 => => exporting manifest sha256:de79f82cb3b1b091a0189e533a1e547f1058d8c6fcb20228aa5f1e1f2bbd42ac                                                                                                                         0.0s 
 => => exporting config sha256:e91715531b6a5cd686f7500399f9330657a01aaa7008be7689952e717d653a44                                                                                                                           0.0s
 => => exporting attestation manifest sha256:30cae07b378fc6df5f11ada1f0eade231b0131aa11f24bde00ee0e0d82a11a0b                                                                                                             0.0s
 => => exporting manifest list sha256:1ce41069299708e31074d284c068695c4b52adcc60a50d76eb43b433656f3f8f                                                                                                                    0.0s
 => => pushing layers                                                                                                                                                                                                     4.1s
 => => pushing manifest for docker.io/kairin/001:01-00-build-essential@sha256:1ce41069299708e31074d284c068695c4b52adcc60a50d76eb43b433656f3f8f                                                                            2.6s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s

 1 warning found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 25)
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:01-00-build-essential
01-00-build-essential: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Pull complete 
290ad82f04d9: Pull complete 
2f95f84f4425: Pull complete 
2eb947eebeef: Pull complete 
d003c781771c: Pull complete 
Digest: sha256:1ce41069299708e31074d284c068695c4b52adcc60a50d76eb43b433656f3f8f
Status: Downloaded newer image for kairin/001:01-00-build-essential
docker.io/kairin/001:01-00-build-essential
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:01-00-build-essential exists locally...
Image kairin/001:01-00-build-essential verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:01-00-build-essential
Processing numbered directory: build/01-01-arrow
Generating fixed tag: kairin/001:01-01-arrow
Using base image build arg: kairin/001:01-00-build-essential
--------------------------------------------------
Building image from folder: build/01-01-arrow
Image Name: 01-01-arrow
Platform: linux/arm64
Tag: kairin/001:01-01-arrow
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:01-01-arrow --build-arg BASE_IMAGE=kairin/001:01-00-build-essential --push build/01-01-arrow
[+] Building 1.5s (5/11)                                                                                                                                                                       docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.1s
 => => transferring dockerfile: 2.88kB                                                                                                                                                                                    0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 22)                                                                                              0.1s
 => [internal] load metadata for docker.io/kairin/001:01-00-build-essential                                                                                                                                               0.3s
 => [internal] load .dockerignore                                                                                                                                                                                         0.1s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/8] FROM docker.io/kairin/001:01-00-build-essential@sha256:1ce41069299708e31074d284c068695c4b52adcc60a50d76eb43b433656f3f8f                                                                                         0.1s
 => => resolve docker.io/kairin/001:01-00-build-essential@sha256:1ce41069299708e31074d284c068695c4b52adcc60a50d76eb43b433656f3f8f                                                                                         0.0s
 => ERROR [2/8] RUN git clone --branch=${ARROW_BRANCH} --depth=1 --recursive https://github.com/apache/arrow /opt/arrow                                                                                                   0.9s
------                                                                                                                                                                                                                         
 > [2/8] RUN git clone --branch=${ARROW_BRANCH} --depth=1 --recursive https://github.com/apache/arrow /opt/arrow:                                                                                                              
0.083 Cloning into '/opt/arrow'...
0.821 warning: Could not find remote branch  to clone.
0.821 fatal: Remote branch  not found in upstream origin
------

 1 warning found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 22)
Dockerfile:26
--------------------
  24 |     ARG ARROW_BRANCH
  25 |     
  26 | >>> RUN git clone --branch=${ARROW_BRANCH} --depth=1 --recursive https://github.com/apache/arrow /opt/arrow
  27 |         
  28 |     RUN cd /opt/arrow/cpp && \
--------------------
ERROR: failed to solve: process "/bin/sh -c git clone --branch=${ARROW_BRANCH} --depth=1 --recursive https://github.com/apache/arrow /opt/arrow" did not complete successfully: exit code: 128
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:01-01-arrow
Error response from daemon: manifest for kairin/001:01-01-arrow not found: manifest unknown: manifest unknown
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:01-01-arrow exists locally...
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Error: Image kairin/001:01-01-arrow NOT found locally immediately after successful 'docker pull'.
This indicates a potential issue with the Docker daemon or buildx driver.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Build, push or pull failed for build/01-01-arrow. Subsequent dependent builds might fail.
Build process for build/01-01-arrow exited with code 1
Continuing with next build...
Processing numbered directory: build/01-01-numba
Generating fixed tag: kairin/001:01-01-numba
Using base image build arg: kairin/001:01-00-build-essential
--------------------------------------------------
Building image from folder: build/01-01-numba
Image Name: 01-01-numba
Platform: linux/arm64
Tag: kairin/001:01-01-numba
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:01-01-numba --build-arg BASE_IMAGE=kairin/001:01-00-build-essential --push build/01-01-numba
[+] Building 34.5s (6/8)                                                                                                                                                                       docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.1s
 => => transferring dockerfile: 5.63kB                                                                                                                                                                                    0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 20)                                                                                              0.1s
 => [internal] load metadata for docker.io/kairin/001:01-00-build-essential                                                                                                                                               0.3s
 => [internal] load .dockerignore                                                                                                                                                                                         0.1s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => CACHED [1/5] FROM docker.io/kairin/001:01-00-build-essential@sha256:1ce41069299708e31074d284c068695c4b52adcc60a50d76eb43b433656f3f8f                                                                                  0.0s
 => => resolve docker.io/kairin/001:01-00-build-essential@sha256:1ce41069299708e31074d284c068695c4b52adcc60a50d76eb43b433656f3f8f                                                                                         0.0s
 => [2/5] RUN apt-get update &&     apt-get install -y --no-install-recommends     llvm-dev     && rm -rf /var/lib/apt/lists/*     && apt-get clean     && echo "Installed llvm version:"     && llvm-config --version   32.6s
 => ERROR [3/5] RUN pip3 install --no-cache-dir numba &&     echo "Installed numba version:" &&     pip3 show numba && python3 -c 'import numba; print(numba.__version__)'                                                1.3s
------                                                                                                                                                                                                                         
 > [3/5] RUN pip3 install --no-cache-dir numba &&     echo "Installed numba version:" &&     pip3 show numba && python3 -c 'import numba; print(numba.__version__)':                                                           
1.159 error: externally-managed-environment                                                                                                                                                                                    
1.159                                                                                                                                                                                                                          
1.159 × This environment is externally managed                                                                                                                                                                                 
1.159 ╰─> To install Python packages system-wide, try apt install
1.159     python3-xyz, where xyz is the package you are trying to
1.159     install.
1.159     
1.159     If you wish to install a non-Debian-packaged Python package,
1.159     create a virtual environment using python3 -m venv path/to/venv.
1.159     Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make
1.159     sure you have python3-full installed.
1.159     
1.159     If you wish to install a non-Debian packaged Python application,
1.159     it may be easiest to use pipx install xyz, which will manage a
1.159     virtual environment for you. Make sure you have pipx installed.
1.159     
1.159     See /usr/share/doc/python3.12/README.venv for more information.
1.159 
1.159 note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
1.159 hint: See PEP 668 for the detailed specification.
------

 1 warning found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 20)
Dockerfile:38
--------------------
  37 |     # Install numba and check version in one layer
  38 | >>> RUN pip3 install --no-cache-dir numba && \
  39 | >>>     echo "Installed numba version:" && \
  40 | >>>     pip3 show numba && python3 -c 'import numba; print(numba.__version__)'
  41 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c pip3 install --no-cache-dir numba &&     echo \"Installed numba version:\" &&     pip3 show numba && python3 -c 'import numba; print(numba.__version__)'" did not complete successfully: exit code: 1
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:01-01-numba
Error response from daemon: manifest for kairin/001:01-01-numba not found: manifest unknown: manifest unknown
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:01-01-numba exists locally...
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Error: Image kairin/001:01-01-numba NOT found locally immediately after successful 'docker pull'.
This indicates a potential issue with the Docker daemon or buildx driver.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Build, push or pull failed for build/01-01-numba. Subsequent dependent builds might fail.
Build process for build/01-01-numba exited with code 1
Continuing with next build...
Processing numbered directory: build/01-01-numpy
Generating fixed tag: kairin/001:01-01-numpy
Using base image build arg: kairin/001:01-00-build-essential
--------------------------------------------------
Building image from folder: build/01-01-numpy
Image Name: 01-01-numpy
Platform: linux/arm64
Tag: kairin/001:01-01-numpy
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:01-01-numpy --build-arg BASE_IMAGE=kairin/001:01-00-build-essential --push build/01-01-numpy
[+] Building 8.9s (9/9) FINISHED                                                                                                                                                               docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.1s
 => => transferring dockerfile: 2.55kB                                                                                                                                                                                    0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 20)                                                                                              0.1s
 => [internal] load metadata for docker.io/kairin/001:01-00-build-essential                                                                                                                                               0.8s
 => [internal] load .dockerignore                                                                                                                                                                                         0.1s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => CACHED [1/4] FROM docker.io/kairin/001:01-00-build-essential@sha256:1ce41069299708e31074d284c068695c4b52adcc60a50d76eb43b433656f3f8f                                                                                  0.0s
 => => resolve docker.io/kairin/001:01-00-build-essential@sha256:1ce41069299708e31074d284c068695c4b52adcc60a50d76eb43b433656f3f8f                                                                                         0.0s
 => [2/4] RUN set -ex &&     pip3 install --no-cache-dir --force-reinstall numpy &&     echo "Installed numpy version:" &&     pip3 show numpy && python3 -c 'import numpy; print(numpy.__version__)' &&     (pip3 show   1.1s
 => [3/4] RUN echo '#!/usr/bin/env python3' > /tmp/test_numpy.py &&     echo "print('testing numpy...')" >> /tmp/test_numpy.py &&     echo "import numpy as np" >> /tmp/test_numpy.py &&     echo "print('numpy version:  0.4s
 => [4/4] RUN echo "# Check for Numpy" >> /tmp/numpy_checks.sh     && echo "check_python_package numpy 'Numpy numerical computing library'" >> /tmp/numpy_checks.sh     && cat /tmp/numpy_checks.sh >> /opt/list_app_che  0.1s
 => exporting to image                                                                                                                                                                                                    6.0s 
 => => exporting layers                                                                                                                                                                                                   0.3s 
 => => exporting manifest sha256:c399e330a907a7f1bac6b9c07b1e05a06d09f55bf87e6bf62a7536ea661aae5e                                                                                                                         0.0s 
 => => exporting config sha256:18e18a578af9309cabb980a5c330c14b7e63963282cb42e19738928ca1d8e253                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:1d0dce28108c6d8b541044c010c02d4a76bcf93ab84d23d7cd85679665721a56                                                                                                             0.0s 
 => => exporting manifest list sha256:068aa9235f47965210aaf699fb09d143eea5a8057be138642e35f8982761145b                                                                                                                    0.0s
 => => pushing layers                                                                                                                                                                                                     3.0s
 => => pushing manifest for docker.io/kairin/001:01-01-numpy@sha256:068aa9235f47965210aaf699fb09d143eea5a8057be138642e35f8982761145b                                                                                      2.6s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s

 1 warning found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 20)
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:01-01-numpy
01-01-numpy: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Pull complete 
feb86028c801: Pull complete 
Digest: sha256:068aa9235f47965210aaf699fb09d143eea5a8057be138642e35f8982761145b
Status: Downloaded newer image for kairin/001:01-01-numpy
docker.io/kairin/001:01-01-numpy
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:01-01-numpy exists locally...
Image kairin/001:01-01-numpy verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:01-01-numpy
Processing numbered directory: build/01-cuda
Generating fixed tag: kairin/001:01-cuda
Using base image build arg: kairin/001:01-01-numpy
--------------------------------------------------
Building image from folder: build/01-cuda
Image Name: 01-cuda
Platform: linux/arm64
Tag: kairin/001:01-cuda
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:01-cuda --build-arg BASE_IMAGE=kairin/001:01-01-numpy --push build/01-cuda
[+] Building 0.6s (6/8)                                                                                                                                                                        docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 2.06kB                                                                                                                                                                                    0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 20)                                                                                              0.0s
 => [internal] load metadata for docker.io/kairin/001:01-01-numpy                                                                                                                                                         0.3s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [internal] load build context                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/5] FROM docker.io/kairin/001:01-01-numpy@sha256:068aa9235f47965210aaf699fb09d143eea5a8057be138642e35f8982761145b                                                                                                   0.2s
 => => resolve docker.io/kairin/001:01-01-numpy@sha256:068aa9235f47965210aaf699fb09d143eea5a8057be138642e35f8982761145b                                                                                                   0.0s
 => ERROR [2/5] COPY cuda/install.sh /tmp/cuda/install.sh                                                                                                                                                                 0.0s
------
 > [2/5] COPY cuda/install.sh /tmp/cuda/install.sh:
------

 2 warnings found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 20)
 - UndefinedVar: Usage of undefined variable '$LD_LIBRARY_PATH' (line 34)
Dockerfile:28
--------------------
  26 |         DISTRO
  27 |     
  28 | >>> COPY cuda/install.sh /tmp/cuda/install.sh
  29 |     RUN /tmp/cuda/install.sh
  30 |     
--------------------
ERROR: failed to solve: failed to compute cache key: failed to calculate checksum of ref kfcfcjoj9cv7l48t1svsyu42x::wbxbo1161u2qji2k64j7k4ldr: "/cuda/install.sh": not found
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:01-cuda
Error response from daemon: manifest for kairin/001:01-cuda not found: manifest unknown: manifest unknown
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:01-cuda exists locally...
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Error: Image kairin/001:01-cuda NOT found locally immediately after successful 'docker pull'.
This indicates a potential issue with the Docker daemon or buildx driver.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Build, push or pull failed for build/01-cuda. Subsequent dependent builds might fail.
Build process for build/01-cuda exited with code 1
Continuing with next build...
Processing numbered directory: build/02-bazel
Generating fixed tag: kairin/001:02-bazel
Using base image build arg: kairin/001:01-01-numpy
--------------------------------------------------
Building image from folder: build/02-bazel
Image Name: 02-bazel
Platform: linux/arm64
Tag: kairin/001:02-bazel
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:02-bazel --build-arg BASE_IMAGE=kairin/001:01-01-numpy --push build/02-bazel
[+] Building 28.7s (8/8) FINISHED                                                                                                                                                              docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 1.41kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:01-01-numpy                                                                                                                                                         0.3s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => CACHED [1/3] FROM docker.io/kairin/001:01-01-numpy@sha256:068aa9235f47965210aaf699fb09d143eea5a8057be138642e35f8982761145b                                                                                            0.0s
 => => resolve docker.io/kairin/001:01-01-numpy@sha256:068aa9235f47965210aaf699fb09d143eea5a8057be138642e35f8982761145b                                                                                                   0.0s
 => [2/3] RUN BAZELISK_RELEASE=$(wget -qO- https://api.github.com/repos/bazelbuild/bazelisk/releases/latest | grep -Po '"tag_name": "\K.*?(?=")') &&     BAZELISK_URL="https://github.com/bazelbuild/bazelisk/releases/d  1.5s
 => [3/3] RUN bazel --version                                                                                                                                                                                             9.3s
 => exporting to image                                                                                                                                                                                                   16.7s 
 => => exporting layers                                                                                                                                                                                                   4.3s 
 => => exporting manifest sha256:2308a28c7e6e51202cb4f4d8980bb4b446d0107d5713743d50fd2157be79aea0                                                                                                                         0.1s
 => => exporting config sha256:e324f6beb7bc87074c5de3fd6fa1cef48e92e65670d59f0204485ffef569effc                                                                                                                           0.1s
 => => exporting attestation manifest sha256:beaebeb7d9fda7a33e8be8549cbc89f75d9e783bc52642988c833edfb4901a9d                                                                                                             0.2s
 => => exporting manifest list sha256:381e2d1526b11d096d1b61db8a5170acf82c1f339b586ee2793a790db3a58636                                                                                                                    0.1s
 => => pushing layers                                                                                                                                                                                                     9.1s
 => => pushing manifest for docker.io/kairin/001:02-bazel@sha256:381e2d1526b11d096d1b61db8a5170acf82c1f339b586ee2793a790db3a58636                                                                                         2.7s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:02-bazel
02-bazel: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Pull complete 
feb86028c801: Already exists 
891d813021f2: Pull complete 
Digest: sha256:381e2d1526b11d096d1b61db8a5170acf82c1f339b586ee2793a790db3a58636
Status: Downloaded newer image for kairin/001:02-bazel
docker.io/kairin/001:02-bazel
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:02-bazel exists locally...
Image kairin/001:02-bazel verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:02-bazel
Processing numbered directory: build/03-ninja
Generating fixed tag: kairin/001:03-ninja
Using base image build arg: kairin/001:02-bazel
--------------------------------------------------
Building image from folder: build/03-ninja
Image Name: 03-ninja
Platform: linux/arm64
Tag: kairin/001:03-ninja
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:03-ninja --build-arg BASE_IMAGE=kairin/001:02-bazel --push build/03-ninja
[+] Building 46.2s (8/8) FINISHED                                                                                                                                                              docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.1s
 => => transferring dockerfile: 1.07kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:02-bazel                                                                                                                                                            0.5s
 => [internal] load .dockerignore                                                                                                                                                                                         0.1s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/3] FROM docker.io/kairin/001:02-bazel@sha256:381e2d1526b11d096d1b61db8a5170acf82c1f339b586ee2793a790db3a58636                                                                                                      0.7s
 => => resolve docker.io/kairin/001:02-bazel@sha256:381e2d1526b11d096d1b61db8a5170acf82c1f339b586ee2793a790db3a58636                                                                                                      0.1s
 => [2/3] RUN apt-get update &&     apt-get install -y --no-install-recommends     unzip wget curl jq                                                                                                                    17.5s
 => [3/3] RUN LATEST_VERSION=$(curl -s https://api.github.com/repos/ninja-build/ninja/releases/latest | jq -r .tag_name) &&     wget -q "https://github.com/ninja-build/ninja/releases/download/${LATEST_VERSION}/ninja  12.1s 
 => exporting to image                                                                                                                                                                                                   14.4s 
 => => exporting layers                                                                                                                                                                                                   3.9s 
 => => exporting manifest sha256:c9223753417a179a661a50a394997a7f386f365741a26109c82be23f7feba6ca                                                                                                                         0.1s 
 => => exporting config sha256:33abf421a922a5a489b8d2069cace648edacf0ec7e89d12e538ef18b5e134ece                                                                                                                           0.1s 
 => => exporting attestation manifest sha256:11c165f043e8a553907aa200e123de4c51697f136991f947ba93a38f89a988e4                                                                                                             0.2s 
 => => exporting manifest list sha256:b9f3e8d1981b3cdb1ac31f9e13f4691d788b8532fe224a3f56eda6c85c70ab50                                                                                                                    0.1s 
 => => pushing layers                                                                                                                                                                                                     7.0s
 => => pushing manifest for docker.io/kairin/001:03-ninja@sha256:b9f3e8d1981b3cdb1ac31f9e13f4691d788b8532fe224a3f56eda6c85c70ab50                                                                                         2.8s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:03-ninja
03-ninja: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Already exists 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Pull complete 
cf0b9b269361: Pull complete 
Digest: sha256:b9f3e8d1981b3cdb1ac31f9e13f4691d788b8532fe224a3f56eda6c85c70ab50
Status: Downloaded newer image for kairin/001:03-ninja
docker.io/kairin/001:03-ninja
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:03-ninja exists locally...
Image kairin/001:03-ninja verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:03-ninja
Processing numbered directory: build/04-python
Generating fixed tag: kairin/001:04-python
Using base image build arg: kairin/001:03-ninja
--------------------------------------------------
Building image from folder: build/04-python
Image Name: 04-python
Platform: linux/arm64
Tag: kairin/001:04-python
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:04-python --build-arg BASE_IMAGE=kairin/001:03-ninja --push build/04-python
[+] Building 46.7s (9/9) FINISHED                                                                                                                                                              docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 1.22kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:03-ninja                                                                                                                                                            0.3s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [internal] load build context                                                                                                                                                                                         0.0s
 => => transferring context: 32B                                                                                                                                                                                          0.0s
 => [1/3] FROM docker.io/kairin/001:03-ninja@sha256:b9f3e8d1981b3cdb1ac31f9e13f4691d788b8532fe224a3f56eda6c85c70ab50                                                                                                      0.2s
 => => resolve docker.io/kairin/001:03-ninja@sha256:b9f3e8d1981b3cdb1ac31f9e13f4691d788b8532fe224a3f56eda6c85c70ab50                                                                                                      0.0s
 => [2/3] COPY install.sh /tmp/install_python.sh                                                                                                                                                                          0.1s
 => [3/3] RUN /tmp/install_python.sh                                                                                                                                                                                     35.7s
 => exporting to image                                                                                                                                                                                                   10.2s 
 => => exporting layers                                                                                                                                                                                                   1.1s 
 => => exporting manifest sha256:b93498453296c00d1a58ae45b3a80c874c2a3c4c4aa6f1af09fe9f05329fac18                                                                                                                         0.0s 
 => => exporting config sha256:0090826d31fe86f1cd89616760867072f1020ca90930bb6dcfb14f172966e57f                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:44f585c0fed92f29d863382c8d7d3ef26887dc5bc5847a09dfe4035ad96f0e01                                                                                                             0.0s 
 => => exporting manifest list sha256:56b197562e5e3c0f1fb1d073131cb4f475f139e5cde4d0f436eada30a48462c7                                                                                                                    0.0s 
 => => pushing layers                                                                                                                                                                                                     6.2s
 => => pushing manifest for docker.io/kairin/001:04-python@sha256:56b197562e5e3c0f1fb1d073131cb4f475f139e5cde4d0f436eada30a48462c7                                                                                        2.7s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:04-python
04-python: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Already exists 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Already exists 
cf0b9b269361: Already exists 
fc7195c121eb: Pull complete 
595f5bb458b9: Pull complete 
Digest: sha256:56b197562e5e3c0f1fb1d073131cb4f475f139e5cde4d0f436eada30a48462c7
Status: Downloaded newer image for kairin/001:04-python
docker.io/kairin/001:04-python
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:04-python exists locally...
Image kairin/001:04-python verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:04-python
Processing numbered directory: build/05-h5py
Generating fixed tag: kairin/001:05-h5py
Using base image build arg: kairin/001:04-python
--------------------------------------------------
Building image from folder: build/05-h5py
Image Name: 05-h5py
Platform: linux/arm64
Tag: kairin/001:05-h5py
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:05-h5py --build-arg BASE_IMAGE=kairin/001:04-python --push build/05-h5py
[+] Building 20.6s (7/7) FINISHED                                                                                                                                                              docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 1.06kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:04-python                                                                                                                                                           0.9s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/2] FROM docker.io/kairin/001:04-python@sha256:56b197562e5e3c0f1fb1d073131cb4f475f139e5cde4d0f436eada30a48462c7                                                                                                     0.2s
 => => resolve docker.io/kairin/001:04-python@sha256:56b197562e5e3c0f1fb1d073131cb4f475f139e5cde4d0f436eada30a48462c7                                                                                                     0.0s
 => [2/2] RUN set -ex &&     apt-get update &&     apt-get install -y --no-install-recommends         libhdf5-serial-dev         hdf5-tools         libhdf5-dev &&     rm -rf /var/lib/apt/lists/* &&     apt-get clean  12.8s
 => exporting to image                                                                                                                                                                                                    6.5s 
 => => exporting layers                                                                                                                                                                                                   0.2s 
 => => exporting manifest sha256:5c791cb677528f32573a5b48df35378f73338a0f4500cfe2778008eea915823f                                                                                                                         0.0s 
 => => exporting config sha256:db40c779daa745b3b3beb74e73c27be8000d8a659d786d2f220e4b5990182194                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:6e3116b07a2d4f11734987b1c75787eb5fec491fbd46a54a9927888ee2210580                                                                                                             0.0s 
 => => exporting manifest list sha256:7b61e103b44673f1de99595eda2e71afbeecf13132b96d2bf6576343f432d432                                                                                                                    0.0s 
 => => pushing layers                                                                                                                                                                                                     3.5s
 => => pushing manifest for docker.io/kairin/001:05-h5py@sha256:7b61e103b44673f1de99595eda2e71afbeecf13132b96d2bf6576343f432d432                                                                                          2.7s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:05-h5py
05-h5py: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Already exists 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Already exists 
cf0b9b269361: Already exists 
fc7195c121eb: Already exists 
595f5bb458b9: Already exists 
2536f97679fc: Pull complete 
Digest: sha256:7b61e103b44673f1de99595eda2e71afbeecf13132b96d2bf6576343f432d432
Status: Downloaded newer image for kairin/001:05-h5py
docker.io/kairin/001:05-h5py
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:05-h5py exists locally...
Image kairin/001:05-h5py verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:05-h5py
Processing numbered directory: build/06-rust
Generating fixed tag: kairin/001:06-rust
Using base image build arg: kairin/001:05-h5py
--------------------------------------------------
Building image from folder: build/06-rust
Image Name: 06-rust
Platform: linux/arm64
Tag: kairin/001:06-rust
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:06-rust --build-arg BASE_IMAGE=kairin/001:05-h5py --push build/06-rust
[+] Building 14.7s (8/8) FINISHED                                                                                                                                                              docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 642B                                                                                                                                                                                      0.0s
 => [internal] load metadata for docker.io/kairin/001:05-h5py                                                                                                                                                             0.3s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/3] FROM docker.io/kairin/001:05-h5py@sha256:7b61e103b44673f1de99595eda2e71afbeecf13132b96d2bf6576343f432d432                                                                                                       0.2s
 => => resolve docker.io/kairin/001:05-h5py@sha256:7b61e103b44673f1de99595eda2e71afbeecf13132b96d2bf6576343f432d432                                                                                                       0.0s
 => [2/3] RUN curl https://sh.rustup.rs -sSf | sh -s -- -y                                                                                                                                                                2.0s
 => [3/3] RUN rustc --version &&     pip3 install setuptools-rust                                                                                                                                                         2.1s 
 => exporting to image                                                                                                                                                                                                    9.9s 
 => => exporting layers                                                                                                                                                                                                   1.2s 
 => => exporting manifest sha256:d15d87855afb73dbf2c59162ed1421fe5b0e72de0776fc9a9e8ebfd2ef947b50                                                                                                                         0.0s 
 => => exporting config sha256:a998e7da304bc23e6c7cf1b4e675a780c5e734ed541bae9bb5854581c4993547                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:2c98e59c472a100fa32c77ca2c9e5597d424e7bb04e5aecaa4278f0eaec7427f                                                                                                             0.0s 
 => => exporting manifest list sha256:33803db86f55ff7e09ebb0be3b8b6d5bf4b9bbecdd95bd4e613f4530beae9167                                                                                                                    0.0s 
 => => pushing layers                                                                                                                                                                                                     5.9s
 => => pushing manifest for docker.io/kairin/001:06-rust@sha256:33803db86f55ff7e09ebb0be3b8b6d5bf4b9bbecdd95bd4e613f4530beae9167                                                                                          2.7s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:06-rust
06-rust: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Pull complete 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Already exists 
cf0b9b269361: Already exists 
fc7195c121eb: Already exists 
595f5bb458b9: Already exists 
2536f97679fc: Already exists 
d3e24dfe6ce7: Pull complete 
Digest: sha256:33803db86f55ff7e09ebb0be3b8b6d5bf4b9bbecdd95bd4e613f4530beae9167
Status: Downloaded newer image for kairin/001:06-rust
docker.io/kairin/001:06-rust
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:06-rust exists locally...
Image kairin/001:06-rust verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:06-rust
Processing numbered directory: build/07-protobuf_apt
Generating fixed tag: kairin/001:07-protobuf_apt
Using base image build arg: kairin/001:06-rust
--------------------------------------------------
Building image from folder: build/07-protobuf_apt
Image Name: 07-protobuf_apt
Platform: linux/arm64
Tag: kairin/001:07-protobuf_apt
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:07-protobuf_apt --build-arg BASE_IMAGE=kairin/001:06-rust --push build/07-protobuf_apt
[+] Building 7.2s (8/8) FINISHED                                                                                                                                                               docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 917B                                                                                                                                                                                      0.0s
 => [internal] load metadata for docker.io/kairin/001:06-rust                                                                                                                                                             1.0s
 => [auth] kairin/001:pull token for registry-1.docker.io                                                                                                                                                                 0.0s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/2] FROM docker.io/kairin/001:06-rust@sha256:33803db86f55ff7e09ebb0be3b8b6d5bf4b9bbecdd95bd4e613f4530beae9167                                                                                                       0.2s
 => => resolve docker.io/kairin/001:06-rust@sha256:33803db86f55ff7e09ebb0be3b8b6d5bf4b9bbecdd95bd4e613f4530beae9167                                                                                                       0.0s
 => [2/2] RUN if [ -z "$(which protoc)" ]; then         apt-get update;     apt-get install -y --no-install-recommends         protobuf-compiler     libprotoc-dev     libprotobuf-dev;     rm -rf /var/lib/apt/lists/*;  0.1s
 => exporting to image                                                                                                                                                                                                    5.6s
 => => exporting layers                                                                                                                                                                                                   0.1s
 => => exporting manifest sha256:653d1818b6b121be4455e1014a3cdce6545dd302fe27ebbd03a236fa1e661086                                                                                                                         0.0s
 => => exporting config sha256:0eecd99f01f9841729b57b884b921da2c1146fc393151f80b0902944b78c558a                                                                                                                           0.0s
 => => exporting attestation manifest sha256:8ef19025ade7908826f413eb3d31ef73b1bc490c503a0792042c4a03e81de7f0                                                                                                             0.0s
 => => exporting manifest list sha256:ae258f81d17ed23a7ab820f20adfac6389426537070fcbc2bc851361399de940                                                                                                                    0.0s
 => => pushing layers                                                                                                                                                                                                     2.5s
 => => pushing manifest for docker.io/kairin/001:07-protobuf_apt@sha256:ae258f81d17ed23a7ab820f20adfac6389426537070fcbc2bc851361399de940                                                                                  2.8s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:07-protobuf_apt
07-protobuf_apt: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Pull complete 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Already exists 
cf0b9b269361: Already exists 
fc7195c121eb: Already exists 
595f5bb458b9: Already exists 
2536f97679fc: Already exists 
d3e24dfe6ce7: Already exists 
Digest: sha256:ae258f81d17ed23a7ab820f20adfac6389426537070fcbc2bc851361399de940
Status: Downloaded newer image for kairin/001:07-protobuf_apt
docker.io/kairin/001:07-protobuf_apt
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:07-protobuf_apt exists locally...
Image kairin/001:07-protobuf_apt verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:07-protobuf_apt
Processing numbered directory: build/08-protobuf_cpp
Generating fixed tag: kairin/001:08-protobuf_cpp
Using base image build arg: kairin/001:07-protobuf_apt
--------------------------------------------------
Building image from folder: build/08-protobuf_cpp
Image Name: 08-protobuf_cpp
Platform: linux/arm64
Tag: kairin/001:08-protobuf_cpp
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:08-protobuf_cpp --build-arg BASE_IMAGE=kairin/001:07-protobuf_apt --push build/08-protobuf_cpp
[+] Building 29.7s (8/8) FINISHED                                                                                                                                                              docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 769B                                                                                                                                                                                      0.0s
 => [internal] load metadata for docker.io/kairin/001:07-protobuf_apt                                                                                                                                                     0.8s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/3] FROM docker.io/kairin/001:07-protobuf_apt@sha256:ae258f81d17ed23a7ab820f20adfac6389426537070fcbc2bc851361399de940                                                                                               0.2s
 => => resolve docker.io/kairin/001:07-protobuf_apt@sha256:ae258f81d17ed23a7ab820f20adfac6389426537070fcbc2bc851361399de940                                                                                               0.0s
 => [2/3] RUN apt-get update && apt-get install -y --no-install-recommends python3-pip                                                                                                                                   10.4s
 => [3/3] RUN pip install --upgrade protobuf                                                                                                                                                                              3.0s
 => exporting to image                                                                                                                                                                                                   15.1s 
 => => exporting layers                                                                                                                                                                                                   3.1s 
 => => exporting manifest sha256:ac1b4467dd0059f64d10f1f5b0b84be3d80e4ac4bdc8034eedb084e261908566                                                                                                                         0.0s 
 => => exporting config sha256:fead894267f83753e0dbe0ea59cba0ffca153c2c39e7e6693b22cfd710cf90e8                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:e8445f49b789d327079272ccdd79192199e157c6f232cbe2469d3eeb7094584f                                                                                                             0.0s 
 => => exporting manifest list sha256:0b4523c23ba7a1a48ba8b46c49da02c9f1fa89e44d4f3fe19c8562cec29e3bc5                                                                                                                    0.0s 
 => => pushing layers                                                                                                                                                                                                     8.9s
 => => pushing manifest for docker.io/kairin/001:08-protobuf_cpp@sha256:0b4523c23ba7a1a48ba8b46c49da02c9f1fa89e44d4f3fe19c8562cec29e3bc5                                                                                  2.8s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:08-protobuf_cpp
08-protobuf_cpp: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Already exists 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Already exists 
cf0b9b269361: Already exists 
fc7195c121eb: Already exists 
595f5bb458b9: Already exists 
2536f97679fc: Already exists 
d3e24dfe6ce7: Already exists 
7fff2721525c: Pull complete 
73e0f11ca0a7: Pull complete 
Digest: sha256:0b4523c23ba7a1a48ba8b46c49da02c9f1fa89e44d4f3fe19c8562cec29e3bc5
Status: Downloaded newer image for kairin/001:08-protobuf_cpp
docker.io/kairin/001:08-protobuf_cpp
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:08-protobuf_cpp exists locally...
Image kairin/001:08-protobuf_cpp verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:08-protobuf_cpp
Processing numbered directory: build/09-opencv
Generating fixed tag: kairin/001:09-opencv
Using base image build arg: kairin/001:08-protobuf_cpp
--------------------------------------------------
Building image from folder: build/09-opencv
Image Name: 09-opencv
Platform: linux/arm64
Tag: kairin/001:09-opencv
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:09-opencv --build-arg BASE_IMAGE=kairin/001:08-protobuf_cpp --push build/09-opencv
[+] Building 33.3s (9/9) FINISHED                                                                                                                                                              docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 1.39kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:08-protobuf_cpp                                                                                                                                                     0.3s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [internal] load build context                                                                                                                                                                                         0.0s
 => => transferring context: 161B                                                                                                                                                                                         0.0s
 => [1/3] FROM docker.io/kairin/001:08-protobuf_cpp@sha256:0b4523c23ba7a1a48ba8b46c49da02c9f1fa89e44d4f3fe19c8562cec29e3bc5                                                                                               0.3s
 => => resolve docker.io/kairin/001:08-protobuf_cpp@sha256:0b4523c23ba7a1a48ba8b46c49da02c9f1fa89e44d4f3fe19c8562cec29e3bc5                                                                                               0.0s
 => [2/3] COPY build.sh install.sh install_deps.sh install_deb.sh patches.diff /tmp/opencv/                                                                                                                               0.1s
 => [3/3] RUN cd /tmp/opencv &&     (./install.sh || ./build.sh || (echo "BUILD FAILED (OpenCV )" && exit 1)) &&     pip3 install --no-cache-dir onnxruntime-gpu &&     echo "check_python_pkg onnxruntime" >> /opt/lis  22.0s
 => exporting to image                                                                                                                                                                                                   10.4s
 => => exporting layers                                                                                                                                                                                                   1.7s
 => => exporting manifest sha256:4d77c2818af4a12b325df19fef83d2848c4dcd682054b4ad89d1c0d566578899                                                                                                                         0.0s 
 => => exporting config sha256:e52bc8f68659470d4bd4c63b2b0989178b5c9a10e1cd5551ecab053dea7f5d31                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:7fab499840882d53b370e9de335f2f7b8c1ceb82a2b68f23cf47084aa39a3723                                                                                                             0.0s 
 => => exporting manifest list sha256:961e658800b531448492d28164d14f0aa39410ef61c802330af4a2f9d592b245                                                                                                                    0.0s 
 => => pushing layers                                                                                                                                                                                                     5.7s
 => => pushing manifest for docker.io/kairin/001:09-opencv@sha256:961e658800b531448492d28164d14f0aa39410ef61c802330af4a2f9d592b245                                                                                        2.8s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:09-opencv
09-opencv: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Already exists 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Already exists 
cf0b9b269361: Already exists 
fc7195c121eb: Already exists 
595f5bb458b9: Already exists 
2536f97679fc: Already exists 
d3e24dfe6ce7: Already exists 
7fff2721525c: Already exists 
73e0f11ca0a7: Already exists 
2d6b3e83e27b: Pull complete 
a82655ae800c: Pull complete 
Digest: sha256:961e658800b531448492d28164d14f0aa39410ef61c802330af4a2f9d592b245
Status: Downloaded newer image for kairin/001:09-opencv
docker.io/kairin/001:09-opencv
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:09-opencv exists locally...
Image kairin/001:09-opencv verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:09-opencv
Processing numbered directory: build/10-onnx
Generating fixed tag: kairin/001:10-onnx
Using base image build arg: kairin/001:09-opencv
--------------------------------------------------
Building image from folder: build/10-onnx
Image Name: 10-onnx
Platform: linux/arm64
Tag: kairin/001:10-onnx
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:10-onnx --build-arg BASE_IMAGE=kairin/001:09-opencv --push build/10-onnx
[+] Building 10.6s (7/7) FINISHED                                                                                                                                                              docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 977B                                                                                                                                                                                      0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 10)                                                                                              0.0s
 => [internal] load metadata for docker.io/kairin/001:09-opencv                                                                                                                                                           0.3s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/2] FROM docker.io/kairin/001:09-opencv@sha256:961e658800b531448492d28164d14f0aa39410ef61c802330af4a2f9d592b245                                                                                                     0.3s
 => => resolve docker.io/kairin/001:09-opencv@sha256:961e658800b531448492d28164d14f0aa39410ef61c802330af4a2f9d592b245                                                                                                     0.0s
 => [2/2] RUN pip3 install onnx ||     pip3 install git+https://github.com/onnx/onnx@${ONNX_VERSION} &&     pip3 show onnx &&     python3 -c 'import onnx; print(onnx.__version__)'                                       3.9s
 => exporting to image                                                                                                                                                                                                    5.9s 
 => => exporting layers                                                                                                                                                                                                   0.2s 
 => => exporting manifest sha256:ad77d85387e679da26229e90b8168f7629bd1a9d72e2903f73bbf07c77f050ca                                                                                                                         0.0s 
 => => exporting config sha256:0d1156c3d431b5f779a1592a8de73299ae8c2b30752640701482ed04faffe077                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:7498906df5dec66ca123049d73971a06635c13a3be513915e2a101af95214f50                                                                                                             0.0s 
 => => exporting manifest list sha256:2f78d48f76239bb837d507ec27847bb4392ea8bb72e4ee8536bfec2bc73b84aa                                                                                                                    0.0s 
 => => pushing layers                                                                                                                                                                                                     3.0s
 => => pushing manifest for docker.io/kairin/001:10-onnx@sha256:2f78d48f76239bb837d507ec27847bb4392ea8bb72e4ee8536bfec2bc73b84aa                                                                                          2.7s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s

 1 warning found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 10)
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:10-onnx
10-onnx: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Pull complete 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Already exists 
cf0b9b269361: Already exists 
fc7195c121eb: Already exists 
595f5bb458b9: Already exists 
2536f97679fc: Already exists 
d3e24dfe6ce7: Already exists 
7fff2721525c: Already exists 
73e0f11ca0a7: Already exists 
2d6b3e83e27b: Already exists 
a82655ae800c: Already exists 
Digest: sha256:2f78d48f76239bb837d507ec27847bb4392ea8bb72e4ee8536bfec2bc73b84aa
Status: Downloaded newer image for kairin/001:10-onnx
docker.io/kairin/001:10-onnx
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:10-onnx exists locally...
Image kairin/001:10-onnx verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:10-onnx
Processing numbered directory: build/10-onnxruntime
Generating fixed tag: kairin/001:10-onnxruntime
Using base image build arg: kairin/001:10-onnx
--------------------------------------------------
Building image from folder: build/10-onnxruntime
Image Name: 10-onnxruntime
Platform: linux/arm64
Tag: kairin/001:10-onnxruntime
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:10-onnxruntime --build-arg BASE_IMAGE=kairin/001:10-onnx --push build/10-onnxruntime
[+] Building 1.0s (7/7) FINISHED                                                                                                                                                               docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 505B                                                                                                                                                                                      0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 10)                                                                                              0.0s
 => [internal] load metadata for docker.io/kairin/001:10-onnx                                                                                                                                                             0.3s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [internal] load build context                                                                                                                                                                                         0.0s
 => => transferring context: 60B                                                                                                                                                                                          0.0s
 => [1/3] FROM docker.io/kairin/001:10-onnx@sha256:2f78d48f76239bb837d507ec27847bb4392ea8bb72e4ee8536bfec2bc73b84aa                                                                                                       0.3s
 => => resolve docker.io/kairin/001:10-onnx@sha256:2f78d48f76239bb837d507ec27847bb4392ea8bb72e4ee8536bfec2bc73b84aa                                                                                                       0.0s
 => [2/3] COPY install.sh build.sh /tmp/onnxruntime/                                                                                                                                                                      0.1s
 => ERROR [3/3] RUN /tmp/onnxruntime/install.sh || /tmp/onnxruntime/build.sh                                                                                                                                              0.2s
------                                                                                                                                                                                                                         
 > [3/3] RUN /tmp/onnxruntime/install.sh || /tmp/onnxruntime/build.sh:                                                                                                                                                         
0.122 + '[' off == on ']'
0.122 + tarpack install onnxruntime-gpu-
0.126 + COMMAND=install
0.127 + PACKAGE=onnxruntime-gpu-
0.127 + : /usr/local
0.127 + : /tmp/tarpack
0.127 + : '--quiet --show-progress --progress=bar:force:noscroll'
0.127 + mkdir -p /tmp/tarpack/uploads
0.137 + '[' install == install ']'
0.137 + cd /tmp/tarpack
0.137 + wget --quiet --show-progress --progress=bar:force:noscroll /onnxruntime-gpu-.tar.gz
0.143 + echo 'Building onnxruntime  (branch=, flags=)'
0.143 Building onnxruntime  (branch=, flags=)
0.144 ++ uname -m
0.146 + '[' '!' -d /usr/lib/aarch64-linux-gnu ']'
0.146 ++ uname -m
0.148 + export LD_LIBRARY_PATH=/usr/lib/aarch64-linux-gnu:
0.148 + LD_LIBRARY_PATH=/usr/lib/aarch64-linux-gnu:
0.149 ++ uname -m
0.151 + '[' '!' -f /usr/lib/aarch64-linux-gnu/libnvinfer.so ']'
0.151 ++ uname -m
0.153 TensorRT NVDLA compiler library not found
0.153 + '[' '!' -f /usr/lib/aarch64-linux-gnu/libnvdla_compiler.so ']'
0.153 + echo 'TensorRT NVDLA compiler library not found'
0.153 + exit 1
------

 1 warning found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 10)
Dockerfile:19
--------------------
  17 |     COPY install.sh build.sh /tmp/onnxruntime/
  18 |     
  19 | >>> RUN /tmp/onnxruntime/install.sh || /tmp/onnxruntime/build.sh
  20 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c /tmp/onnxruntime/install.sh || /tmp/onnxruntime/build.sh" did not complete successfully: exit code: 1
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:10-onnxruntime
Error response from daemon: manifest for kairin/001:10-onnxruntime not found: manifest unknown: manifest unknown
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:10-onnxruntime exists locally...
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Error: Image kairin/001:10-onnxruntime NOT found locally immediately after successful 'docker pull'.
This indicates a potential issue with the Docker daemon or buildx driver.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Build, push or pull failed for build/10-onnxruntime. Subsequent dependent builds might fail.
Build process for build/10-onnxruntime exited with code 1
Continuing with next build...
Processing numbered directory: build/10-triton
Generating fixed tag: kairin/001:10-triton
Using base image build arg: kairin/001:10-onnx
--------------------------------------------------
Building image from folder: build/10-triton
Image Name: 10-triton
Platform: linux/arm64
Tag: kairin/001:10-triton
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:10-triton --build-arg BASE_IMAGE=kairin/001:10-onnx --push build/10-triton
[+] Building 3.5s (7/7) FINISHED                                                                                                                                                               docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 609B                                                                                                                                                                                      0.0s
 => WARN: InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 12)                                                                                              0.0s
 => [internal] load metadata for docker.io/kairin/001:10-onnx                                                                                                                                                             0.3s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [internal] load build context                                                                                                                                                                                         0.0s
 => => transferring context: 60B                                                                                                                                                                                          0.0s
 => CACHED [1/3] FROM docker.io/kairin/001:10-onnx@sha256:2f78d48f76239bb837d507ec27847bb4392ea8bb72e4ee8536bfec2bc73b84aa                                                                                                0.0s
 => => resolve docker.io/kairin/001:10-onnx@sha256:2f78d48f76239bb837d507ec27847bb4392ea8bb72e4ee8536bfec2bc73b84aa                                                                                                       0.0s
 => [2/3] COPY build.sh install.sh /tmp/triton/                                                                                                                                                                           0.1s
 => ERROR [3/3] RUN /tmp/triton/install.sh || /tmp/triton/build.sh                                                                                                                                                        2.8s
------                                                                                                                                                                                                                         
 > [3/3] RUN /tmp/triton/install.sh || /tmp/triton/build.sh:                                                                                                                                                                   
0.123 + '[' off == on ']'                                                                                                                                                                                                      
0.123 + pip3 install triton==                                                                                                                                                                                                  
0.717 Using pip 25.0.1 from /opt/venv/lib/python3.12/site-packages/pip (python 3.12)                                                                                                                                           
0.998 ERROR: Invalid requirement: 'triton==': Expected end or semicolon (after name and no valid version specifier)                                                                                                            
0.998     triton==
0.998           ^
1.153 + echo '============ Building triton  (branch=) ============'
1.153 + pip3 uninstall -y triton
1.153 ============ Building triton  (branch=) ============
1.994 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/looseversion-1.3.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.995 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/dill-0.3.9-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.995 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_utilities-0.14.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.996 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_thunder-0.2.2.dev0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.997 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/opt_einsum-3.4.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.998 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/nvfuser-0.2.26a0+c5e1555-py3.12-linux-aarch64.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
2.017 WARNING: Skipping triton as it is not installed.
2.155 + git clone --branch --depth=1 --recursive https://github.com/triton-lang/triton /opt/triton
2.160 Cloning into '/opt/triton'...
2.800 fatal: Remote branch --depth=1 not found in upstream origin
------

 1 warning found (use docker --debug to expand):
 - InvalidDefaultArgInFrom: Default value for ARG ${BASE_IMAGE} results in empty or invalid base image name (line 12)
Dockerfile:20
--------------------
  18 |     COPY build.sh install.sh /tmp/triton/
  19 |     
  20 | >>> RUN /tmp/triton/install.sh || /tmp/triton/build.sh
  21 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c /tmp/triton/install.sh || /tmp/triton/build.sh" did not complete successfully: exit code: 128
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:10-triton
Error response from daemon: manifest for kairin/001:10-triton not found: manifest unknown: manifest unknown
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:10-triton exists locally...
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Error: Image kairin/001:10-triton NOT found locally immediately after successful 'docker pull'.
This indicates a potential issue with the Docker daemon or buildx driver.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Build, push or pull failed for build/10-triton. Subsequent dependent builds might fail.
Build process for build/10-triton exited with code 1
Continuing with next build...
Processing numbered directory: build/11-diffusers
Generating fixed tag: kairin/001:11-diffusers
Using base image build arg: kairin/001:10-onnx
--------------------------------------------------
Building image from folder: build/11-diffusers
Image Name: 11-diffusers
Platform: linux/arm64
Tag: kairin/001:11-diffusers
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:11-diffusers --build-arg BASE_IMAGE=kairin/001:10-onnx --push build/11-diffusers
[+] Building 19.2s (9/9) FINISHED                                                                                                                                                              docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 1.16kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:10-onnx                                                                                                                                                             0.9s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [internal] load build context                                                                                                                                                                                         0.0s
 => => transferring context: 60B                                                                                                                                                                                          0.0s
 => CACHED [1/3] FROM docker.io/kairin/001:10-onnx@sha256:2f78d48f76239bb837d507ec27847bb4392ea8bb72e4ee8536bfec2bc73b84aa                                                                                                0.0s
 => => resolve docker.io/kairin/001:10-onnx@sha256:2f78d48f76239bb837d507ec27847bb4392ea8bb72e4ee8536bfec2bc73b84aa                                                                                                       0.0s
 => [2/3] COPY build.sh install.sh /tmp/DIFFUSERS/                                                                                                                                                                        0.1s
 => [3/3] RUN rm -rf /opt/diffusers &&     export DIFFUSERS_VERSION=0.24.0 &&     (bash -x /tmp/DIFFUSERS/install.sh || bash -x /tmp/DIFFUSERS/build.sh) &&     echo "check_python_pkg diffusers" >> /opt/list_app_check  5.3s
 => exporting to image                                                                                                                                                                                                   12.7s 
 => => exporting layers                                                                                                                                                                                                   1.3s 
 => => exporting manifest sha256:af6a6ce3a7b669ebc76f88385abab8deff871644294478822053bcf3f72eb476                                                                                                                         0.0s 
 => => exporting config sha256:eefc87d3730de1b3d5289895d91d21cc8c150db543fc2a05d3ac19750249fa34                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:1abf4a333163411198b9397e15793eeaa3d2b564e946667d7a85d731cda5f798                                                                                                             0.0s 
 => => exporting manifest list sha256:40a78b6ec488caac05e93a81f4fb2cd668e2cb8cd0b4c17b452e20a9da803861                                                                                                                    0.0s 
 => => pushing layers                                                                                                                                                                                                     8.5s
 => => pushing manifest for docker.io/kairin/001:11-diffusers@sha256:40a78b6ec488caac05e93a81f4fb2cd668e2cb8cd0b4c17b452e20a9da803861                                                                                     2.8s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:11-diffusers
11-diffusers: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Already exists 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Already exists 
cf0b9b269361: Already exists 
fc7195c121eb: Already exists 
595f5bb458b9: Already exists 
2536f97679fc: Already exists 
d3e24dfe6ce7: Already exists 
7fff2721525c: Already exists 
73e0f11ca0a7: Already exists 
2d6b3e83e27b: Already exists 
a82655ae800c: Already exists 
2120b72c2e85: Pull complete 
865ca8565a88: Pull complete 
Digest: sha256:40a78b6ec488caac05e93a81f4fb2cd668e2cb8cd0b4c17b452e20a9da803861
Status: Downloaded newer image for kairin/001:11-diffusers
docker.io/kairin/001:11-diffusers
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:11-diffusers exists locally...
Image kairin/001:11-diffusers verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:11-diffusers
Processing numbered directory: build/12-huggingface_hub
Generating fixed tag: kairin/001:12-huggingface_hub
Using base image build arg: kairin/001:11-diffusers
--------------------------------------------------
Building image from folder: build/12-huggingface_hub
Image Name: 12-huggingface_hub
Platform: linux/arm64
Tag: kairin/001:12-huggingface_hub
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:12-huggingface_hub --build-arg BASE_IMAGE=kairin/001:11-diffusers --push build/12-huggingface_hub
[+] Building 43.4s (11/11) FINISHED                                                                                                                                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 2.97kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:11-diffusers                                                                                                                                                        1.4s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/5] FROM docker.io/kairin/001:11-diffusers@sha256:40a78b6ec488caac05e93a81f4fb2cd668e2cb8cd0b4c17b452e20a9da803861                                                                                                  0.3s
 => => resolve docker.io/kairin/001:11-diffusers@sha256:40a78b6ec488caac05e93a81f4fb2cd668e2cb8cd0b4c17b452e20a9da803861                                                                                                  0.0s
 => [internal] load build context                                                                                                                                                                                         0.0s
 => => transferring context: 89B                                                                                                                                                                                          0.0s
 => [2/5] RUN set -ex     && mkdir -p /data/models/huggingface         && apt-get update     && apt-get install -y --no-install-recommends         time         curl         gnupg         git-lfs         && curl -fsS  27.7s
 => [3/5] COPY huggingface-downloader /usr/local/bin/                                                                                                                                                                     0.1s 
 => [4/5] COPY huggingface-downloader.py /usr/local/bin/_huggingface-downloader.py                                                                                                                                        0.1s 
 => [5/5] RUN huggingface-downloader --help                                                                                                                                                                               0.8s 
 => exporting to image                                                                                                                                                                                                   12.7s 
 => => exporting layers                                                                                                                                                                                                   2.5s 
 => => exporting manifest sha256:e493f0f11b125d0230693dbc0344f32faa2b094876d114c1e3b17a6c503ded16                                                                                                                         0.0s 
 => => exporting config sha256:278a1a5316750df91ea0c1841ea498b8fa9bf08cf40f24016ef3fa3d44bfb3a8                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:277974966a1c2a1fc099351b4aa7aaa742d708bd7d8b16d59c1e057a839d2f54                                                                                                             0.0s 
 => => exporting manifest list sha256:efe6962a1835076c3f8d18be8437d78490f293007db48090e3235f8f33f4c970                                                                                                                    0.0s 
 => => pushing layers                                                                                                                                                                                                     7.2s
 => => pushing manifest for docker.io/kairin/001:12-huggingface_hub@sha256:efe6962a1835076c3f8d18be8437d78490f293007db48090e3235f8f33f4c970                                                                               2.9s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:12-huggingface_hub
12-huggingface_hub: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Pull complete 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Already exists 
cf0b9b269361: Already exists 
fc7195c121eb: Already exists 
595f5bb458b9: Already exists 
2536f97679fc: Already exists 
d3e24dfe6ce7: Already exists 
7fff2721525c: Already exists 
73e0f11ca0a7: Already exists 
2d6b3e83e27b: Already exists 
a82655ae800c: Already exists 
2120b72c2e85: Already exists 
865ca8565a88: Already exists 
a1d98216339f: Pull complete 
aae6082efa61: Pull complete 
e7687eceff12: Pull complete 
Digest: sha256:efe6962a1835076c3f8d18be8437d78490f293007db48090e3235f8f33f4c970
Status: Downloaded newer image for kairin/001:12-huggingface_hub
docker.io/kairin/001:12-huggingface_hub
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:12-huggingface_hub exists locally...
Image kairin/001:12-huggingface_hub verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:12-huggingface_hub
Processing numbered directory: build/13-transformers
Generating fixed tag: kairin/001:13-transformers
Using base image build arg: kairin/001:12-huggingface_hub
--------------------------------------------------
Building image from folder: build/13-transformers
Image Name: 13-transformers
Platform: linux/arm64
Tag: kairin/001:13-transformers
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:13-transformers --build-arg BASE_IMAGE=kairin/001:12-huggingface_hub --push build/13-transformers
[+] Building 46.7s (10/10) FINISHED                                                                                                                                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 1.96kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:12-huggingface_hub                                                                                                                                                  0.3s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/4] FROM docker.io/kairin/001:12-huggingface_hub@sha256:efe6962a1835076c3f8d18be8437d78490f293007db48090e3235f8f33f4c970                                                                                            0.3s
 => => resolve docker.io/kairin/001:12-huggingface_hub@sha256:efe6962a1835076c3f8d18be8437d78490f293007db48090e3235f8f33f4c970                                                                                            0.0s
 => [internal] load build context                                                                                                                                                                                         0.0s
 => => transferring context: 46B                                                                                                                                                                                          0.0s
 => [2/4] RUN set -ex     && echo "Installing transformers version 4.36.2"     && pip3 install --no-cache-dir accelerate sentencepiece optimum     && pip3 install --no-cache-dir transformers     && if [ $(lsb_releas  25.1s
 => [3/4] COPY huggingface-benchmark.py /usr/local/bin                                                                                                                                                                    0.2s 
 => [4/4] RUN chmod +x /usr/local/bin/huggingface-benchmark.py     && echo "check_cmd huggingface-benchmark 'huggingface-benchmark.py --help'" >> /opt/list_app_checks.sh                                                 0.1s 
 => exporting to image                                                                                                                                                                                                   20.3s 
 => => exporting layers                                                                                                                                                                                                   6.9s 
 => => exporting manifest sha256:192817419c161b7bed29c25ed6e96b72adcd74f0fec0eb1410449e61e34ba1c7                                                                                                                         0.0s 
 => => exporting config sha256:aa02267749196792adb1b2e9ae47bd52d2aa57cf47859e13ebd1a010195e39ab                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:c63a898757b0594116992a262dcaee5e516aa7c98c66e9d3d1ba1057e9dd73de                                                                                                             0.0s
 => => exporting manifest list sha256:81dbbe2d1cad5ab7f7ab5ba843d7b9d16d12d86562bf43c5058f76a35186741b                                                                                                                    0.0s
 => => pushing layers                                                                                                                                                                                                    10.3s
 => => pushing manifest for docker.io/kairin/001:13-transformers@sha256:81dbbe2d1cad5ab7f7ab5ba843d7b9d16d12d86562bf43c5058f76a35186741b                                                                                  2.9s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:13-transformers
13-transformers: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Already exists 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Already exists 
cf0b9b269361: Already exists 
fc7195c121eb: Already exists 
595f5bb458b9: Already exists 
2536f97679fc: Already exists 
d3e24dfe6ce7: Already exists 
7fff2721525c: Already exists 
73e0f11ca0a7: Already exists 
2d6b3e83e27b: Already exists 
a82655ae800c: Already exists 
2120b72c2e85: Already exists 
865ca8565a88: Already exists 
a1d98216339f: Already exists 
aae6082efa61: Already exists 
e7687eceff12: Already exists 
10621528e834: Pull complete 
6f3cdb2b831b: Pull complete 
e0a1c8d5d526: Pull complete 
Digest: sha256:81dbbe2d1cad5ab7f7ab5ba843d7b9d16d12d86562bf43c5058f76a35186741b
Status: Downloaded newer image for kairin/001:13-transformers
docker.io/kairin/001:13-transformers
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:13-transformers exists locally...
Image kairin/001:13-transformers verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:13-transformers
Processing numbered directory: build/14-xformers
Generating fixed tag: kairin/001:14-xformers
Using base image build arg: kairin/001:13-transformers
--------------------------------------------------
Building image from folder: build/14-xformers
Image Name: 14-xformers
Platform: linux/arm64
Tag: kairin/001:14-xformers
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:14-xformers --build-arg BASE_IMAGE=kairin/001:13-transformers --push build/14-xformers
[+] Building 240.7s (7/7) FINISHED                                                                                                                                                             docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 2.67kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:13-transformers                                                                                                                                                     0.9s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/2] FROM docker.io/kairin/001:13-transformers@sha256:81dbbe2d1cad5ab7f7ab5ba843d7b9d16d12d86562bf43c5058f76a35186741b                                                                                               0.4s
 => => resolve docker.io/kairin/001:13-transformers@sha256:81dbbe2d1cad5ab7f7ab5ba843d7b9d16d12d86562bf43c5058f76a35186741b                                                                                               0.0s
 => [2/2] RUN set -ex     && rm -rf /opt/xformers     && CUDA_MAJOR=$(echo ${CUDA_VERSION} | cut -d. -f1)     && CUDA_MINOR=$(echo ${CUDA_VERSION} | cut -d. -f2)     && CUDA_NUM=$((CUDA_MAJOR * 10 + CUDA_MINOR))     177.3s
 => exporting to image                                                                                                                                                                                                   61.9s 
 => => exporting layers                                                                                                                                                                                                  26.5s 
 => => exporting manifest sha256:b212f2e773e525aacd79cc2e39d80fd9938e533d1c94451f839fc7f00f9c3c71                                                                                                                         0.0s 
 => => exporting config sha256:22b98177c07899aae81f9ed05828dda3327c03ec5d18f97b93aa642667552dd0                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:cdc58ce2304eeb6c81d961822943787e036310dcd63cf88f75a8cfe66b12de3f                                                                                                             0.0s 
 => => exporting manifest list sha256:2269cdf1abf5cbcb0028b65da27c2ffa8e28be2a980d1c65cd776815c5cd8fe4                                                                                                                    0.0s 
 => => pushing layers                                                                                                                                                                                                    32.2s
 => => pushing manifest for docker.io/kairin/001:14-xformers@sha256:2269cdf1abf5cbcb0028b65da27c2ffa8e28be2a980d1c65cd776815c5cd8fe4                                                                                      3.0s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:14-xformers
14-xformers: Pulling from kairin/001
14fcbe0c9272: Already exists 
9c92e5240789: Already exists 
353abcece3ce: Already exists 
290ad82f04d9: Already exists 
2f95f84f4425: Already exists 
2eb947eebeef: Already exists 
d003c781771c: Already exists 
4f4fb700ef54: Already exists 
feb86028c801: Already exists 
891d813021f2: Already exists 
e0b4170c69a3: Already exists 
cf0b9b269361: Already exists 
fc7195c121eb: Already exists 
595f5bb458b9: Already exists 
2536f97679fc: Already exists 
d3e24dfe6ce7: Already exists 
7fff2721525c: Already exists 
73e0f11ca0a7: Already exists 
2d6b3e83e27b: Already exists 
a82655ae800c: Already exists 
2120b72c2e85: Already exists 
865ca8565a88: Already exists 
a1d98216339f: Already exists 
aae6082efa61: Already exists 
e7687eceff12: Already exists 
10621528e834: Already exists 
6f3cdb2b831b: Already exists 
e0a1c8d5d526: Already exists 
99ae2c7c6b63: Pull complete 
Digest: sha256:2269cdf1abf5cbcb0028b65da27c2ffa8e28be2a980d1c65cd776815c5cd8fe4
Status: Downloaded newer image for kairin/001:14-xformers
docker.io/kairin/001:14-xformers
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:14-xformers exists locally...
Image kairin/001:14-xformers verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:14-xformers
Processing numbered directory: build/15-flash-attention
Generating fixed tag: kairin/001:15-flash-attention
Using base image build arg: kairin/001:14-xformers
--------------------------------------------------
Building image from folder: build/15-flash-attention
Image Name: 15-flash-attention
Platform: linux/arm64
Tag: kairin/001:15-flash-attention
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:15-flash-attention --build-arg BASE_IMAGE=kairin/001:14-xformers --push build/15-flash-attention
[+] Building 17.2s (6/6) FINISHED                                                                                                                                                              docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 3.33kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:14-xformers                                                                                                                                                         1.6s
 => [auth] kairin/001:pull token for registry-1.docker.io                                                                                                                                                                 0.0s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/2] FROM docker.io/kairin/001:14-xformers@sha256:2269cdf1abf5cbcb0028b65da27c2ffa8e28be2a980d1c65cd776815c5cd8fe4                                                                                                   0.4s
 => => resolve docker.io/kairin/001:14-xformers@sha256:2269cdf1abf5cbcb0028b65da27c2ffa8e28be2a980d1c65cd776815c5cd8fe4                                                                                                   0.0s
 => ERROR [2/2] RUN set -ex     && apt-get update     && apt-get install -y --no-install-recommends         python3-pip python3-setuptools git cmake build-essential     && pip3 install --no-cache-dir --upgrade pip s  15.1s
------                                                                                                                                                                                                                         
 > [2/2] RUN set -ex     && apt-get update     && apt-get install -y --no-install-recommends         python3-pip python3-setuptools git cmake build-essential     && pip3 install --no-cache-dir --upgrade pip setuptools wheel         && rm -rf /opt/flash-attention     && git clone --depth=1 --branch=v2.7.4.post2 https://github.com/Dao-AILab/flash-attention /opt/flash-attention     && cd /opt/flash-attention         && sed -i 's|def get_platform():|def get_arch():\n    """\n    Returns the system aarch for the current system.\n    """\n    if sys.platform.startswith("linux"):\n        if platform.machine() == "x86_64":\n            return "x86_64"\n        if platform.machine() == "arm64" or platform.machine() == "aarch64":\n            return "aarch64"\n    elif sys.platform == "darwin":\n        mac_version = ".".join(platform.mac_ver()[0].split(".")[:2])\n        return f"macosx_{mac_version}_x86_64"\n    elif sys.platform == "win32":\n        return "win_amd64"\n    else:\n        raise ValueError("Unsupported platform: {}".format(sys.platform))\n\ndef get_system() -> str:\n    """\n    Returns the system name as used in wheel filenames.\n    """\n    if platform.system() == "Windows":\n        return "win"\n    elif platform.system() == "Darwin":\n        mac_version = ".".join(platform.mac_ver()[0].split(".")[:1])\n        return f"macos_{mac_version}"\n    elif platform.system() == "Linux":\n        return "linux"\n    else:\n        raise ValueError("Unsupported system: {}".format(platform.system()))\n\ndef get_platform() -> str:|' setup.py     && sed -i 's|    Returns the platform name as used in wheel filenames.|    Returns the platform name as used in wheel filenames.\n    """\n    return f"{get_system()}_{get_arch()}"|' setup.py     && sed -i 's|    if "80" in cuda_archs():.*|    cc_flag.append("-gencode")\n    cc_flag.append("arch=compute_87,code=sm_87")|' setup.py         && mkdir -p /opt/wheels     && export CMAKE_BUILD_PARALLEL_LEVEL=6     && python3 setup.py --verbose bdist_wheel --dist-dir /opt/wheels     && pip3 install /opt/wheels/flash_attn*.whl         && python3 -c "import flash_attn; print(f'Flash-Attention {flash_attn.__version__} installed successfully')"     && echo "check_python_pkg flash_attn" >> /opt/list_app_checks.sh         && apt-get clean     && rm -rf /var/lib/apt/lists/*     && rm -rf /root/.cache/pip     && rm -rf /opt/flash-attention/build:
0.082 + apt-get update
0.263 Get:1 https://cli.github.com/packages stable InRelease [3,917 B]
0.400 Get:2 https://cli.github.com/packages stable/main arm64 Packages [343 B]
0.560 Get:3 http://ports.ubuntu.com/ubuntu-ports noble InRelease [256 kB]
1.427 Get:4 http://ports.ubuntu.com/ubuntu-ports noble-updates InRelease [126 kB]
1.642 Get:5 http://ports.ubuntu.com/ubuntu-ports noble-backports InRelease [126 kB]
1.856 Get:6 http://ports.ubuntu.com/ubuntu-ports noble-security InRelease [126 kB]
2.073 Get:7 http://ports.ubuntu.com/ubuntu-ports noble/restricted arm64 Packages [113 kB]
2.126 Get:8 http://ports.ubuntu.com/ubuntu-ports noble/universe arm64 Packages [19.0 MB]
3.621 Get:9 http://ports.ubuntu.com/ubuntu-ports noble/multiverse arm64 Packages [274 kB]
3.624 Get:10 http://ports.ubuntu.com/ubuntu-ports noble/main arm64 Packages [1,776 kB]
3.708 Get:11 http://ports.ubuntu.com/ubuntu-ports noble-updates/universe arm64 Packages [1,332 kB]
3.781 Get:12 http://ports.ubuntu.com/ubuntu-ports noble-updates/main arm64 Packages [1,297 kB]
3.842 Get:13 http://ports.ubuntu.com/ubuntu-ports noble-updates/multiverse arm64 Packages [20.9 kB]
4.160 Get:14 http://ports.ubuntu.com/ubuntu-ports noble-updates/restricted arm64 Packages [1,414 kB]
5.404 Get:15 http://ports.ubuntu.com/ubuntu-ports noble-backports/universe arm64 Packages [31.8 kB]
5.406 Get:16 http://ports.ubuntu.com/ubuntu-ports noble-backports/main arm64 Packages [48.0 kB]
5.410 Get:17 http://ports.ubuntu.com/ubuntu-ports noble-security/multiverse arm64 Packages [19.0 kB]
5.411 Get:18 http://ports.ubuntu.com/ubuntu-ports noble-security/restricted arm64 Packages [1,269 kB]
5.893 Get:19 http://ports.ubuntu.com/ubuntu-ports noble-security/universe arm64 Packages [1,041 kB]
6.179 Get:20 http://ports.ubuntu.com/ubuntu-ports noble-security/main arm64 Packages [948 kB]
6.446 Fetched 29.2 MB in 6s (4,677 kB/s)
6.446 Reading package lists...
8.176 + apt-get install -y --no-install-recommends python3-pip python3-setuptools git cmake build-essential
8.189 Reading package lists...
9.817 Building dependency tree...
10.33 Reading state information...
11.37 python3-pip is already the newest version (24.0+dfsg-1ubuntu1.1).
11.37 python3-setuptools is already the newest version (68.1.2-2ubuntu1.1).
11.37 git is already the newest version (1:2.43.0-1ubuntu7.2).
11.37 cmake is already the newest version (3.28.3-1build7).
11.37 build-essential is already the newest version (12.10ubuntu1).
11.37 0 upgraded, 0 newly installed, 0 to remove and 28 not upgraded.
11.37 + pip3 install --no-cache-dir --upgrade pip setuptools wheel
11.97 Using pip 25.0.1 from /opt/venv/lib/python3.12/site-packages/pip (python 3.12)
12.35 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/looseversion-1.3.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
12.35 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/dill-0.3.9-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
12.35 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_utilities-0.14.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
12.35 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_thunder-0.2.2.dev0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
12.35 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/opt_einsum-3.4.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
12.35 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/nvfuser-0.2.26a0+c5e1555-py3.12-linux-aarch64.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
12.38 Requirement already satisfied: pip in /opt/venv/lib/python3.12/site-packages (25.0.1)
12.61 Requirement already satisfied: setuptools in /opt/venv/lib/python3.12/site-packages (78.1.0)
12.82 Requirement already satisfied: wheel in /usr/local/lib/python3.12/dist-packages (0.45.1)
13.90 + rm -rf /opt/flash-attention
13.90 + git clone --depth=1 --branch=v2.7.4.post2 https://github.com/Dao-AILab/flash-attention /opt/flash-attention
13.90 Cloning into '/opt/flash-attention'...
14.56 warning: Could not find remote branch v2.7.4.post2 to clone.
14.56 fatal: Remote branch v2.7.4.post2 not found in upstream origin
------
Dockerfile:22
--------------------
  21 |     # Single consolidated RUN command for speed and efficiency
  22 | >>> RUN set -ex \
  23 | >>>     # Install dependencies \
  24 | >>>     && apt-get update \
  25 | >>>     && apt-get install -y --no-install-recommends \
  26 | >>>         python3-pip python3-setuptools git cmake build-essential \
  27 | >>>     && pip3 install --no-cache-dir --upgrade pip setuptools wheel \
  28 | >>>     \
  29 | >>>     # Clone specific version \
  30 | >>>     && rm -rf /opt/flash-attention \
  31 | >>>     && git clone --depth=1 --branch=v2.7.4.post2 https://github.com/Dao-AILab/flash-attention /opt/flash-attention \
  32 | >>>     && cd /opt/flash-attention \
  33 | >>>     \
  34 | >>>     # Apply patch directly instead of using a patch file \
  35 | >>>     && sed -i 's|def get_platform():|def get_arch():\n    """\n    Returns the system aarch for the current system.\n    """\n    if sys.platform.startswith("linux"):\n        if platform.machine() == "x86_64":\n            return "x86_64"\n        if platform.machine() == "arm64" or platform.machine() == "aarch64":\n            return "aarch64"\n    elif sys.platform == "darwin":\n        mac_version = ".".join(platform.mac_ver()[0].split(".")[:2])\n        return f"macosx_{mac_version}_x86_64"\n    elif sys.platform == "win32":\n        return "win_amd64"\n    else:\n        raise ValueError("Unsupported platform: {}".format(sys.platform))\n\ndef get_system() -> str:\n    """\n    Returns the system name as used in wheel filenames.\n    """\n    if platform.system() == "Windows":\n        return "win"\n    elif platform.system() == "Darwin":\n        mac_version = ".".join(platform.mac_ver()[0].split(".")[:1])\n        return f"macos_{mac_version}"\n    elif platform.system() == "Linux":\n        return "linux"\n    else:\n        raise ValueError("Unsupported system: {}".format(platform.system()))\n\ndef get_platform() -> str:|' setup.py \
  36 | >>>     && sed -i 's|    Returns the platform name as used in wheel filenames.|    Returns the platform name as used in wheel filenames.\n    """\n    return f"{get_system()}_{get_arch()}"|' setup.py \
  37 | >>>     && sed -i 's|    if "80" in cuda_archs():.*|    cc_flag.append("-gencode")\n    cc_flag.append("arch=compute_87,code=sm_87")|' setup.py \
  38 | >>>     \
  39 | >>>     # Build with optimized parallelism \
  40 | >>>     && mkdir -p /opt/wheels \
  41 | >>>     && export CMAKE_BUILD_PARALLEL_LEVEL=${MAX_JOBS} \
  42 | >>>     && python3 setup.py --verbose bdist_wheel --dist-dir /opt/wheels \
  43 | >>>     && pip3 install /opt/wheels/flash_attn*.whl \
  44 | >>>     \
  45 | >>>     # Verify installation \
  46 | >>>     && python3 -c "import flash_attn; print(f'Flash-Attention {flash_attn.__version__} installed successfully')" \
  47 | >>>     && echo "check_python_pkg flash_attn" >> /opt/list_app_checks.sh \
  48 | >>>     \
  49 | >>>     # Cleanup \
  50 | >>>     && apt-get clean \
  51 | >>>     && rm -rf /var/lib/apt/lists/* \
  52 | >>>     && rm -rf /root/.cache/pip \
  53 | >>>     && rm -rf /opt/flash-attention/build
--------------------
ERROR: failed to solve: process "/bin/sh -c set -ex     && apt-get update     && apt-get install -y --no-install-recommends         python3-pip python3-setuptools git cmake build-essential     && pip3 install --no-cache-dir --upgrade pip setuptools wheel         && rm -rf /opt/flash-attention     && git clone --depth=1 --branch=v2.7.4.post2 https://github.com/Dao-AILab/flash-attention /opt/flash-attention     && cd /opt/flash-attention         && sed -i 's|def get_platform():|def get_arch():\\n    \"\"\"\\n    Returns the system aarch for the current system.\\n    \"\"\"\\n    if sys.platform.startswith(\"linux\"):\\n        if platform.machine() == \"x86_64\":\\n            return \"x86_64\"\\n        if platform.machine() == \"arm64\" or platform.machine() == \"aarch64\":\\n            return \"aarch64\"\\n    elif sys.platform == \"darwin\":\\n        mac_version = \".\".join(platform.mac_ver()[0].split(\".\")[:2])\\n        return f\"macosx_{mac_version}_x86_64\"\\n    elif sys.platform == \"win32\":\\n        return \"win_amd64\"\\n    else:\\n        raise ValueError(\"Unsupported platform: {}\".format(sys.platform))\\n\\ndef get_system() -> str:\\n    \"\"\"\\n    Returns the system name as used in wheel filenames.\\n    \"\"\"\\n    if platform.system() == \"Windows\":\\n        return \"win\"\\n    elif platform.system() == \"Darwin\":\\n        mac_version = \".\".join(platform.mac_ver()[0].split(\".\")[:1])\\n        return f\"macos_{mac_version}\"\\n    elif platform.system() == \"Linux\":\\n        return \"linux\"\\n    else:\\n        raise ValueError(\"Unsupported system: {}\".format(platform.system()))\\n\\ndef get_platform() -> str:|' setup.py     && sed -i 's|    Returns the platform name as used in wheel filenames.|    Returns the platform name as used in wheel filenames.\\n    \"\"\"\\n    return f\"{get_system()}_{get_arch()}\"|' setup.py     && sed -i 's|    if \"80\" in cuda_archs():.*|    cc_flag.append(\"-gencode\")\\n    cc_flag.append(\"arch=compute_87,code=sm_87\")|' setup.py         && mkdir -p /opt/wheels     && export CMAKE_BUILD_PARALLEL_LEVEL=${MAX_JOBS}     && python3 setup.py --verbose bdist_wheel --dist-dir /opt/wheels     && pip3 install /opt/wheels/flash_attn*.whl         && python3 -c \"import flash_attn; print(f'Flash-Attention {flash_attn.__version__} installed successfully')\"     && echo \"check_python_pkg flash_attn\" >> /opt/list_app_checks.sh         && apt-get clean     && rm -rf /var/lib/apt/lists/*     && rm -rf /root/.cache/pip     && rm -rf /opt/flash-attention/build" did not complete successfully: exit code: 128
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:15-flash-attention
15-flash-attention: Pulling from kairin/001
Digest: sha256:85f4ca8704d060fbf16a55ca0ab04f8659ed1f9e4c216cc1400ca04434f80969
Status: Image is up to date for kairin/001:15-flash-attention
docker.io/kairin/001:15-flash-attention
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:15-flash-attention exists locally...
Image kairin/001:15-flash-attention verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:15-flash-attention
Processing numbered directory: build/16-stable-diffusion
Generating fixed tag: kairin/001:16-stable-diffusion
Using base image build arg: kairin/001:15-flash-attention
--------------------------------------------------
Building image from folder: build/16-stable-diffusion
Image Name: 16-stable-diffusion
Platform: linux/arm64
Tag: kairin/001:16-stable-diffusion
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:16-stable-diffusion --build-arg BASE_IMAGE=kairin/001:15-flash-attention --push build/16-stable-diffusion
[+] Building 3.2s (5/5) FINISHED                                                                                                                                                               docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 3.17kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:15-flash-attention                                                                                                                                                  0.8s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => CACHED [1/2] FROM docker.io/kairin/001:15-flash-attention@sha256:85f4ca8704d060fbf16a55ca0ab04f8659ed1f9e4c216cc1400ca04434f80969                                                                                     0.0s
 => => resolve docker.io/kairin/001:15-flash-attention@sha256:85f4ca8704d060fbf16a55ca0ab04f8659ed1f9e4c216cc1400ca04434f80969                                                                                            0.0s
 => ERROR [2/2] RUN set -ex     && pip3 install --no-cache-dir         diffusers==0.24.0         clip==1.0         kornia==0.7.0         taming-transformers==0.0.1         invisible-watermark==0.2.0         einops==0  2.1s
------                                                                                                                                                                                                                         
 > [2/2] RUN set -ex     && pip3 install --no-cache-dir         diffusers==0.24.0         clip==1.0         kornia==0.7.0         taming-transformers==0.0.1         invisible-watermark==0.2.0         einops==0.7.0         pandas==2.1.1         scipy==1.11.3         && PYTHON_DIST_PACKAGES=$(python3 -c 'import sys; print(f"/usr/local/lib/python{sys.version_info.major}.{sys.version_info.minor}/dist-packages")')     && wget https://raw.githubusercontent.com/CompVis/taming-transformers/master/taming/modules/vqvae/quantize.py -O $PYTHON_DIST_PACKAGES/taming/modules/vqvae/quantize.py         && rm -rf /opt/stable-diffusion /opt/stable-diffusion-optimized         && git clone --depth=1 https://github.com/CompVis/stable-diffusion /opt/stable-diffusion     && git clone --depth=1 https://github.com/basujindal/stable-diffusion /opt/stable-diffusion-optimized     && cp -r /opt/stable-diffusion-optimized/optimizedSD /opt/stable-diffusion/     && rm -rf /opt/stable-diffusion-optimized         && sed -i         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g'         -e 's|@rank_zero_only||g'         /opt/stable-diffusion/ldm/models/diffusion/ddpm.py     && sed -i         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g'         -e 's|@rank_zero_only||g'         /opt/stable-diffusion/optimizedSD/ddpm.py         && mkdir -p /data/models/diffusers     && mkdir -p /data/images/stable-diffusion         && echo "# Check for Stable Diffusion packages" >> /tmp/sd_checks.sh     && echo "check_python_pkg diffusers" >> /tmp/sd_checks.sh     && echo "check_dir /opt/stable-diffusion 'Stable Diffusion'" >> /tmp/sd_checks.sh     && cat /tmp/sd_checks.sh >> /opt/list_app_checks.sh         && rm -rf /root/.cache/pip     && find /opt/stable-diffusion -name ".git" -type d -exec rm -rf {} +     && rm -f /tmp/sd_checks.sh:
0.136 + pip3 install --no-cache-dir diffusers==0.24.0 clip==1.0 kornia==0.7.0 taming-transformers==0.0.1 invisible-watermark==0.2.0 einops==0.7.0 pandas==2.1.1 scipy==1.11.3
0.839 Using pip 25.0.1 from /opt/venv/lib/python3.12/site-packages/pip (python 3.12)
1.207 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/dill-0.3.9-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.208 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/looseversion-1.3.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.208 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_utilities-0.14.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.209 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/lightning_thunder-0.2.2.dev0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.209 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/opt_einsum-3.4.0-py3.12.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.210 DEPRECATION: Loading egg at /usr/local/lib/python3.12/dist-packages/nvfuser-0.2.26a0+c5e1555-py3.12-linux-aarch64.egg is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to use pip for package installation. Discussion can be found at https://github.com/pypa/pip/issues/12330
1.448 Collecting diffusers==0.24.0
1.449   Obtaining dependency information for diffusers==0.24.0 from https://files.pythonhosted.org/packages/dc/92/b17949ff6b634bfb93e12ff8753288d6c59edf4366cc5c501377e6373e0c/diffusers-0.24.0-py3-none-any.whl.metadata
1.617   Downloading diffusers-0.24.0-py3-none-any.whl.metadata (18 kB)
1.912 ERROR: Could not find a version that satisfies the requirement clip==1.0 (from versions: 0.0.1, 0.1.0, 0.2.0)
1.912 ERROR: No matching distribution found for clip==1.0
------

 1 warning found (use docker --debug to expand):
 - UndefinedVar: Usage of undefined variable '$PYTHONPATH' (line 71)
Dockerfile:20
--------------------
  19 |     # Install dependencies and set up Stable Diffusion repositories
  20 | >>> RUN set -ex \
  21 | >>>     # Install Python packages with version pinning \
  22 | >>>     && pip3 install --no-cache-dir \
  23 | >>>         diffusers==0.24.0 \
  24 | >>>         clip==1.0 \
  25 | >>>         kornia==0.7.0 \
  26 | >>>         taming-transformers==0.0.1 \
  27 | >>>         invisible-watermark==0.2.0 \
  28 | >>>         einops==0.7.0 \
  29 | >>>         pandas==2.1.1 \
  30 | >>>         scipy==1.11.3 \
  31 | >>>     \
  32 | >>>     # Get Python dist-packages path \
  33 | >>>     && PYTHON_DIST_PACKAGES=$(python3 -c 'import sys; print(f"/usr/local/lib/python{sys.version_info.major}.{sys.version_info.minor}/dist-packages")') \
  34 | >>>     && wget https://raw.githubusercontent.com/CompVis/taming-transformers/master/taming/modules/vqvae/quantize.py -O $PYTHON_DIST_PACKAGES/taming/modules/vqvae/quantize.py \
  35 | >>>     \
  36 | >>>     # Clean before cloning \
  37 | >>>     && rm -rf /opt/stable-diffusion /opt/stable-diffusion-optimized \
  38 | >>>     \
  39 | >>>     # Clone repositories \
  40 | >>>     && git clone --depth=1 https://github.com/CompVis/stable-diffusion /opt/stable-diffusion \
  41 | >>>     && git clone --depth=1 https://github.com/basujindal/stable-diffusion /opt/stable-diffusion-optimized \
  42 | >>>     && cp -r /opt/stable-diffusion-optimized/optimizedSD /opt/stable-diffusion/ \
  43 | >>>     && rm -rf /opt/stable-diffusion-optimized \
  44 | >>>     \
  45 | >>>     # Apply fixes \
  46 | >>>     && sed -i \
  47 | >>>         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g' \
  48 | >>>         -e 's|@rank_zero_only||g' \
  49 | >>>         /opt/stable-diffusion/ldm/models/diffusion/ddpm.py \
  50 | >>>     && sed -i \
  51 | >>>         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g' \
  52 | >>>         -e 's|@rank_zero_only||g' \
  53 | >>>         /opt/stable-diffusion/optimizedSD/ddpm.py \
  54 | >>>     \
  55 | >>>     # Create directories \
  56 | >>>     && mkdir -p /data/models/diffusers \
  57 | >>>     && mkdir -p /data/images/stable-diffusion \
  58 | >>>     \
  59 | >>>     # Add verification checks \
  60 | >>>     && echo "# Check for Stable Diffusion packages" >> /tmp/sd_checks.sh \
  61 | >>>     && echo "check_python_pkg diffusers" >> /tmp/sd_checks.sh \
  62 | >>>     && echo "check_dir /opt/stable-diffusion 'Stable Diffusion'" >> /tmp/sd_checks.sh \
  63 | >>>     && cat /tmp/sd_checks.sh >> /opt/list_app_checks.sh \
  64 | >>>     \
  65 | >>>     # Cleanup \
  66 | >>>     && rm -rf /root/.cache/pip \
  67 | >>>     && find /opt/stable-diffusion -name ".git" -type d -exec rm -rf {} + \
  68 | >>>     && rm -f /tmp/sd_checks.sh
  69 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c set -ex     && pip3 install --no-cache-dir         diffusers==0.24.0         clip==1.0         kornia==0.7.0         taming-transformers==0.0.1         invisible-watermark==0.2.0         einops==0.7.0         pandas==2.1.1         scipy==1.11.3         && PYTHON_DIST_PACKAGES=$(python3 -c 'import sys; print(f\"/usr/local/lib/python{sys.version_info.major}.{sys.version_info.minor}/dist-packages\")')     && wget https://raw.githubusercontent.com/CompVis/taming-transformers/master/taming/modules/vqvae/quantize.py -O $PYTHON_DIST_PACKAGES/taming/modules/vqvae/quantize.py         && rm -rf /opt/stable-diffusion /opt/stable-diffusion-optimized         && git clone --depth=1 https://github.com/CompVis/stable-diffusion /opt/stable-diffusion     && git clone --depth=1 https://github.com/basujindal/stable-diffusion /opt/stable-diffusion-optimized     && cp -r /opt/stable-diffusion-optimized/optimizedSD /opt/stable-diffusion/     && rm -rf /opt/stable-diffusion-optimized         && sed -i         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g'         -e 's|@rank_zero_only||g'         /opt/stable-diffusion/ldm/models/diffusion/ddpm.py     && sed -i         -e 's|from pytorch_lightning.utilities.distributed|#from pytorch_lightning.utilities.distributed|g'         -e 's|@rank_zero_only||g'         /opt/stable-diffusion/optimizedSD/ddpm.py         && mkdir -p /data/models/diffusers     && mkdir -p /data/images/stable-diffusion         && echo \"# Check for Stable Diffusion packages\" >> /tmp/sd_checks.sh     && echo \"check_python_pkg diffusers\" >> /tmp/sd_checks.sh     && echo \"check_dir /opt/stable-diffusion 'Stable Diffusion'\" >> /tmp/sd_checks.sh     && cat /tmp/sd_checks.sh >> /opt/list_app_checks.sh         && rm -rf /root/.cache/pip     && find /opt/stable-diffusion -name \".git\" -type d -exec rm -rf {} +     && rm -f /tmp/sd_checks.sh" did not complete successfully: exit code: 1
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:16-stable-diffusion
Error response from daemon: manifest for kairin/001:16-stable-diffusion not found: manifest unknown: manifest unknown
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:16-stable-diffusion exists locally...
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Error: Image kairin/001:16-stable-diffusion NOT found locally immediately after successful 'docker pull'.
This indicates a potential issue with the Docker daemon or buildx driver.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Build, push or pull failed for build/16-stable-diffusion. Subsequent dependent builds might fail.
Build process for build/16-stable-diffusion exited with code 1
Continuing with next build...
Processing numbered directory: build/17-stable-diffusion-webui
Generating fixed tag: kairin/001:17-stable-diffusion-webui
Using base image build arg: kairin/001:15-flash-attention
--------------------------------------------------
Building image from folder: build/17-stable-diffusion-webui
Image Name: 17-stable-diffusion-webui
Platform: linux/arm64
Tag: kairin/001:17-stable-diffusion-webui
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:17-stable-diffusion-webui --build-arg BASE_IMAGE=kairin/001:15-flash-attention --push build/17-stable-diffusion-webui
[+] Building 405.5s (8/8) FINISHED                                                                                                                                                             docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 8.20kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:15-flash-attention                                                                                                                                                  0.8s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => CACHED [1/3] FROM docker.io/kairin/001:15-flash-attention@sha256:85f4ca8704d060fbf16a55ca0ab04f8659ed1f9e4c216cc1400ca04434f80969                                                                                     0.0s
 => => resolve docker.io/kairin/001:15-flash-attention@sha256:85f4ca8704d060fbf16a55ca0ab04f8659ed1f9e4c216cc1400ca04434f80969                                                                                            0.0s
 => [2/3] RUN set -ex     && L4T_VERSION=$(cat /etc/nv_tegra_release | grep -o 'R[0-9]\+.[0-9]\+.[0-9]\+' | sed 's/R//')     && L4T_MAJOR=$(echo $L4T_VERSION | cut -d. -f1)     && if [ "$L4T_MAJOR" -lt 36 ]; then    353.9s
 => [3/3] RUN mkdir -p /data/models/stable-diffusion                                                                                                                                                                      0.6s 
 => exporting to image                                                                                                                                                                                                   49.9s 
 => => exporting layers                                                                                                                                                                                                  23.1s 
 => => exporting manifest sha256:2101f26e04602ccc7e7cc3c5282dee8b6a87027f098de0078e0c96c6fe2b7a50                                                                                                                         0.0s 
 => => exporting config sha256:413ff53a6329b0ab1c5ec2016d30524e4d506b6308daa141d7621284fa49b73d                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:910caa30db6e4772c1c08adcf43959450f7a94190bd7014c244a48678d5db36e                                                                                                             0.0s 
 => => exporting manifest list sha256:8679f1cbaeb1a76927e8734c370d59ffb2d7ef2b1e543b6d574c621922ee4ad4                                                                                                                    0.0s
 => => pushing layers                                                                                                                                                                                                    23.3s
 => => pushing manifest for docker.io/kairin/001:17-stable-diffusion-webui@sha256:8679f1cbaeb1a76927e8734c370d59ffb2d7ef2b1e543b6d574c621922ee4ad4                                                                        3.3s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:17-stable-diffusion-webui
17-stable-diffusion-webui: Pulling from kairin/001
5b17151e9710: Already exists 
6055d2b1b566: Already exists 
3318952e176b: Already exists 
5cc84ac41104: Already exists 
38a09ab6290f: Already exists 
db11526ede66: Already exists 
554ccab6c75a: Already exists 
4368ccd58758: Already exists 
803dec0438f4: Already exists 
162c233071b3: Already exists 
661c52cc55a2: Already exists 
0a884d0d3128: Already exists 
aa6970acc195: Already exists 
aca565c68a85: Already exists 
6cb43d1d64ac: Already exists 
4f4fb700ef54: Already exists 
327fd7eaf4cd: Already exists 
92f82ad85783: Already exists 
88ca70cf02a1: Already exists 
2aeb586ef0e6: Already exists 
05450796e66d: Already exists 
b37f28190bc6: Already exists 
29fcf67f0d1a: Already exists 
a3d31621af25: Already exists 
216e89ddf314: Already exists 
4f4fb700ef54: Already exists 
af531eac70fd: Already exists 
34f20df2a26f: Already exists 
faa7cc112497: Already exists 
dc79c5ab374d: Already exists 
f1bbedd0bd9a: Already exists 
923cd347b4e8: Already exists 
e4666a77ed22: Already exists 
7bb2afd7aa3b: Already exists 
38ed77ec5a81: Already exists 
31e8e313caa0: Already exists 
c7357eb29fd3: Already exists 
34df33129d81: Already exists 
0a630901dd14: Already exists 
cbb0528e563f: Already exists 
ae91864c4169: Already exists 
ae661c59625f: Already exists 
41a6970df420: Already exists 
45e143983e89: Already exists 
a55bc3fb4368: Already exists 
4cf1bf30d30d: Already exists 
c109a0d2c7b3: Already exists 
03e5829ed5dc: Already exists 
3ebedb601ae8: Already exists 
e4352ed84c6c: Already exists 
3634ce459570: Already exists 
c98c5c531426: Already exists 
2b2a596158d6: Already exists 
226e18013db7: Already exists 
1037cadc5e48: Already exists 
c824270006e3: Already exists 
92f1b0416e4c: Already exists 
e2183b3fa23d: Already exists 
202cc1970bd7: Already exists 
0ded329a967d: Already exists 
87d17e04a1fb: Already exists 
15470069d569: Already exists 
0e2f94e21a78: Already exists 
eb4b4b3eea83: Already exists 
c8085640195f: Already exists 
14a28f1726f4: Already exists 
ee98991b0d47: Already exists 
c18775467860: Already exists 
aeeed8b52e19: Already exists 
8694196a844b: Already exists 
7d3d72bb8a91: Already exists 
27c755304502: Already exists 
a6d9f33956a9: Already exists 
eeb295869640: Already exists 
8621f86e1c9b: Already exists 
9ad1b1854bcd: Already exists 
573f53b188ab: Already exists 
68eb8627d398: Already exists 
fd310aaf48d9: Already exists 
b97758516ddf: Already exists 
17a0107fc232: Already exists 
83431a4bc910: Already exists 
fc113229c916: Already exists 
f30b7a7e0615: Already exists 
3d193aa6b31a: Already exists 
f5deca51cf69: Already exists 
60f0b0fd8e99: Already exists 
69da9a3dfdcb: Pull complete 
294d2300edb8: Pull complete 
Digest: sha256:8679f1cbaeb1a76927e8734c370d59ffb2d7ef2b1e543b6d574c621922ee4ad4
Status: Downloaded newer image for kairin/001:17-stable-diffusion-webui
docker.io/kairin/001:17-stable-diffusion-webui
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:17-stable-diffusion-webui exists locally...
Image kairin/001:17-stable-diffusion-webui verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:17-stable-diffusion-webui
Processing numbered directory: build/18-comfyui
Generating fixed tag: kairin/001:18-comfyui
Using base image build arg: kairin/001:17-stable-diffusion-webui
--------------------------------------------------
Building image from folder: build/18-comfyui
Image Name: 18-comfyui
Platform: linux/arm64
Tag: kairin/001:18-comfyui
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:18-comfyui --build-arg BASE_IMAGE=kairin/001:17-stable-diffusion-webui --push build/18-comfyui
[+] Building 99.4s (12/12) FINISHED                                                                                                                                                            docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 3.47kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:17-stable-diffusion-webui                                                                                                                                           1.7s
 => [auth] kairin/001:pull token for registry-1.docker.io                                                                                                                                                                 0.0s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/5] FROM docker.io/kairin/001:17-stable-diffusion-webui@sha256:8679f1cbaeb1a76927e8734c370d59ffb2d7ef2b1e543b6d574c621922ee4ad4                                                                                     1.0s
 => => resolve docker.io/kairin/001:17-stable-diffusion-webui@sha256:8679f1cbaeb1a76927e8734c370d59ffb2d7ef2b1e543b6d574c621922ee4ad4                                                                                     0.0s
 => [internal] load build context                                                                                                                                                                                         0.0s
 => => transferring context: 148B                                                                                                                                                                                         0.0s
 => [2/5] COPY workflow /opt/ComfyUI/workflow                                                                                                                                                                             0.4s
 => [3/5] COPY extra /opt/ComfyUI/extra                                                                                                                                                                                   0.1s
 => [4/5] RUN set -ex     && rm -rf /opt/ComfyUI     && mkdir -p /opt/ComfyUI     && cd /opt         && git clone --depth=1 https://github.com/comfyanonymous/ComfyUI.git /opt/ComfyUI     && cd /opt/ComfyUI     && pi  36.8s
 => [5/5] WORKDIR /opt/ComfyUI                                                                                                                                                                                            0.3s 
 => exporting to image                                                                                                                                                                                                   58.9s 
 => => exporting layers                                                                                                                                                                                                  28.8s 
 => => exporting manifest sha256:776dde31d526ac0d372a423fea980e3d862bfe296f22f14d3671e235e194f812                                                                                                                         0.0s 
 => => exporting config sha256:b976e71e027bd933bc4e2d0ff350dd94eb57530193d72b2308305d781e604a88                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:0371a776bacc9cf77d9a793529816cd3727d7f5b6bc2267f4e3749be1ce226be                                                                                                             0.0s 
 => => exporting manifest list sha256:63bfb127ff6fddb7da74b60ded639261de72705fbc98312910f75c9a65349211                                                                                                                    0.0s
 => => pushing layers                                                                                                                                                                                                    26.6s
 => => pushing manifest for docker.io/kairin/001:18-comfyui@sha256:63bfb127ff6fddb7da74b60ded639261de72705fbc98312910f75c9a65349211                                                                                       3.3s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:18-comfyui
18-comfyui: Pulling from kairin/001
5b17151e9710: Already exists 
6055d2b1b566: Already exists 
3318952e176b: Already exists 
5cc84ac41104: Already exists 
38a09ab6290f: Already exists 
db11526ede66: Already exists 
554ccab6c75a: Already exists 
4368ccd58758: Already exists 
803dec0438f4: Already exists 
162c233071b3: Already exists 
661c52cc55a2: Already exists 
0a884d0d3128: Already exists 
aa6970acc195: Already exists 
aca565c68a85: Already exists 
6cb43d1d64ac: Already exists 
4f4fb700ef54: Already exists 
327fd7eaf4cd: Already exists 
92f82ad85783: Already exists 
88ca70cf02a1: Already exists 
2aeb586ef0e6: Already exists 
05450796e66d: Already exists 
b37f28190bc6: Already exists 
29fcf67f0d1a: Already exists 
a3d31621af25: Already exists 
216e89ddf314: Already exists 
4f4fb700ef54: Already exists 
af531eac70fd: Already exists 
34f20df2a26f: Already exists 
faa7cc112497: Already exists 
dc79c5ab374d: Already exists 
4f4fb700ef54: Pull complete 
923cd347b4e8: Already exists 
e4666a77ed22: Already exists 
7bb2afd7aa3b: Already exists 
38ed77ec5a81: Already exists 
31e8e313caa0: Already exists 
c7357eb29fd3: Already exists 
34df33129d81: Already exists 
0a630901dd14: Already exists 
cbb0528e563f: Already exists 
ae91864c4169: Already exists 
ae661c59625f: Already exists 
41a6970df420: Already exists 
45e143983e89: Already exists 
a55bc3fb4368: Already exists 
4cf1bf30d30d: Already exists 
c109a0d2c7b3: Already exists 
03e5829ed5dc: Already exists 
3ebedb601ae8: Already exists 
e4352ed84c6c: Already exists 
3634ce459570: Already exists 
c98c5c531426: Already exists 
2b2a596158d6: Already exists 
226e18013db7: Already exists 
1037cadc5e48: Already exists 
c824270006e3: Already exists 
92f1b0416e4c: Already exists 
e2183b3fa23d: Already exists 
202cc1970bd7: Already exists 
0ded329a967d: Already exists 
87d17e04a1fb: Already exists 
15470069d569: Already exists 
0e2f94e21a78: Already exists 
eb4b4b3eea83: Already exists 
c8085640195f: Already exists 
14a28f1726f4: Already exists 
ee98991b0d47: Already exists 
c18775467860: Already exists 
aeeed8b52e19: Already exists 
8694196a844b: Already exists 
7d3d72bb8a91: Already exists 
27c755304502: Already exists 
a6d9f33956a9: Already exists 
eeb295869640: Already exists 
8621f86e1c9b: Already exists 
9ad1b1854bcd: Already exists 
573f53b188ab: Already exists 
68eb8627d398: Already exists 
fd310aaf48d9: Already exists 
b97758516ddf: Already exists 
17a0107fc232: Already exists 
83431a4bc910: Already exists 
fc113229c916: Already exists 
f30b7a7e0615: Already exists 
3d193aa6b31a: Already exists 
f5deca51cf69: Already exists 
60f0b0fd8e99: Already exists 
69da9a3dfdcb: Already exists 
294d2300edb8: Already exists 
e3ac9ccadd2f: Pull complete 
15b21462dee2: Pull complete 
882e4590f378: Pull complete 
Digest: sha256:63bfb127ff6fddb7da74b60ded639261de72705fbc98312910f75c9a65349211
Status: Downloaded newer image for kairin/001:18-comfyui
docker.io/kairin/001:18-comfyui
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:18-comfyui exists locally...
Image kairin/001:18-comfyui verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:18-comfyui
Processing numbered directory: build/19-bitsandbytes
Generating fixed tag: kairin/001:19-bitsandbytes
Using base image build arg: kairin/001:18-comfyui
--------------------------------------------------
Building image from folder: build/19-bitsandbytes
Image Name: 19-bitsandbytes
Platform: linux/arm64
Tag: kairin/001:19-bitsandbytes
Skip Intermediate Push/Pull: n
--------------------------------------------------
Using --push
Running: docker buildx build --no-cache --platform linux/arm64 -t kairin/001:19-bitsandbytes --build-arg BASE_IMAGE=kairin/001:18-comfyui --push build/19-bitsandbytes
[+] Building 702.8s (9/9) FINISHED                                                                                                                                                             docker-container:jetson-builder
 => [internal] load build definition from Dockerfile                                                                                                                                                                      0.0s
 => => transferring dockerfile: 2.56kB                                                                                                                                                                                    0.0s
 => [internal] load metadata for docker.io/kairin/001:18-comfyui                                                                                                                                                          0.9s
 => [internal] load .dockerignore                                                                                                                                                                                         0.0s
 => => transferring context: 2B                                                                                                                                                                                           0.0s
 => [1/4] FROM docker.io/kairin/001:18-comfyui@sha256:63bfb127ff6fddb7da74b60ded639261de72705fbc98312910f75c9a65349211                                                                                                    1.0s
 => => resolve docker.io/kairin/001:18-comfyui@sha256:63bfb127ff6fddb7da74b60ded639261de72705fbc98312910f75c9a65349211                                                                                                    0.1s
 => [2/4] RUN set -ex     && apt-get update     && apt-get install -y --no-install-recommends         python3-pip         python3-setuptools         git         cmake     && apt-get clean     && rm -rf /var/lib/apt/  11.4s
 => [3/4] RUN mkdir -p /tmp/wheels                                                                                                                                                                                        0.2s 
 => [4/4] RUN set -ex     && echo "### CUDA_INSTALLED_VERSION: 11.8"     && echo "### CUDA_MAKE_LIB: cuda11x"     && echo "Building bitsandbytes 0.45.4 from source"     && rm -rf /opt/bitsandbytes     && git clone   666.9s 
 => exporting to image                                                                                                                                                                                                   22.2s 
 => => exporting layers                                                                                                                                                                                                   6.2s 
 => => exporting manifest sha256:0f9a417e7139c2a1c7972e7b741b251a0036cf285d2217d8b1b38f9f9001f495                                                                                                                         0.0s 
 => => exporting config sha256:5018ecec5df06d2d70711cc7740530b4af30283face560c968e7fd3adbcfe799                                                                                                                           0.0s 
 => => exporting attestation manifest sha256:2de46b0084db6e4675f0876f9a57ced996e909404bef9f46d1704928fc800e01                                                                                                             0.0s 
 => => exporting manifest list sha256:57d4f41bfbc32b302312863d7848c4ef400f4d2de347e226047e95659e3fc903                                                                                                                    0.0s 
 => => pushing layers                                                                                                                                                                                                    12.8s
 => => pushing manifest for docker.io/kairin/001:19-bitsandbytes@sha256:57d4f41bfbc32b302312863d7848c4ef400f4d2de347e226047e95659e3fc903                                                                                  3.0s
 => [auth] kairin/001:pull,push token for registry-1.docker.io                                                                                                                                                            0.0s
./scripts/docker_utils.sh: line 158: [: missing `]'
Pulling built image: kairin/001:19-bitsandbytes
19-bitsandbytes: Pulling from kairin/001
5b17151e9710: Already exists 
6055d2b1b566: Already exists 
3318952e176b: Already exists 
5cc84ac41104: Already exists 
38a09ab6290f: Already exists 
db11526ede66: Already exists 
554ccab6c75a: Already exists 
4368ccd58758: Already exists 
803dec0438f4: Already exists 
162c233071b3: Already exists 
661c52cc55a2: Already exists 
0a884d0d3128: Already exists 
aa6970acc195: Already exists 
aca565c68a85: Already exists 
6cb43d1d64ac: Already exists 
4f4fb700ef54: Already exists 
327fd7eaf4cd: Already exists 
92f82ad85783: Already exists 
88ca70cf02a1: Already exists 
2aeb586ef0e6: Already exists 
05450796e66d: Already exists 
b37f28190bc6: Already exists 
29fcf67f0d1a: Already exists 
a3d31621af25: Already exists 
216e89ddf314: Already exists 
4f4fb700ef54: Already exists 
af531eac70fd: Already exists 
34f20df2a26f: Already exists 
faa7cc112497: Already exists 
dc79c5ab374d: Already exists 
4f4fb700ef54: Pulling fs layer 
4f4fb700ef54: Pull complete 
e4666a77ed22: Already exists 
7bb2afd7aa3b: Already exists 
38ed77ec5a81: Already exists 
31e8e313caa0: Already exists 
c7357eb29fd3: Already exists 
34df33129d81: Already exists 
0a630901dd14: Already exists 
cbb0528e563f: Already exists 
ae91864c4169: Already exists 
ae661c59625f: Already exists 
41a6970df420: Already exists 
45e143983e89: Already exists 
a55bc3fb4368: Already exists 
4cf1bf30d30d: Already exists 
c109a0d2c7b3: Already exists 
03e5829ed5dc: Already exists 
3ebedb601ae8: Already exists 
e4352ed84c6c: Already exists 
3634ce459570: Already exists 
c98c5c531426: Already exists 
2b2a596158d6: Already exists 
226e18013db7: Already exists 
1037cadc5e48: Already exists 
c824270006e3: Already exists 
92f1b0416e4c: Already exists 
e2183b3fa23d: Already exists 
202cc1970bd7: Already exists 
0ded329a967d: Already exists 
87d17e04a1fb: Already exists 
15470069d569: Already exists 
0e2f94e21a78: Already exists 
eb4b4b3eea83: Already exists 
c8085640195f: Already exists 
14a28f1726f4: Already exists 
ee98991b0d47: Already exists 
c18775467860: Already exists 
aeeed8b52e19: Already exists 
8694196a844b: Already exists 
7d3d72bb8a91: Already exists 
27c755304502: Already exists 
a6d9f33956a9: Already exists 
eeb295869640: Already exists 
8621f86e1c9b: Already exists 
9ad1b1854bcd: Already exists 
573f53b188ab: Already exists 
68eb8627d398: Already exists 
fd310aaf48d9: Already exists 
b97758516ddf: Already exists 
17a0107fc232: Already exists 
83431a4bc910: Already exists 
fc113229c916: Already exists 
f30b7a7e0615: Already exists 
3d193aa6b31a: Already exists 
f5deca51cf69: Already exists 
60f0b0fd8e99: Already exists 
69da9a3dfdcb: Already exists 
294d2300edb8: Already exists 
e3ac9ccadd2f: Already exists 
15b21462dee2: Already exists 
882e4590f378: Already exists 
1e20d907ca72: Pull complete 
Digest: sha256:57d4f41bfbc32b302312863d7848c4ef400f4d2de347e226047e95659e3fc903
Status: Downloaded newer image for kairin/001:19-bitsandbytes
docker.io/kairin/001:19-bitsandbytes
./scripts/docker_utils.sh: line 171: [: missing `]'
Verifying image kairin/001:19-bitsandbytes exists locally...
Image kairin/001:19-bitsandbytes verified locally.
Successfully built, pushed, and pulled numbered image: kairin/001:19-bitsandbytes
--- Building Other Directories ---
No non-numbered directories found in build.
--------------------------------------------------
Folder build process complete!
--- Verifying and Pulling All Attempted Images (if needed) ---
Skipping pre-tagging pull verification due to earlier build failures.
--------------------------------------------------
--- Creating Final Timestamped Tag ---
Skipping final timestamped tag creation due to previous errors.
--------------------------------------------------
Build, Push, Pull, and Tagging process complete!
Total images successfully built/pushed/pulled/verified: 19
Warning: One or more steps failed. See logs above.
--------------------------------------------------
(Image pulling and verification now happens during build process)
No final image tag recorded or build failed, skipping further operations.
--------------------------------------------------
--- Verifying all SUCCESSFULLY PROCESSED images exist locally ---
Checking 19 image(s) recorded as successful:
Verifying kairin/001:01-00-build-essential... OK
Verifying kairin/001:01-01-numpy... OK
Verifying kairin/001:02-bazel... OK
Verifying kairin/001:03-ninja... OK
Verifying kairin/001:04-python... OK
Verifying kairin/001:05-h5py... OK
Verifying kairin/001:06-rust... OK
Verifying kairin/001:07-protobuf_apt... OK
Verifying kairin/001:08-protobuf_cpp... OK
Verifying kairin/001:09-opencv... OK
Verifying kairin/001:10-onnx... OK
Verifying kairin/001:11-diffusers... OK
Verifying kairin/001:12-huggingface_hub... OK
Verifying kairin/001:13-transformers... OK
Verifying kairin/001:14-xformers... OK
Verifying kairin/001:15-flash-attention... OK
Verifying kairin/001:17-stable-diffusion-webui... OK
Verifying kairin/001:18-comfyui... OK
Verifying kairin/001:19-bitsandbytes... OK
All successfully processed images verified successfully locally during final check.
--------------------------------------------------
Script finished with one or more errors.
--------------------------------------------------

╭─░▒▓      /media/kkk/Apps/jetc/buildx  on    main *3 ▓▒░···············································································································░▒▓ 1 ✘  took 34m 59s    at 06:27:38   ▓▒░─╮
╰─                                                                                                                                              